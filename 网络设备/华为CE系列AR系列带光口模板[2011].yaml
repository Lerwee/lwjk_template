zabbix_export:
  version: '6.0'
  date: '2024-04-24T07:18:07Z'
  groups:
    - uuid: 9397477ac4614c8da379ea37c1c5b0e0
      name: 监控模板
    - uuid: 989d6a022aab491b8a20c2ee4be9c738
      name: 网络设备模板
  templates:
    - uuid: d2897e1c84134a08b59d37369804bd6d
      template: 'LW_Template SNMP Huawei Network with Optical General'
      name: '华为CE系列/AR系列带光口模板[2011]'
      groups:
        - name: 监控模板
        - name: 网络设备模板
      items:
        - uuid: fe0e78230659421bb6819bca78df497f
          name: 'ICMP 丢包率'
          type: SIMPLE
          key: 'icmppingloss[,2,,,]'
          delay: '60'
          history: 7d
          value_type: FLOAT
          units: '%'
          description: 'ICMP pingloss'
          tags:
            - tag: Application
              value: ICMP
        - uuid: 6f2f488fe0f640489a7a6f6e10683cb5
          name: 'ICMP 延时'
          type: SIMPLE
          key: 'icmppingsec[,2,,,]'
          delay: '60'
          history: 7d
          value_type: FLOAT
          units: ms
          description: 'ICMP pingsec'
          tags:
            - tag: Application
              value: ICMP
        - uuid: 856d1fb82edf4cd1aef0188f0220e16a
          name: 'ICMP ping状态'
          type: SIMPLE
          key: 'icmpping[,2,,,]'
          delay: '60'
          history: 7d
          description: 'ICMP ping'
          request_method: POST
          tags:
            - tag: Application
              value: ICMP
        - uuid: 54a17f404de14136a709ce31535ab5d1
          name: 端口数量
          type: SNMP_AGENT
          snmp_oid: 'IF-MIB::ifNumber.0'
          key: ifNumber
          delay: '3600'
          history: 7d
          description: 'The number of network interfaces (regardless of their current state) present on this system.'
          tags:
            - tag: Application
              value: 端口信息
        - uuid: 798e6ccf9645451d874775a6296d415a
          name: 'LW:LW_NETWORKDEVICES_HUAWEI'
          type: SNMP_AGENT
          snmp_oid: interfaces.ifTable.ifEntry.ifInOctets.1
          key: LW_NETWORKDEVICES_HUAWEI
          delay: '30'
          status: DISABLED
          description: '{"snmp":1}'
        - uuid: 91eb352de52d4214bd2e93d21ba85b21
          name: 'SNMP traps (fallback)'
          type: SNMP_TRAP
          key: snmptrap.fallback
          delay: '0'
          history: 7d
          trends: '0'
          value_type: LOG
          logtimefmt: 'hh:mm:sszyyyy/MM/dd'
          request_method: POST
          tags:
            - tag: Application
              value: 常规
        - uuid: 3251e30386bb45259fd6dfb0051ae55b
          name: 设备详细的联系方式
          type: SNMP_AGENT
          snmp_oid: 'SNMPv2-MIB::sysContact.0'
          key: sysContact
          delay: 1d
          history: 7d
          trends: '0'
          value_type: CHAR
          description: 'The textual identification of the contact person for this managed node, together with information on how to contact this person.  If no contact information is known, the value is the zero-length string.'
          inventory_link: CONTACT
          request_method: POST
          tags:
            - tag: Application
              value: 常规
        - uuid: 3b9eb9e3697145b4a011465a9d27efc7
          name: 设备描述
          type: SNMP_AGENT
          snmp_oid: 'SNMPv2-MIB::sysDescr.0'
          key: sysDescr
          delay: 1d
          history: 7d
          trends: '0'
          value_type: CHAR
          description: 'A textual description of the entity.  This value should include the full name and version identification of the system''s hardware type, software operating-system, and networking software.'
          inventory_link: HARDWARE
          request_method: POST
          tags:
            - tag: Application
              value: 常规
        - uuid: d1fb5dddceb34194a5e55140312c6028
          name: 设备位置
          type: SNMP_AGENT
          snmp_oid: 'SNMPv2-MIB::sysLocation.0'
          key: sysLocation
          delay: 1d
          history: 7d
          trends: '0'
          value_type: CHAR
          description: 'The physical location of this node (e.g., `telephone closet, 3rd floor'').  If the location is unknown, the value is the zero-length string.'
          inventory_link: LOCATION
          request_method: POST
          tags:
            - tag: Application
              value: 常规
        - uuid: 862a060e95634984bf0417e8d428f9a0
          name: 设备名称
          type: SNMP_AGENT
          snmp_oid: 'SNMPv2-MIB::sysName.0'
          key: sysName
          delay: 1d
          history: 7d
          trends: '0'
          value_type: CHAR
          description: 'An administratively-assigned name for this managed node. By convention, this is the node''s fully-qualified domain name.  If the name is unknown, the value is the zero-length string.'
          inventory_link: NAME
          request_method: POST
          tags:
            - tag: Application
              value: 常规
          triggers:
            - uuid: 7644a8cb8630435b8ae3c1bf2071aac5
              expression: '(last(/LW_Template SNMP Huawei Network with Optical General/sysName,#1)<>last(/LW_Template SNMP Huawei Network with Optical General/sysName,#2))>0'
              name: '[网络设备]{HOST.NAME}设备名称发生改变'
              priority: WARNING
              description: |
                (当前状态值为改变后的设备名称)
                设备名称发生改变
              manual_close: 'YES'
        - uuid: 59f7345eeca74c28a1f25dcdd5279ad8
          name: 设备运行时间
          type: SNMP_AGENT
          snmp_oid: 'SNMPv2-MIB::sysUpTime.0'
          key: sysUpTime
          history: 7d
          units: uptime
          description: 'The time since the network management portion of the system was last re-initialized.，该值在设备连续运行未超过300多天时可以当作设备运行时间，当超过300多天根据型号不同，改计数器会自动重置为0重新计算时间'
          preprocessing:
            - type: MULTIPLIER
              parameters:
                - '0.01'
          request_method: POST
          tags:
            - tag: Application
              value: 常规
          triggers:
            - uuid: 7e083014b78c4f96b9f53dc7244c54d8
              expression: 'nodata(/LW_Template SNMP Huawei Network with Optical General/sysUpTime,10m)=1'
              name: '[网络设备]{HOST.NAME}SNMP采集中断'
              priority: HIGH
              description: |
                状态值1为BMC运行时间
                需要检查SNMP团体名是否不对应，或网络设备不支持多进程请求，或网络拦截snmp协议等
              manual_close: 'YES'
              dependencies:
                - name: '[操作系统] {HOST.NAME}主采集服务器 Agent 无法采集到数据'
                  expression: 'nodata(/itops-server/agent.ping,2m)=1'
                  recovery_expression: 'count(/itops-server/zabbix[process,history syncer,avg,busy],10m,"lt","75")=10 and count(/itops-server/agent.ping,10m,"eq","1")=10'
                - name: '[网络设备]{HOST.NAME}失联,持续3分钟未响应'
                  expression: 'max(/LW_Template SNMP Huawei Network with Optical General/icmpping[,2,,,],3m)=0 and nodata(/LW_Template SNMP Huawei Network with Optical General/sysUpTime,3m)=1'
                  recovery_expression: 'min(/LW_Template SNMP Huawei Network with Optical General/icmpping[,2,,,],3m)=1 and nodata(/LW_Template SNMP Huawei Network with Optical General/sysUpTime,2m)=0'
      discovery_rules:
        - uuid: 3598f4bca5094463ad40238ab4214ff5
          name: 风扇2
          type: SNMP_AGENT
          snmp_oid: 'discovery[{#SNMPVALUE2},1.3.6.1.4.1.2011.2.23.1.9.1.1.1.1]'
          key: Fan2.23.1
          delay: '3600'
          lifetime: 1d
          item_prototypes:
            - uuid: bd348cc389c74919b1859dc41300f180
              name: '{#SNMPVALUE2},{#SNMPINDEX} (风扇状态)'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.4.1.2011.2.23.1.9.1.1.1.2.{#SNMPINDEX}'
              key: 'FanState[{#SNMPVALUE2},{#SNMPINDEX}]'
              delay: '180'
              valuemap:
                name: 华为风扇运行状态5.25.31
              tags:
                - tag: Application
                  value: 风扇
              trigger_prototypes:
                - uuid: 5efed9cef0c9476fb6bd1d30423260c1
                  expression: 'last(/LW_Template SNMP Huawei Network with Optical General/FanState[{#SNMPVALUE2},{#SNMPINDEX}])>1'
                  name: '[网络设备]{HOST.NAME}设备风扇{#SNMPVALUE2} 异常'
                  priority: HIGH
                  description: |
                    (状态值表示当前状态)
                    1⇒正常
                    2⇒异常
                  manual_close: 'YES'
        - uuid: 858f880c0f0d43ba9000b19b98ffd956
          name: 风扇5
          type: SNMP_AGENT
          snmp_oid: 'discovery[{#SNMPVALUE},1.3.6.1.4.1.2011.5.25.31.1.1.10.1.2]'
          key: Fan5.25.31
          delay: '3600'
          lifetime: 3d
          description: 5.25.31
          item_prototypes:
            - uuid: 82f7d23e50c1485ab18fe42a747ca4b3
              name: '{#SNMPINDEX} (风扇在位状态)'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.4.1.2011.5.25.31.1.1.10.1.6.{#SNMPINDEX}'
              key: 'FanPresent[{#SNMPINDEX}]'
              delay: '180'
              valuemap:
                name: 华为风扇在位状态5.25.31
              tags:
                - tag: Application
                  value: 风扇
              trigger_prototypes:
                - uuid: 8db797039c7348acb5054fb9a4a1003a
                  expression: 'last(/LW_Template SNMP Huawei Network with Optical General/FanPresent[{#SNMPINDEX}])>1'
                  name: '[网络设备]{HOST.NAME}设备风扇{#SNMPVALUE}不在位'
                  status: DISABLED
                  priority: HIGH
                  description: |
                    状态值表示：
                    1⇒在位
                    2⇒不在位
                  manual_close: 'YES'
            - uuid: 841ff7c9fe9f4184a94920e97ceace25
              name: '{#SNMPINDEX}  (风扇转速)'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.4.1.2011.5.25.31.1.1.10.1.5.{#SNMPINDEX}'
              key: 'FanRPM[{#SNMPINDEX}]'
              delay: '180'
              units: '(% or rpm)'
              tags:
                - tag: Application
                  value: 风扇
            - uuid: 7cc996fddd404186bb1174be2c60df2a
              name: '{#SNMPINDEX} (单板槽位号)'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.4.1.2011.5.25.31.1.1.10.1.1.{#SNMPINDEX}'
              key: 'FanSlot[{#SNMPINDEX}]'
              delay: '86400'
              tags:
                - tag: Application
                  value: 风扇
            - uuid: 31ac34cbd0ac408bbcee4aa01d6e37a4
              name: '{#SNMPINDEX} (风扇运行状态)'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.4.1.2011.5.25.31.1.1.10.1.7.{#SNMPINDEX}'
              key: 'FanState[{#SNMPINDEX}]'
              delay: '180'
              valuemap:
                name: 华为风扇运行状态5.25.31
              tags:
                - tag: Application
                  value: 风扇
              trigger_prototypes:
                - uuid: c927d5cc6fe340dd9f11acef560f3da1
                  expression: 'last(/LW_Template SNMP Huawei Network with Optical General/FanState[{#SNMPINDEX}])>1'
                  name: '[网络设备]{HOST.NAME}设备风扇{#SNMPVALUE} 异常'
                  priority: HIGH
                  description: |
                    状态值表示：
                    1⇒正常
                    2⇒异常
                  manual_close: 'YES'
        - uuid: bf1c019294024081b313863decb09baf
          name: '端口表 UP'
          type: SNMP_AGENT
          snmp_oid: 'discovery[{#SNMPVALUE},IF-MIB::ifName,{#SNMPOPEN},IF-MIB::ifOperStatus]'
          key: ifDescr
          delay: '3600'
          filter:
            evaltype: AND
            conditions:
              - macro: '{#SNMPOPEN}'
                value: (1|3)
                formulaid: A
              - macro: '{#SNMPVALUE}'
                value: '@Network interfaces for discovery'
                formulaid: B
          lifetime: 3d
          description: 端口表
          item_prototypes:
            - uuid: d7b89e2a01f749e8b78cc37aefec72c6
              name: '{#SNMPVALUE}（端口启用管理状态）'
              type: SNMP_AGENT
              snmp_oid: 'IF-MIB::ifAdminStatus.{#SNMPINDEX}'
              key: 'ifAdminStatus[{#SNMPVALUE}]'
              delay: 2m
              history: 7d
              tags:
                - tag: Application
                  value: 端口状态
            - uuid: 20c4c4a844374459ad60cf3cefb24e46
              name: '{#SNMPVALUE}（端口描述）'
              type: SNMP_AGENT
              snmp_oid: 'IF-MIB::ifAlias.{#SNMPINDEX}'
              key: 'ifAlias[{#SNMPVALUE}]'
              delay: 1d
              history: 7d
              trends: '0'
              value_type: CHAR
              description: 端口描述
              tags:
                - tag: Application
                  value: 端口信息
            - uuid: 587cff2b1769478c8decd53cd66bcf03
              name: '{#SNMPVALUE}（端口每秒接收速率）'
              type: SNMP_AGENT
              snmp_oid: 'IF-MIB::ifHCInOctets.{#SNMPINDEX}'
              key: 'ifHCInOctetsPersecond[{#SNMPVALUE}]'
              delay: 2m
              history: 7d
              units: bps
              description: 端口每秒接收速率
              preprocessing:
                - type: CHANGE_PER_SECOND
                  parameters:
                    - ''
                - type: MULTIPLIER
                  parameters:
                    - '8'
              tags:
                - tag: Application
                  value: 端口速率
            - uuid: 247b58f9360f44d584d6bca57d39fd19
              name: '{#SNMPVALUE}（端口接收总流量）(5分钟)'
              type: SNMP_AGENT
              snmp_oid: 'IF-MIB::ifHCInOctets.{#SNMPINDEX}'
              key: 'ifHCInOctets[{#SNMPVALUE}]'
              delay: 5m
              history: 7d
              status: DISABLED
              discover: NO_DISCOVER
              units: B
              preprocessing:
                - type: SIMPLE_CHANGE
                  parameters:
                    - ''
              tags:
                - tag: Application
                  value: 端口速率
            - uuid: bb9a674b41d24d36bb6fbf7f366d5d83
              name: '{#SNMPVALUE}（端口每秒发送速率）'
              type: SNMP_AGENT
              snmp_oid: 'IF-MIB::ifHCOutOctets.{#SNMPINDEX}'
              key: 'ifHCOutOctetsPersecond[{#SNMPVALUE}]'
              delay: 2m
              history: 7d
              units: bps
              description: |
                端口每秒发送速率
                .
              preprocessing:
                - type: CHANGE_PER_SECOND
                  parameters:
                    - ''
                - type: MULTIPLIER
                  parameters:
                    - '8'
              tags:
                - tag: Application
                  value: 端口速率
            - uuid: 992b1ab3c645441d96a5b73f4623990f
              name: '{#SNMPVALUE}（端口发送总流量）(5分钟)'
              type: SNMP_AGENT
              snmp_oid: 'IF-MIB::ifHCOutOctets.{#SNMPINDEX}'
              key: 'ifHCOutOctets[{#SNMPVALUE}]'
              delay: 5m
              history: 7d
              status: DISABLED
              discover: NO_DISCOVER
              units: B
              preprocessing:
                - type: SIMPLE_CHANGE
                  parameters:
                    - ''
              tags:
                - tag: Application
                  value: 端口速率
            - uuid: 527076859a674b4fa6dbd923734f405a
              name: '{#SNMPVALUE}（端口带宽）'
              type: SNMP_AGENT
              snmp_oid: 'IF-MIB::ifHighSpeed.{#SNMPINDEX}'
              key: 'ifHighSpeed[{#SNMPVALUE}]'
              delay: 5m
              history: 7d
              units: bps
              description: 端口带宽
              preprocessing:
                - type: MULTIPLIER
                  parameters:
                    - '1000000'
              tags:
                - tag: Application
                  value: 端口带宽
            - uuid: 42717bc3dd9f4c3b9ee5e09406b6cb7a
              name: '{#SNMPVALUE}（端口序号）'
              type: SNMP_AGENT
              snmp_oid: 'IF-MIB::ifIndex.{#SNMPINDEX}'
              key: 'ifIndex[{#SNMPVALUE}]'
              delay: 1d
              history: 7d
              description: 端口序号
              tags:
                - tag: Application
                  value: 端口信息
            - uuid: 33225fe92f67482888e257204674ab1d
              name: '{#SNMPVALUE}（端口每秒接收丢包数）'
              type: SNMP_AGENT
              snmp_oid: 'IF-MIB::ifInDiscards.{#SNMPINDEX}'
              key: 'ifInDiscards[{#SNMPVALUE}]'
              delay: 10m
              history: 7d
              description: 端口每秒接收丢包数
              preprocessing:
                - type: CHANGE_PER_SECOND
                  parameters:
                    - ''
              tags:
                - tag: Application
                  value: 端口错丢包
            - uuid: 3d5b7dc69d9d460fabc7dfaab524d5cd
              name: '{#SNMPVALUE}（端口每秒接收错误包数）'
              type: SNMP_AGENT
              snmp_oid: 'IF-MIB::ifInErrors.{#SNMPINDEX}'
              key: 'ifInErrors[{#SNMPVALUE}]'
              delay: 10m
              history: 7d
              description: 端口每秒接收错误包数
              preprocessing:
                - type: CHANGE_PER_SECOND
                  parameters:
                    - ''
              tags:
                - tag: Application
                  value: 端口错丢包
            - uuid: 42fa39221cfb4808b7d97e51554e535b
              name: '{#SNMPVALUE}（端口名称）'
              type: SNMP_AGENT
              snmp_oid: 'IF-MIB::ifName.{#SNMPINDEX}'
              key: 'ifName[{#SNMPVALUE}]'
              delay: 1d
              history: 7d
              trends: '0'
              value_type: CHAR
              description: 端口名称
              tags:
                - tag: Application
                  value: 端口信息
            - uuid: c420bf9d93c54a83a1f7e30e012315ea
              name: '{#SNMPVALUE}（端口物理连接状态）'
              type: SNMP_AGENT
              snmp_oid: 'IF-MIB::ifOperStatus.{#SNMPINDEX}'
              key: 'ifOperStatus[{#SNMPVALUE}]'
              delay: 2m
              history: 7d
              tags:
                - tag: Application
                  value: 端口状态
              trigger_prototypes:
                - uuid: 59dbff2f50684bd69b37cd89f0463ee2
                  expression: 'last(/LW_Template SNMP Huawei Network with Optical General/ifOperStatus[{#SNMPVALUE}])=2'
                  name: '[网络设备]{HOST.NAME}设备端口{#SNMPVALUE}处于DOWN状态'
                  priority: AVERAGE
                  description: |
                    状态值表示:
                    1⇒正常
                    2⇒关闭
                    {HOST.NAME}设备端口{#SNMPVALUE}状态不正常，可能连线松动、未启用、对端设备重启、端口损坏等
                  manual_close: 'YES'
            - uuid: a4a2e7152aaa40399d3f84f1e9ae5659
              name: '{#SNMPVALUE}（端口每秒发送丢包数）'
              type: SNMP_AGENT
              snmp_oid: 'IF-MIB::ifOutDiscards.{#SNMPINDEX}'
              key: 'ifOutDiscards[{#SNMPVALUE}]'
              delay: 10m
              history: 7d
              description: 端口每秒发送丢包数
              preprocessing:
                - type: CHANGE_PER_SECOND
                  parameters:
                    - ''
              tags:
                - tag: Application
                  value: 端口错丢包
            - uuid: 7a968e1099e4432ab833685c3ad044f6
              name: '{#SNMPVALUE}（端口每秒发送错误包数）'
              type: SNMP_AGENT
              snmp_oid: 'IF-MIB::ifOutErrors.{#SNMPINDEX}'
              key: 'ifOutErrors[{#SNMPVALUE}]'
              delay: 10m
              history: 7d
              description: 端口每秒发送错误包数
              preprocessing:
                - type: CHANGE_PER_SECOND
                  parameters:
                    - ''
              tags:
                - tag: Application
                  value: 端口错丢包
            - uuid: 7f3370db53b843779322b972e5b9058c
              name: '{#SNMPVALUE}（端口物理地址）'
              type: SNMP_AGENT
              snmp_oid: 'IF-MIB::ifPhysAddress.{#SNMPINDEX}'
              key: 'ifPhysAddress[{#SNMPVALUE}]'
              delay: 1d
              history: 7d
              trends: '0'
              value_type: CHAR
              description: 端口物理地址
              tags:
                - tag: Application
                  value: 端口信息
            - uuid: 316713f575d74b459d855e338a3e07cb
              name: '{#SNMPVALUE}（端口带宽接收利用率）'
              type: CALCULATED
              key: 'ifSpeedifHCInOctetsPersecond[{#SNMPVALUE}]'
              delay: 2m
              history: 7d
              units: '%'
              params: '100*last(//ifHCInOctetsPersecond[{#SNMPVALUE}])/last(//ifHighSpeed[{#SNMPVALUE}])'
              description: 端口带宽利用率
              tags:
                - tag: Application
                  value: 端口带宽
            - uuid: 09aa03e67c2c461c9571fd1ac2385a5d
              name: '{#SNMPVALUE}（端口带宽发送利用率）'
              type: CALCULATED
              key: 'ifSpeedifHCOutOctetsPersecond[{#SNMPVALUE}]'
              delay: 2m
              history: 7d
              units: '%'
              params: '100*last(//ifHCOutOctetsPersecond[{#SNMPVALUE}])/last(//ifHighSpeed[{#SNMPVALUE}])'
              description: 端口带宽利用率
              tags:
                - tag: Application
                  value: 端口带宽
            - uuid: 696e4bed69c64007bebff67f449f516a
              name: '{#SNMPVALUE}（端口类型）'
              type: SNMP_AGENT
              snmp_oid: 'IF-MIB::ifType.{#SNMPINDEX}'
              key: 'ifType[{#SNMPVALUE}]'
              delay: 1d
              history: 7d
              description: 端口类型
              tags:
                - tag: Application
                  value: 端口信息
          trigger_prototypes:
            - uuid: 5133f16fcb0b483fa282b1bd2ac2fdf9
              expression: 'last(/LW_Template SNMP Huawei Network with Optical General/ifSpeedifHCOutOctetsPersecond[{#SNMPVALUE}])>90 and last(/LW_Template SNMP Huawei Network with Optical General/ifHighSpeed[{#SNMPVALUE}])>0'
              name: '[网络设备]{HOST.NAME}设备端口{#SNMPVALUE}带宽发送利用率大于90%'
              priority: WARNING
              description: |
                (状态值表示当前利用率)
                {HOST.NAME}设备端口{#SNMPVALUE}带宽发送利用率大于90%
              manual_close: 'YES'
            - uuid: 5b03bad5738b4439a3964d74605e103c
              expression: 'last(/LW_Template SNMP Huawei Network with Optical General/ifSpeedifHCInOctetsPersecond[{#SNMPVALUE}])>90 and last(/LW_Template SNMP Huawei Network with Optical General/ifHighSpeed[{#SNMPVALUE}])>0'
              name: '[网络设备]{HOST.NAME}设备端口{#SNMPVALUE}带宽接收利用率大于90%'
              priority: WARNING
              description: |
                (状态值表示当前利用率)
                {HOST.NAME}设备端口{#SNMPVALUE}带宽接收利用率大于80%
              manual_close: 'YES'
          graph_prototypes:
            - uuid: 61f1f2c813c74b449acc5b79b39ef75e
              name: '网络端口 {#SNMPVALUE} 利用率'
              graph_items:
                - color: 2774A4
                  item:
                    host: 'LW_Template SNMP Huawei Network with Optical General'
                    key: 'ifSpeedifHCOutOctetsPersecond[{#SNMPVALUE}]'
                - sortorder: '1'
                  color: A54F10
                  item:
                    host: 'LW_Template SNMP Huawei Network with Optical General'
                    key: 'ifSpeedifHCInOctetsPersecond[{#SNMPVALUE}]'
            - uuid: 985c38249d664889b0d6aaf7beab3bde
              name: '网络端口 {#SNMPVALUE} 总流量'
              graph_items:
                - drawtype: GRADIENT_LINE
                  color: 00AA00
                  item:
                    host: 'LW_Template SNMP Huawei Network with Optical General'
                    key: 'ifHCInOctets[{#SNMPVALUE}]'
                - sortorder: '1'
                  drawtype: GRADIENT_LINE
                  color: 3333FF
                  item:
                    host: 'LW_Template SNMP Huawei Network with Optical General'
                    key: 'ifHCOutOctets[{#SNMPVALUE}]'
            - uuid: eb3be504607040c88b93bb568ef4e688
              name: '网络端口 {#SNMPVALUE} 速率'
              graph_items:
                - color: 2774A4
                  item:
                    host: 'LW_Template SNMP Huawei Network with Optical General'
                    key: 'ifHCInOctetsPersecond[{#SNMPVALUE}]'
                - sortorder: '1'
                  color: A54F10
                  item:
                    host: 'LW_Template SNMP Huawei Network with Optical General'
                    key: 'ifHCOutOctetsPersecond[{#SNMPVALUE}]'
        - uuid: 233cde88adac4b1c94f5c51014bd35ac
          name: '端口表 DOWN'
          type: SNMP_AGENT
          snmp_oid: 'discovery[{#SNMPVALUE2},IF-MIB::ifName,{#SNMPOPEN},IF-MIB::ifOperStatus]'
          key: ifDescr2
          delay: '3600'
          filter:
            evaltype: AND
            conditions:
              - macro: '{#SNMPOPEN}'
                value: (2)
                formulaid: A
              - macro: '{#SNMPVALUE2}'
                value: '@Network interfaces for discovery'
                formulaid: B
          lifetime: 0d
          description: 端口表
          item_prototypes:
            - uuid: d8a0a7a457da4e10ae3e80b1b53a55f5
              name: '{#SNMPVALUE2} （端口启用管理状态）'
              type: SNMP_AGENT
              snmp_oid: 'IF-MIB::ifAdminStatus.{#SNMPINDEX}'
              key: 'ifAdminStatus[{#SNMPVALUE2}]'
              delay: 2m
              tags:
                - tag: Application
                  value: 端口状态
            - uuid: 52ab48816c944063a788b5cd8304c0e4
              name: '{#SNMPVALUE2} （端口物理连接状态）'
              type: SNMP_AGENT
              snmp_oid: 'IF-MIB::ifOperStatus.{#SNMPINDEX}'
              key: 'ifOperStatus[{#SNMPVALUE2}]'
              delay: 2m
              tags:
                - tag: Application
                  value: 端口状态
        - uuid: 7ff3f84dc9714a69a41e6990c1ead771
          name: 主板模块5
          type: SNMP_AGENT
          snmp_oid: 'discovery[{#SNMPVALUE5},SNMPv2-SMI::mib-2.47.1.1.1.1.7,{#SNMPCLASS5},SNMPv2-SMI::mib-2.47.1.1.1.1.5,{#TEM5},1.3.6.1.4.1.2011.5.25.31.1.1.1.1.12]'
          key: Module5.25.31
          delay: '3600'
          filter:
            conditions:
              - macro: '{#SNMPCLASS5}'
                value: '9'
                formulaid: A
              - macro: '{#TEM5}'
                value: '^[^ ]'
                formulaid: B
          lifetime: 3d
          description: 5.25.31
          item_prototypes:
            - uuid: b8ee693b9fe348c782be137d6a0c4b35
              name: '{#SNMPVALUE5},{#SNMPINDEX} (CPU使用率最高阈值)'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.4.1.2011.5.25.31.1.1.1.1.6.{#SNMPINDEX}'
              key: 'CPUUsageThreshold[{#SNMPVALUE5},{#SNMPINDEX}]'
              delay: '86400'
              history: 7d
              units: '%'
              description: hwEntityCpuUsageThreshold
              tags:
                - tag: Application
                  value: CPU
            - uuid: 0cda06fefe464ce4b89d0eeb9c8d7e94
              name: '{#SNMPVALUE5},{#SNMPINDEX} (CPU使用率)'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.4.1.2011.5.25.31.1.1.1.1.5.{#SNMPINDEX}'
              key: 'CPUUsage[{#SNMPVALUE5},{#SNMPINDEX}]'
              delay: '180'
              history: 7d
              units: '%'
              description: hwEntityCpuUsage
              tags:
                - tag: Application
                  value: CPU
              trigger_prototypes:
                - uuid: 0651347221814337bcb3e3cf051d45dd
                  expression: 'last(/LW_Template SNMP Huawei Network with Optical General/CPUUsage[{#SNMPVALUE5},{#SNMPINDEX}])>80'
                  name: '[网络设备]{HOST.NAME}板卡[{#SNMPVALUE5}]CPU使用率平均3分钟高于80%'
                  priority: WARNING
                  description: |
                    (状态值表示当前使用率)
                    设备CPU使用率平均3分钟高于80%
                  manual_close: 'YES'
                  dependencies:
                    - name: '[网络设备]{HOST.NAME}板卡[{#SNMPVALUE5}]CPU使用率平均3分钟高于90%'
                      expression: 'last(/LW_Template SNMP Huawei Network with Optical General/CPUUsage[{#SNMPVALUE5},{#SNMPINDEX}])>90'
                - uuid: e12a634bebff4074b58f46845867a79f
                  expression: 'last(/LW_Template SNMP Huawei Network with Optical General/CPUUsage[{#SNMPVALUE5},{#SNMPINDEX}])>90'
                  name: '[网络设备]{HOST.NAME}板卡[{#SNMPVALUE5}]CPU使用率平均3分钟高于90%'
                  priority: HIGH
                  description: |
                    (状态值表示当前使用率)
                    设备CPU使用率平均3分钟高于90%
                  manual_close: 'YES'
            - uuid: c15eefa1b3384f5f9f66e3d6479354de
              name: '{#SNMPVALUE5},{#SNMPINDEX}  (厂商)'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.2.1.47.1.1.1.1.12.{#SNMPINDEX}'
              key: 'Manufacturer[{#SNMPVALUE5},{#SNMPINDEX}]'
              delay: '86400'
              history: 7d
              trends: '0'
              value_type: CHAR
              tags:
                - tag: Application
                  value: 主板信息
            - uuid: a435eb47839a4083bfc731875b038093
              name: '{#SNMPVALUE5},{#SNMPINDEX} (内存总大小)'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.4.1.2011.5.25.31.1.1.1.1.9.{#SNMPINDEX}'
              key: 'MemoryTotal[{#SNMPVALUE5},{#SNMPINDEX}]'
              delay: '86400'
              history: 7d
              units: B
              description: hwEntityMemSize
              tags:
                - tag: Application
                  value: 内存
            - uuid: 8c119088ad3f47058fa94e23f0a97d45
              name: '{#SNMPVALUE5},{#SNMPINDEX} (内存使用率最高阈值)'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.4.1.2011.5.25.31.1.1.1.1.8.{#SNMPINDEX}'
              key: 'MemoryUsageThreshold[{#SNMPVALUE5},{#SNMPINDEX}]'
              delay: '86400'
              history: 7d
              units: '%'
              description: hwEntityMemUsageThreshold
              tags:
                - tag: Application
                  value: 内存
            - uuid: 7fecb9a61e35487894f93a15df96f306
              name: '{#SNMPVALUE5},{#SNMPINDEX} (内存使用率)'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.4.1.2011.5.25.31.1.1.1.1.7.{#SNMPINDEX}'
              key: 'MemoryUsage[{#SNMPVALUE5},{#SNMPINDEX}]'
              delay: '180'
              history: 7d
              units: '%'
              description: hwEntityMemUsage
              tags:
                - tag: Application
                  value: 内存
              trigger_prototypes:
                - uuid: 4031251434c7437abb2c7b9537886c8f
                  expression: 'last(/LW_Template SNMP Huawei Network with Optical General/MemoryUsage[{#SNMPVALUE5},{#SNMPINDEX}])>80'
                  name: '[网络设备]{HOST.NAME}板卡[{#SNMPVALUE5}]内存使用率平均3分钟高于80%'
                  priority: WARNING
                  description: |
                    (状态值表示当前使用率)
                    设备内存使用率平均3分钟高于80%
                  manual_close: 'YES'
                  dependencies:
                    - name: '[网络设备]{HOST.NAME}板卡[{#SNMPVALUE5}]内存使用率平均3分钟高于90%'
                      expression: 'last(/LW_Template SNMP Huawei Network with Optical General/MemoryUsage[{#SNMPVALUE5},{#SNMPINDEX}])>90'
                - uuid: 62709776898c40239c04e4e78bb1b0ca
                  expression: 'last(/LW_Template SNMP Huawei Network with Optical General/MemoryUsage[{#SNMPVALUE5},{#SNMPINDEX}])>90'
                  name: '[网络设备]{HOST.NAME}板卡[{#SNMPVALUE5}]内存使用率平均3分钟高于90%'
                  priority: HIGH
                  description: |
                    (状态值表示当前使用率)
                    设备内存使用率平均3分钟高于90%
                  manual_close: 'YES'
            - uuid: 07940db935434391a0c1ccf16a47fc87
              name: '{#SNMPVALUE5},{#SNMPINDEX}  (型号)'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.2.1.47.1.1.1.1.13.{#SNMPINDEX}'
              key: 'Model[{#SNMPVALUE5},{#SNMPINDEX}]'
              delay: '86400'
              history: 7d
              trends: '0'
              value_type: CHAR
              tags:
                - tag: Application
                  value: 主板信息
            - uuid: 3e55db5869184ba08990db583831d7a8
              name: '{#SNMPVALUE5},{#SNMPINDEX}  (序列号)'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.2.1.47.1.1.1.1.11.{#SNMPINDEX}'
              key: 'Serial[{#SNMPVALUE5},{#SNMPINDEX}]'
              delay: '86400'
              history: 7d
              trends: '0'
              value_type: CHAR
              tags:
                - tag: Application
                  value: 主板信息
            - uuid: 6b5c54c113734b8da4c0b6f07f6f5d6a
              name: '{#SNMPVALUE5},{#SNMPINDEX} (当前温度)'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.4.1.2011.5.25.31.1.1.1.1.11.{#SNMPINDEX}'
              key: 'TemperatureBoard[{#SNMPVALUE5},{#SNMPINDEX}]'
              delay: '180'
              history: 7d
              units: °C
              description: hwEntityTemperature
              tags:
                - tag: Application
                  value: 温度
            - uuid: eb277f9f2a38467887a1db2692843565
              name: '{#SNMPVALUE5},{#SNMPINDEX} (温度最高阈值)'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.4.1.2011.5.25.31.1.1.1.1.12.{#SNMPINDEX}'
              key: 'TemperatureHighThresholdBoard[{#SNMPVALUE5},{#SNMPINDEX}]'
              delay: '86400'
              history: 7d
              units: °C
              description: hwEntityTemperatureThreshold
              tags:
                - tag: Application
                  value: 温度
            - uuid: a8249f24218c44a880cbf2221748d8c7
              name: '{#SNMPVALUE5},{#SNMPINDEX}  (软件版本)'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.2.1.47.1.1.1.1.10.{#SNMPINDEX}'
              key: 'Version[{#SNMPVALUE5},{#SNMPINDEX}]'
              delay: '86400'
              history: 7d
              trends: '0'
              value_type: CHAR
              tags:
                - tag: Application
                  value: 主板信息
            - uuid: bfeadd7739024b28855226298420ff2a
              name: '{#SNMPVALUE5},{#SNMPINDEX} (电压值)'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.4.1.2011.5.25.31.1.1.1.1.13.{#SNMPINDEX}'
              key: 'VoltageBoard[{#SNMPVALUE5},{#SNMPINDEX}]'
              delay: '180'
              history: 7d
              value_type: FLOAT
              units: V
              description: hwEntityVoltage
              preprocessing:
                - type: MULTIPLIER
                  parameters:
                    - '0.001'
              tags:
                - tag: Application
                  value: 电压
            - uuid: 8252fd429d8740258c4c4c39a89a91bb
              name: '{#SNMPVALUE5},{#SNMPINDEX} (电压最高阈值)'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.4.1.2011.5.25.31.1.1.1.1.15.{#SNMPINDEX}'
              key: 'VoltageHighThresholdBoard[{#SNMPVALUE5},{#SNMPINDEX}]'
              delay: '86400'
              history: 7d
              value_type: FLOAT
              units: V
              description: hwEntityVoltageHighThreshold
              preprocessing:
                - type: MULTIPLIER
                  parameters:
                    - '0.001'
              tags:
                - tag: Application
                  value: 电压
            - uuid: dd2d3c1681d346c0933382df21df86b6
              name: '{#SNMPVALUE5},{#SNMPINDEX} (电压最低阈值)'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.4.1.2011.5.25.31.1.1.1.1.14.{#SNMPINDEX}'
              key: 'VoltageLowThresholdBoard[{#SNMPVALUE5},{#SNMPINDEX}]'
              delay: '86400'
              history: 7d
              value_type: FLOAT
              units: V
              description: hwEntityVoltageLowThreshold
              preprocessing:
                - type: MULTIPLIER
                  parameters:
                    - '0.001'
              tags:
                - tag: Application
                  value: 电压
          trigger_prototypes:
            - uuid: d96671ce38c0457f96e0af50e0ed3afa
              expression: 'last(/LW_Template SNMP Huawei Network with Optical General/TemperatureBoard[{#SNMPVALUE5},{#SNMPINDEX}])>last(/LW_Template SNMP Huawei Network with Optical General/TemperatureHighThresholdBoard[{#SNMPVALUE5},{#SNMPINDEX}])>0'
              name: '[网络设备]{HOST.NAME}板卡[{#SNMPVALUE5}]温度过高，高于系统阈值'
              priority: HIGH
              description: |
                (状态值1表示当前温度)
                (状态值2表示温度阈值)
                设备温度过高，高于系统阈值
              manual_close: 'YES'
            - uuid: 985f6bc564044fa3a9854801cae847f4
              expression: 'last(/LW_Template SNMP Huawei Network with Optical General/VoltageBoard[{#SNMPVALUE5},{#SNMPINDEX}])<last(/LW_Template SNMP Huawei Network with Optical General/VoltageLowThresholdBoard[{#SNMPVALUE5},{#SNMPINDEX}])'
              name: '[网络设备]{HOST.NAME}板卡[{#SNMPVALUE5}]电压过低'
              priority: WARNING
              description: |
                (状态值1表示当前电压)
                (状态值2表示电压阈值)
                设备电压低于系统阀值
              manual_close: 'YES'
            - uuid: 643a1470b09743d7b4b319b0eb93f303
              expression: 'last(/LW_Template SNMP Huawei Network with Optical General/VoltageBoard[{#SNMPVALUE5},{#SNMPINDEX}])>last(/LW_Template SNMP Huawei Network with Optical General/VoltageHighThresholdBoard[{#SNMPVALUE5},{#SNMPINDEX}])'
              name: '[网络设备]{HOST.NAME}板卡[{#SNMPVALUE5}]电压过高'
              priority: WARNING
              description: |
                (状态值1表示当前电压)
                (状态值2表示电压阈值)
                设备电压高于系统阀值
              manual_close: 'YES'
          graph_prototypes:
            - uuid: 0ee7c8b430ed4284936edacc801747d4
              name: '{#SNMPINDEX}CPU/内存使用率'
              graph_items:
                - color: 1A7C11
                  item:
                    host: 'LW_Template SNMP Huawei Network with Optical General'
                    key: 'CPUUsage[{#SNMPVALUE5},{#SNMPINDEX}]'
                - sortorder: '1'
                  color: F63100
                  item:
                    host: 'LW_Template SNMP Huawei Network with Optical General'
                    key: 'MemoryUsage[{#SNMPVALUE5},{#SNMPINDEX}]'
            - uuid: bfb74ccc9fa047e4a7b151504b079d8a
              name: '{#SNMPINDEX}温度'
              graph_items:
                - color: 1A7C11
                  item:
                    host: 'LW_Template SNMP Huawei Network with Optical General'
                    key: 'TemperatureBoard[{#SNMPVALUE5},{#SNMPINDEX}]'
                - sortorder: '1'
                  color: F63100
                  item:
                    host: 'LW_Template SNMP Huawei Network with Optical General'
                    key: 'TemperatureHighThresholdBoard[{#SNMPVALUE5},{#SNMPINDEX}]'
            - uuid: 74a1027fc50249e495518a69444bcb31
              name: '{#SNMPINDEX}电压'
              graph_items:
                - color: 1A7C11
                  item:
                    host: 'LW_Template SNMP Huawei Network with Optical General'
                    key: 'VoltageBoard[{#SNMPVALUE5},{#SNMPINDEX}]'
                - sortorder: '1'
                  color: F63100
                  item:
                    host: 'LW_Template SNMP Huawei Network with Optical General'
                    key: 'VoltageHighThresholdBoard[{#SNMPVALUE5},{#SNMPINDEX}]'
                - sortorder: '2'
                  color: 2774A4
                  item:
                    host: 'LW_Template SNMP Huawei Network with Optical General'
                    key: 'VoltageLowThresholdBoard[{#SNMPVALUE5},{#SNMPINDEX}]'
        - uuid: ed3214e872b5460398a772c78b25189c
          name: 主板模块10
          type: SNMP_AGENT
          snmp_oid: 'discovery[{#SNMPVALUE10},SNMPv2-SMI::mib-2.47.1.1.1.1.7,{#SNMPCLASS10},SNMPv2-SMI::mib-2.47.1.1.1.1.5,{#TEM10},1.3.6.1.4.1.2011.10.2.6.1.1.1.1.13]'
          key: Module10.2.6
          delay: '3600'
          status: DISABLED
          filter:
            conditions:
              - macro: '{#SNMPCLASS10}'
                value: '9'
                formulaid: A
              - macro: '{#TEM10}'
                value: '^[^ ]'
                formulaid: B
          lifetime: 3d
          description: 10.2.6
          item_prototypes:
            - uuid: 8d8ffb1165a34be6a077c0b93dd372fb
              name: '{#SNMPVALUE10} (CPU使用率)'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.4.1.2011.10.2.6.1.1.1.1.6.{#SNMPINDEX}'
              key: 'CPUUsage[{#SNMPVALUE10}]'
              delay: '180'
              units: '%'
              tags:
                - tag: Application
                  value: CPU
              trigger_prototypes:
                - uuid: 6128493124a142d5a20cc5e9e917fc20
                  expression: 'avg(/LW_Template SNMP Huawei Network with Optical General/CPUUsage[{#SNMPVALUE10}],180s)>80'
                  name: '[网络设备]{HOST.NAME}板卡[{#SNMPVALUE10}]CPU使用率平均3分钟高于80%'
                  priority: WARNING
                  description: (状态值表示当前使用率)
                  manual_close: 'YES'
                  dependencies:
                    - name: '[网络设备]{HOST.NAME}板卡[{#SNMPVALUE10}]CPU使用率平均3分钟高于90%'
                      expression: 'avg(/LW_Template SNMP Huawei Network with Optical General/CPUUsage[{#SNMPVALUE10}],180s)>90'
                - uuid: 79430bae470a47a4a12f8e9a9cdc0ba8
                  expression: 'avg(/LW_Template SNMP Huawei Network with Optical General/CPUUsage[{#SNMPVALUE10}],180s)>90'
                  name: '[网络设备]{HOST.NAME}板卡[{#SNMPVALUE10}]CPU使用率平均3分钟高于90%'
                  priority: HIGH
                  description: (状态值表示当前使用率)
                  manual_close: 'YES'
            - uuid: 0944d99757394c43a7878b5558087745
              name: '{#SNMPVALUE10} (内存总大小)'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.4.1.2011.10.2.6.1.1.1.1.10.{#SNMPINDEX}'
              key: 'MemoryTotal[{#SNMPVALUE10}]'
              delay: '86400'
              units: B
              tags:
                - tag: Application
                  value: 内存
            - uuid: fcb429e49eef4e6b9fe81fa069adf567
              name: '{#SNMPVALUE10} (内存使用率)'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.4.1.2011.10.2.6.1.1.1.1.8.{#SNMPINDEX}'
              key: 'MemoryUsage[{#SNMPVALUE10}]'
              delay: '180'
              units: '%'
              tags:
                - tag: Application
                  value: 内存
              trigger_prototypes:
                - uuid: da5f07364a684d0798d0a70cba92687e
                  expression: 'avg(/LW_Template SNMP Huawei Network with Optical General/MemoryUsage[{#SNMPVALUE10}],180s)>80'
                  name: '[网络设备]{HOST.NAME}板卡[{#SNMPVALUE10}]内存使用率平均3分钟高于80%'
                  priority: WARNING
                  description: (状态值表示当前使用率)
                  manual_close: 'YES'
                  dependencies:
                    - name: '[网络设备]{HOST.NAME}板卡[{#SNMPVALUE10}]内存使用率平均3分钟高于90%'
                      expression: 'avg(/LW_Template SNMP Huawei Network with Optical General/MemoryUsage[{#SNMPVALUE10}],180s)>90'
                - uuid: 51bf55846f084a32bfeb534b65de88b4
                  expression: 'avg(/LW_Template SNMP Huawei Network with Optical General/MemoryUsage[{#SNMPVALUE10}],180s)>90'
                  name: '[网络设备]{HOST.NAME}板卡[{#SNMPVALUE10}]内存使用率平均3分钟高于90%'
                  priority: HIGH
                  description: (状态值表示当前使用率)
                  manual_close: 'YES'
            - uuid: 2a75643ae8f54b96a0c56c800a53d71a
              name: '{#SNMPVALUE10} (当前温度)'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.4.1.2011.10.2.6.1.1.1.1.12.{#SNMPINDEX}'
              key: 'TemperatureBoard[{#SNMPVALUE10}]'
              delay: '180'
              units: °C
              tags:
                - tag: Application
                  value: 温度
            - uuid: 88fb7f878196472690c26dc5a620e824
              name: '{#SNMPVALUE10} (温度最高阈值)'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.4.1.2011.10.2.6.1.1.1.1.13.{#SNMPINDEX}'
              key: 'TemperatureHighThresholdBoard[{#SNMPVALUE10}]'
              delay: '180'
              units: °C
              tags:
                - tag: Application
                  value: 温度
            - uuid: 93974b37aad2427f9b72be6aecebe211
              name: '{#SNMPVALUE10} (电压值)'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.4.1.2011.10.2.6.1.1.1.1.14.{#SNMPINDEX}'
              key: 'VoltageBoard[{#SNMPVALUE10}]'
              delay: '180'
              units: V
              preprocessing:
                - type: MULTIPLIER
                  parameters:
                    - '0.01'
              tags:
                - tag: Application
                  value: 电压
            - uuid: 6247ac63bd2946da8f0705c1aaa0f5e6
              name: '{#SNMPVALUE10} (电压最高阈值)'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.4.1.2011.10.2.6.1.1.1.1.16.{#SNMPINDEX}'
              key: 'VoltageHighThresholdBoard[{#SNMPVALUE10}]'
              delay: '86400'
              units: V
              preprocessing:
                - type: MULTIPLIER
                  parameters:
                    - '0.01'
              tags:
                - tag: Application
                  value: 电压
            - uuid: f8a90c4096ac4facb5d0bbb8d2070a97
              name: '{#SNMPVALUE10} (电压最低阈值)'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.4.1.2011.10.2.6.1.1.1.1.15.{#SNMPINDEX}'
              key: 'VoltageLowThresholdBoard[{#SNMPVALUE10}]'
              delay: '86400'
              units: V
              preprocessing:
                - type: MULTIPLIER
                  parameters:
                    - '0.01'
              tags:
                - tag: Application
                  value: 电压
        - uuid: 04cf2dc630084913b42dcfab47f83225
          name: 光模块
          type: SNMP_AGENT
          snmp_oid: 'discovery[{#SNMPVALUE},SNMPv2-SMI::mib-2.47.1.1.1.1.7,{#SNMPTEM},1.3.6.1.4.1.2011.5.25.31.1.1.3.1.5]'
          key: Optical
          delay: '3600'
          filter:
            conditions:
              - macro: '{#SNMPTEM}'
                value: '(^[1-9]$)|(^[0-9]{2}$)'
                formulaid: A
          lifetime: 3d
          item_prototypes:
            - uuid: 23a5e30e723949cbade8328753e89e1d
              name: 'Moudle/[{#SNMPVALUE}]:偏移电流'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.4.1.2011.5.25.31.1.1.3.1.7.{#SNMPINDEX}'
              key: 'TransceiverCurrent[{#SNMPVALUE}]'
              delay: '300'
              history: 7d
              value_type: FLOAT
              units: A
              preprocessing:
                - type: MULTIPLIER
                  parameters:
                    - '0.001'
              tags:
                - tag: Application
                  value: 光模块性能
            - uuid: d082d156b3d045229d114d0e5ae5b78b
              name: 'Moudle/[{#SNMPVALUE}]:传输距离'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.4.1.2011.5.25.31.1.1.3.1.3.{#SNMPINDEX}'
              key: 'TransceiverDistance[{#SNMPVALUE}]'
              delay: '86400'
              history: 7d
              value_type: FLOAT
              units: m
              tags:
                - tag: Application
                  value: 光模块信息
            - uuid: 1cf30143c6664e559a67d331bec09065
              name: 'Moudle/[{#SNMPVALUE}]:模式'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.4.1.2011.5.25.31.1.1.3.1.1.{#SNMPINDEX}'
              key: 'TransceiverMode[{#SNMPVALUE}]'
              delay: '86400'
              history: 7d
              valuemap:
                name: 华为光模块模式
              tags:
                - tag: Application
                  value: 光模块信息
            - uuid: fd221941e7584ca3b8b73baed4caaffc
              name: 'Moudle/[{#SNMPVALUE}]:收光功率最高阈值'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.4.1.2011.5.25.31.1.1.3.1.14.{#SNMPINDEX}'
              key: 'TransceiverRXHighThreshold[{#SNMPVALUE}]'
              delay: '86400'
              history: 7d
              value_type: FLOAT
              units: dbM
              description: 负值是以dBm为单位时出现的，负值表示光功率低于1mW，具体计算方法是XdBm=10log（xmW/1mW），功率以w为单位不会出现负值，以dbm为单位则可能出现负值，不是没有功率，而是指功率很低
              preprocessing:
                - type: MULTIPLIER
                  parameters:
                    - '0.01'
              tags:
                - tag: Application
                  value: 光模块信息
            - uuid: 1407ce05e3054a15bbb643eba05d9338
              name: 'Moudle/[{#SNMPVALUE}]:收光功率最低阈值'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.4.1.2011.5.25.31.1.1.3.1.13.{#SNMPINDEX}'
              key: 'TransceiverRXLowThreshold[{#SNMPVALUE}]'
              delay: '86400'
              history: 7d
              value_type: FLOAT
              units: dbM
              description: 负值是以dBm为单位时出现的，负值表示光功率低于1mW，具体计算方法是XdBm=10log（xmW/1mW），功率以w为单位不会出现负值，以dbm为单位则可能出现负值，不是没有功率，而是指功率很低
              preprocessing:
                - type: MULTIPLIER
                  parameters:
                    - '0.01'
              tags:
                - tag: Application
                  value: 光模块信息
            - uuid: f35409dff622472bb4330ffb1ebcf964
              name: 'Moudle/[{#SNMPVALUE}]:收光功率'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.4.1.2011.5.25.31.1.1.3.1.8.{#SNMPINDEX}'
              key: 'TransceiverRX[{#SNMPVALUE}]'
              delay: '300'
              history: 7d
              value_type: FLOAT
              units: dbM
              description: 负值是以dBm为单位时出现的，负值表示光功率低于1mW，具体计算方法是XdBm=10log（xmW/1mW），功率以w为单位不会出现负值，以dbm为单位则可能出现负值，不是没有功率，而是指功率很低
              preprocessing:
                - type: MULTIPLIER
                  parameters:
                    - '0.01'
              tags:
                - tag: Application
                  value: 光模块性能
            - uuid: c26128bc4d474311baad995b0f29e30e
              name: 'Moudle/[{#SNMPVALUE}]:序列号'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.4.1.2011.5.25.31.1.1.3.1.4.{#SNMPINDEX}'
              key: 'TransceiverSerial[{#SNMPVALUE}]'
              delay: '86400'
              history: 7d
              trends: '0'
              value_type: CHAR
              tags:
                - tag: Application
                  value: 光模块信息
            - uuid: 2a3ae4cf0c47441b9f4ea610b76f902c
              name: 'Moudle/[{#SNMPVALUE}]:温度'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.4.1.2011.5.25.31.1.1.3.1.5.{#SNMPINDEX}'
              key: 'TransceiverTemperature[{#SNMPVALUE}]'
              delay: '180'
              history: 7d
              units: ℃
              tags:
                - tag: Application
                  value: 光模块性能
            - uuid: faf37edefd7e49f08f75c2ff74ea813c
              name: 'Moudle/[{#SNMPVALUE}]:发光功率最高阈值'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.4.1.2011.5.25.31.1.1.3.1.16.{#SNMPINDEX}'
              key: 'TransceiverTXHighThreshold[{#SNMPVALUE}]'
              delay: '86400'
              history: 7d
              value_type: FLOAT
              units: dbM
              description: 负值是以dBm为单位时出现的，负值表示光功率低于1mW，具体计算方法是XdBm=10log（xmW/1mW），功率以w为单位不会出现负值，以dbm为单位则可能出现负值，不是没有功率，而是指功率很低
              preprocessing:
                - type: MULTIPLIER
                  parameters:
                    - '0.01'
              tags:
                - tag: Application
                  value: 光模块信息
            - uuid: 0d30fada876d494ead45a8103bd367a6
              name: 'Moudle/[{#SNMPVALUE}]:发光功率最低阈值'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.4.1.2011.5.25.31.1.1.3.1.15.{#SNMPINDEX}'
              key: 'TransceiverTXLowThreshold[{#SNMPVALUE}]'
              delay: '86400'
              history: 7d
              value_type: FLOAT
              units: dbM
              description: 负值是以dBm为单位时出现的，负值表示光功率低于1mW，具体计算方法是XdBm=10log（xmW/1mW），功率以w为单位不会出现负值，以dbm为单位则可能出现负值，不是没有功率，而是指功率很低
              preprocessing:
                - type: MULTIPLIER
                  parameters:
                    - '0.01'
              tags:
                - tag: Application
                  value: 光模块信息
            - uuid: faab9edf7d0e4c148634ab79a25bfb17
              name: 'Moudle/[{#SNMPVALUE}]:发光功率'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.4.1.2011.5.25.31.1.1.3.1.9.{#SNMPINDEX}'
              key: 'TransceiverTX[{#SNMPVALUE}]'
              delay: '300'
              history: 7d
              value_type: FLOAT
              units: dbM
              description: 负值是以dBm为单位时出现的，负值表示光功率低于1mW，具体计算方法是XdBm=10log（xmW/1mW），功率以w为单位不会出现负值，以dbm为单位则可能出现负值，不是没有功率，而是指功率很低
              preprocessing:
                - type: MULTIPLIER
                  parameters:
                    - '0.01'
              tags:
                - tag: Application
                  value: 光模块性能
            - uuid: 053dcd2302184fa2ab6036f4daaa57be
              name: 'Moudle/[{#SNMPVALUE}]:电压'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.4.1.2011.5.25.31.1.1.3.1.6.{#SNMPINDEX}'
              key: 'TransceiverVoltage[{#SNMPVALUE}]'
              delay: '180'
              history: 7d
              value_type: FLOAT
              units: V
              preprocessing:
                - type: MULTIPLIER
                  parameters:
                    - '0.001'
              tags:
                - tag: Application
                  value: 光模块性能
            - uuid: 1136ca49127c4348bad18a9bc1454577
              name: 'Moudle/[{#SNMPVALUE}]:波长'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.4.1.2011.5.25.31.1.1.3.1.2.{#SNMPINDEX}'
              key: 'TransceiverWaveLength[{#SNMPVALUE}]'
              delay: '86400'
              history: 7d
              value_type: FLOAT
              units: nm
              description: '1（m）=10（dm）=10^2（cm）=10^3（mm） =10^6（um）=10^9（nm）=10^10（A）=10^12（pm）'
              tags:
                - tag: Application
                  value: 光模块信息
          trigger_prototypes:
            - uuid: c3a7e0cba20644668d2f34626b8327a9
              expression: 'last(/LW_Template SNMP Huawei Network with Optical General/TransceiverTX[{#SNMPVALUE}])<last(/LW_Template SNMP Huawei Network with Optical General/TransceiverTXLowThreshold[{#SNMPVALUE}])'
              name: '[网络设备]{HOST.NAME}光模块端口[{#SNMPVALUE}]发光功率低于系统阈值'
              priority: WARNING
              description: (状态值表示当前功率)
              manual_close: 'YES'
            - uuid: dc8133e4568844de8aec2dab3e2a72eb
              expression: 'last(/LW_Template SNMP Huawei Network with Optical General/TransceiverTX[{#SNMPVALUE}])>last(/LW_Template SNMP Huawei Network with Optical General/TransceiverTXHighThreshold[{#SNMPVALUE}])'
              name: '[网络设备]{HOST.NAME}光模块端口[{#SNMPVALUE}]发光功率高于系统阈值'
              priority: WARNING
              description: (状态值表示当前功率)
              manual_close: 'YES'
            - uuid: b631e89a639d4a10ab52f3523ec4c639
              expression: 'last(/LW_Template SNMP Huawei Network with Optical General/TransceiverRX[{#SNMPVALUE}])<last(/LW_Template SNMP Huawei Network with Optical General/TransceiverRXLowThreshold[{#SNMPVALUE}])'
              name: '[网络设备]{HOST.NAME}光模块端口[{#SNMPVALUE}]收光功率低于系统阈值'
              priority: WARNING
              description: (状态值表示当前功率)
              manual_close: 'YES'
            - uuid: f28351dbce6345cdb5743998c4892981
              expression: 'last(/LW_Template SNMP Huawei Network with Optical General/TransceiverRX[{#SNMPVALUE}])>last(/LW_Template SNMP Huawei Network with Optical General/TransceiverRXHighThreshold[{#SNMPVALUE}])'
              name: '[网络设备]{HOST.NAME}光模块端口[{#SNMPVALUE}]收光功率高于系统阈值'
              priority: WARNING
              description: (状态值表示当前功率)
              manual_close: 'YES'
        - uuid: 74f24ea818e04c268ef44b4d617829dc
          name: 电源
          type: SNMP_AGENT
          snmp_oid: 'discovery[{#SNMPVALUE},1.3.6.1.4.1.2011.2.23.1.9.1.2.1.1]'
          key: Power
          delay: '3600'
          lifetime: 1d
          item_prototypes:
            - uuid: 95d991962c6f49459911435809ba5867
              name: '{#SNMPVALUE},{#SNMPINDEX} (电源状态)'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.4.1.2011.2.23.1.9.1.2.1.2.{#SNMPINDEX}'
              key: 'PowerStatus[{#SNMPVALUE},{#SNMPINDEX}]'
              delay: '180'
              history: 7d
              valuemap:
                name: 华为电源状态
              tags:
                - tag: Application
                  value: 电源
              trigger_prototypes:
                - uuid: 9d4efdb1eedb42a68ac4a58ce77ab721
                  expression: 'last(/LW_Template SNMP Huawei Network with Optical General/PowerStatus[{#SNMPVALUE},{#SNMPINDEX}])=3'
                  name: '[网络设备]{HOST.NAME}设备{#SNMPVALUE}电源异常'
                  priority: HIGH
                  description: |
                    (状态值表示当前状态)
                    1⇒正常
                    2⇒警告
                    3⇒严重
                    4⇒关闭
                    5⇒不存在
                    设备电源异常
                  manual_close: 'YES'
        - uuid: d5f4e895406f494e891df9088fc2032c
          name: 传感器5
          type: SNMP_AGENT
          snmp_oid: 'discovery[{#SNMPVALUE5},SNMPv2-SMI::mib-2.47.1.1.1.1.7,{#SNMPCLASS5},SNMPv2-SMI::mib-2.47.1.1.1.1.5,{#TEM5},1.3.6.1.4.1.2011.5.25.31.1.1.1.1.12]'
          key: Sensor5.25.31
          delay: '3600'
          filter:
            conditions:
              - macro: '{#SNMPCLASS5}'
                value: (7|8)
                formulaid: A
              - macro: '{#TEM5}'
                value: '^[0-9]*$'
                formulaid: B
          lifetime: 3d
          description: 5.25.31
          item_prototypes:
            - uuid: a83bfb80a3a64f8a98329cd97ec22e76
              name: '{#SNMPVALUE5},{#SNMPINDEX} (温度最高阀值)'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.4.1.2011.5.25.31.1.1.1.1.12.{#SNMPINDEX}'
              key: 'TemperatureHighThresholdSensor[{#SNMPVALUE5},{#SNMPINDEX}]'
              delay: '86400'
              history: 7d
              units: °C
              tags:
                - tag: Application
                  value: 温度
            - uuid: d86c88676a95449e9be5610599bb63be
              name: '{#SNMPVALUE5},{#SNMPINDEX} 温度'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.4.1.2011.5.25.31.1.1.1.1.11.{#SNMPINDEX}'
              key: 'TemperatureSensor[{#SNMPVALUE5},{#SNMPINDEX}]'
              delay: '180'
              history: 7d
              units: °C
              tags:
                - tag: Application
                  value: 温度
          trigger_prototypes:
            - uuid: 307f770a364543ef8f7fe86ff05d6658
              expression: 'last(/LW_Template SNMP Huawei Network with Optical General/TemperatureSensor[{#SNMPVALUE5},{#SNMPINDEX}])>last(/LW_Template SNMP Huawei Network with Optical General/TemperatureHighThresholdSensor[{#SNMPVALUE5},{#SNMPINDEX}])'
              name: '[网络设备]{HOST.NAME}实体[{#SNMPVALUE5}]温度过高，高于系统阀值'
              priority: HIGH
              description: |
                (状态值1表示当前温度)
                (状态值2表示温度阈值)
              manual_close: 'YES'
        - uuid: 6e36d69d7f4d4928853a21a63c902c87
          name: 实体状态5
          type: SNMP_AGENT
          snmp_oid: 'discovery[{#SNMPVALUE5},SNMPv2-SMI::mib-2.47.1.1.1.1.7,{#SNMPCLASS5},SNMPv2-SMI::mib-2.47.1.1.1.1.5,{#TEM5},1.3.6.1.4.1.2011.5.25.31.1.1.1.1.12]'
          key: SMIStatus5.25.31
          delay: '3600'
          filter:
            conditions:
              - macro: '{#SNMPCLASS5}'
                value: (3|4|5|6|7|8|9|11|12)
                formulaid: A
              - macro: '{#TEM5}'
                value: '^[0-9]*$'
                formulaid: B
          lifetime: 3d
          description: 5.25.31
          item_prototypes:
            - uuid: 0256ce0293114901ab7167d422f6a0b1
              name: '{#SNMPVALUE5},{#SNMPINDEX} (状态)'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.4.1.2011.5.25.31.1.1.1.1.2.{#SNMPINDEX}'
              key: 'HardwareStatus[{#SNMPVALUE5},{#SNMPINDEX}]'
              delay: '300'
              history: 7d
              description: hwEntityOperStatus
              valuemap:
                name: 华为实体状态5.25.31
              tags:
                - tag: Application
                  value: 实体状态
              trigger_prototypes:
                - uuid: 7ec6caceef374da395089f80ca06dfcc
                  expression: 'last(/LW_Template SNMP Huawei Network with Optical General/HardwareStatus[{#SNMPVALUE5},{#SNMPINDEX}])=4'
                  name: '[网络设备]{HOST.NAME}设备槽位{#SNMPVALUE5}离线'
                  priority: HIGH
                  description: |
                    (状态值表示当前状态)
                    1⇒该实体不支持
                    2⇒该实体处于关闭状态
                    3⇒该实体处于启用状态
                    4⇒该实体断开连接
                  manual_close: 'YES'
      valuemaps:
        - uuid: 40158fbe360d448c8999b38091d61396
          name: 华为光模块模式
          mappings:
            - value: '1'
              newvalue: notSupported
            - value: '2'
              newvalue: singleMode
            - value: '3'
              newvalue: multiMode5
            - value: '4'
              newvalue: multiMode6
            - value: '5'
              newvalue: noValue
        - uuid: 4c274a9902ae487788cc555297ab977d
          name: 华为实体状态5.25.31
          mappings:
            - value: '1'
              newvalue: notSupported
            - value: '2'
              newvalue: disabled
            - value: '3'
              newvalue: enabled
            - value: '4'
              newvalue: offline
        - uuid: 7ca4c83d5b9d432f8fbcb7f259218f0d
          name: 华为电源状态
          mappings:
            - value: '1'
              newvalue: normal
            - value: '2'
              newvalue: warning
            - value: '3'
              newvalue: critical
            - value: '4'
              newvalue: shutdown
            - value: '5'
              newvalue: notPresent
            - value: '6'
              newvalue: notFunctioning
        - uuid: 3db453d90ab84b01af274433a5c24753
          name: 华为风扇在位状态5.25.31
          mappings:
            - value: '1'
              newvalue: present
            - value: '2'
              newvalue: absent
        - uuid: a6269a90eba140e6a7a830b7f550b519
          name: 华为风扇运行状态5.25.31
          mappings:
            - value: '1'
              newvalue: normal
            - value: '2'
              newvalue: abnormal
  triggers:
    - uuid: c5fac49320fc417d83092ee571472696
      expression: 'max(/LW_Template SNMP Huawei Network with Optical General/icmpping[,2,,,],3m)=0 and nodata(/LW_Template SNMP Huawei Network with Optical General/sysUpTime,3m)=1'
      recovery_mode: RECOVERY_EXPRESSION
      recovery_expression: 'min(/LW_Template SNMP Huawei Network with Optical General/icmpping[,2,,,],3m)=1 and nodata(/LW_Template SNMP Huawei Network with Optical General/sysUpTime,2m)=0'
      name: '[网络设备]{HOST.NAME}失联,持续3分钟未响应'
      priority: HIGH
      description: |
        状态值1为系统持续运行时间和ICMP探测状态（1为通，0为断）
        状态值2为BMC运行时间
      manual_close: 'YES'
    - uuid: c1d6bcf625004aefb75dcf521e89173c
      expression: 'change(/LW_Template SNMP Huawei Network with Optical General/sysUpTime)<0 and last(/LW_Template SNMP Huawei Network with Optical General/sysUpTime)<1800 and avg(/LW_Template SNMP Huawei Network with Optical General/icmpping[,2,,,],2m)<1'
      name: '[网络设备]{HOST.NAME}设备刚发生重启'
      priority: HIGH
      description: |
        (当前状态值为系统持续运行时间)
        主机采集到的系统运行时间突然减少重置，当系统运行时间正常递增，则恢复告警，该值在设备连续运行未超过300多天时可以当作设备运行时间，当超过300多天根据型号不同，计数器会自动重置为0重新计算时间
      manual_close: 'YES'
