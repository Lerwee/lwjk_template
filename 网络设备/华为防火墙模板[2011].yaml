zabbix_export:
  version: '6.0'
  date: '2024-04-24T07:26:41Z'
  groups:
    - uuid: 9397477ac4614c8da379ea37c1c5b0e0
      name: 监控模板
    - uuid: 989d6a022aab491b8a20c2ee4be9c738
      name: 网络设备模板
  templates:
    - uuid: 979450265f6845fc9970d09338818b39
      template: 'LW_Template SNMP Huawei Firewall Network General'
      name: '华为防火墙模板[2011]'
      groups:
        - name: 监控模板
        - name: 网络设备模板
      items:
        - uuid: 628f294d05dc4053b8f888b851c61f7b
          name: 'ICMP 丢包率'
          type: SIMPLE
          key: 'icmppingloss[,2,,,]'
          delay: '60'
          history: 7d
          value_type: FLOAT
          units: '%'
          description: 'ICMP pingloss'
          tags:
            - tag: Application
              value: ICMP
        - uuid: 285025ccc29449af9812d96275a5981a
          name: 'ICMP 延时'
          type: SIMPLE
          key: 'icmppingsec[,2,,,]'
          delay: '60'
          history: 7d
          value_type: FLOAT
          units: ms
          description: 'ICMP pingsec'
          tags:
            - tag: Application
              value: ICMP
        - uuid: ca6872ea1f634e8bb2066828e1bf48bd
          name: 'ICMP ping状态'
          type: SIMPLE
          key: 'icmpping[,2,,,]'
          delay: '60'
          history: 7d
          description: 'ICMP ping'
          request_method: POST
          tags:
            - tag: Application
              value: ICMP
        - uuid: 01cd959307774b579eaca2531d0103fe
          name: 端口数量
          type: SNMP_AGENT
          snmp_oid: 'IF-MIB::ifNumber.0'
          key: ifNumber
          delay: '3600'
          history: 7d
          description: 'The number of network interfaces (regardless of their current state) present on this system.'
        - uuid: 46a856367eea43c4a5d06a68425e3112
          name: 'LW:LW_NETWORKDEVICES_HUAWEI'
          type: SNMP_AGENT
          snmp_oid: interfaces.ifTable.ifEntry.ifInOctets.1
          key: LW_NETWORKDEVICES_HUAWEI
          delay: '30'
          status: DISABLED
          description: '{"snmp":1}'
        - uuid: 7646bdf4b83940ecbe6587043efa5786
          name: 'SNMP traps (fallback)'
          type: SNMP_TRAP
          key: snmptrap.fallback
          delay: '0'
          history: 7d
          trends: '0'
          value_type: LOG
          logtimefmt: 'hh:mm:sszyyyy/MM/dd'
          request_method: POST
          tags:
            - tag: Application
              value: 常规
        - uuid: f99bc36f2ccf4aeb81003187a1700084
          name: 设备详细的联系方式
          type: SNMP_AGENT
          snmp_oid: 'SNMPv2-MIB::sysContact.0'
          key: sysContact
          delay: 1d
          history: 7d
          trends: '0'
          value_type: CHAR
          description: 'The textual identification of the contact person for this managed node, together with information on how to contact this person.  If no contact information is known, the value is the zero-length string.'
          inventory_link: CONTACT
          request_method: POST
          tags:
            - tag: Application
              value: 常规
        - uuid: 474e698fca864b7cb6b76305d021137a
          name: 设备描述
          type: SNMP_AGENT
          snmp_oid: 'SNMPv2-MIB::sysDescr.0'
          key: sysDescr
          delay: 1d
          history: 7d
          trends: '0'
          value_type: CHAR
          description: 'A textual description of the entity.  This value should include the full name and version identification of the system''s hardware type, software operating-system, and networking software.'
          inventory_link: HARDWARE
          request_method: POST
          tags:
            - tag: Application
              value: 常规
        - uuid: 629d7bf118ce4545882948bca77d65c6
          name: 设备位置
          type: SNMP_AGENT
          snmp_oid: 'SNMPv2-MIB::sysLocation.0'
          key: sysLocation
          delay: 1d
          history: 7d
          trends: '0'
          value_type: CHAR
          description: 'The physical location of this node (e.g., `telephone closet, 3rd floor'').  If the location is unknown, the value is the zero-length string.'
          inventory_link: LOCATION
          request_method: POST
          tags:
            - tag: Application
              value: 常规
        - uuid: 91c140318bc146c1b89ccad32c9fc6ce
          name: 设备名称
          type: SNMP_AGENT
          snmp_oid: 'SNMPv2-MIB::sysName.0'
          key: sysName
          delay: 1d
          history: 7d
          trends: '0'
          value_type: CHAR
          description: 'An administratively-assigned name for this managed node. By convention, this is the node''s fully-qualified domain name.  If the name is unknown, the value is the zero-length string.'
          inventory_link: NAME
          request_method: POST
          tags:
            - tag: Application
              value: 常规
          triggers:
            - uuid: 10bd7150ab634f79975f6b29ba0d9039
              expression: '(last(/LW_Template SNMP Huawei Firewall Network General/sysName,#1)<>last(/LW_Template SNMP Huawei Firewall Network General/sysName,#2))>0'
              name: '[网络设备]{HOST.NAME}设备名称发生改变'
              priority: WARNING
              description: |
                (当前状态值为改变后的设备名称)
                设备名称发生改变
              manual_close: 'YES'
        - uuid: 640721fcfeba4de0aee02ca8d2602675
          name: 设备运行时间
          type: SNMP_AGENT
          snmp_oid: 'SNMPv2-MIB::sysUpTime.0'
          key: sysUpTime
          history: 7d
          units: uptime
          description: 'The time since the network management portion of the system was last re-initialized.，该值在设备连续运行未超过300多天时可以当作设备运行时间，当超过300多天根据型号不同，改计数器会自动重置为0重新计算时间'
          preprocessing:
            - type: MULTIPLIER
              parameters:
                - '0.01'
          request_method: POST
          tags:
            - tag: Application
              value: 常规
          triggers:
            - uuid: 48e9c0bb43d64d08a7d3791913c15a3b
              expression: 'nodata(/LW_Template SNMP Huawei Firewall Network General/sysUpTime,10m)=1'
              name: '[网络设备]{HOST.NAME}SNMP采集中断'
              priority: HIGH
              description: |
                状态值1为BMC运行时间
                需要检查SNMP团体名是否不对应，或网络设备不支持多进程请求，或网络拦截snmp协议等
              manual_close: 'YES'
              dependencies:
                - name: '[网络设备]{HOST.NAME}失联,持续3分钟未响应'
                  expression: 'max(/LW_Template SNMP Huawei Firewall Network General/icmpping[,2,,,],3m)=0 and nodata(/LW_Template SNMP Huawei Firewall Network General/sysUpTime,3m)=1'
                  recovery_expression: 'min(/LW_Template SNMP Huawei Firewall Network General/icmpping[,2,,,],3m)=1 and nodata(/LW_Template SNMP Huawei Firewall Network General/sysUpTime,2m)=0'
      discovery_rules:
        - uuid: 31bb198cb5584ec0a48ef2c730888c5e
          name: 风扇2
          type: SNMP_AGENT
          snmp_oid: 'discovery[{#SNMPVALUE2},1.3.6.1.4.1.2011.2.23.1.9.1.1.1.1]'
          key: Fan2.23.1
          delay: '3600'
          lifetime: 1d
          item_prototypes:
            - uuid: 1f91edbc04ec4a948010075300545a53
              name: '{#SNMPVALUE2} (风扇状态)'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.4.1.2011.2.23.1.9.1.1.1.2.{#SNMPINDEX}'
              key: 'FanState[{#SNMPVALUE2}]'
              delay: '180'
              valuemap:
                name: 华为风扇运行状态5.25.31
              tags:
                - tag: Application
                  value: 风扇
              trigger_prototypes:
                - uuid: 08d5f058d0344070a378186eed673d70
                  expression: 'last(/LW_Template SNMP Huawei Firewall Network General/FanState[{#SNMPVALUE2}])>1'
                  name: '[网络设备]{HOST.NAME}设备风扇{#SNMPVALUE2} 异常'
                  priority: HIGH
                  description: |
                    (状态值表示当前状态)
                    1⇒正常
                    2⇒异常
                  manual_close: 'YES'
        - uuid: 6236230c88f841a4b2e0ef0ccfbe7f98
          name: 风扇5
          type: SNMP_AGENT
          snmp_oid: 'discovery[{#SNMPVALUE},1.3.6.1.4.1.2011.5.25.31.1.1.10.1.2]'
          key: Fan5.25.31
          delay: '3600'
          lifetime: 3d
          description: 5.25.31
          item_prototypes:
            - uuid: 45037f9cf19f44fca3e1aaf7d0a88b4f
              name: '{#SNMPINDEX} (风扇在位状态)'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.4.1.2011.5.25.31.1.1.10.1.6.{#SNMPINDEX}'
              key: 'FanPresent25.25.31[{#SNMPINDEX}]'
              delay: '180'
              valuemap:
                name: 华为风扇在位状态5.25.31
              tags:
                - tag: Application
                  value: 风扇
              trigger_prototypes:
                - uuid: b6e777c05b4c47eeb5386f82b7ba8ade
                  expression: 'last(/LW_Template SNMP Huawei Firewall Network General/FanPresent25.25.31[{#SNMPINDEX}])>1'
                  name: '[网络设备]{HOST.NAME}设备风扇{#SNMPVALUE}不在位'
                  status: DISABLED
                  priority: HIGH
                  description: |
                    状态值表示：
                    1⇒在位
                    2⇒不在位
            - uuid: bf40e72b2cfe4d499ea3ce1793d33742
              name: '{#SNMPINDEX}  (风扇转速)'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.4.1.2011.5.25.31.1.1.10.1.5.{#SNMPINDEX}'
              key: 'FanRPM25.25.31[{#SNMPINDEX}]'
              delay: '180'
              units: '(% or rpm)'
              tags:
                - tag: Application
                  value: 风扇
            - uuid: 3a93f7243e8540a58efc8f39e44d1918
              name: '{#SNMPINDEX} (单板槽位号)'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.4.1.2011.5.25.31.1.1.10.1.1.{#SNMPINDEX}'
              key: 'FanSlot25.25.31[{#SNMPINDEX}]'
              delay: '86400'
              tags:
                - tag: Application
                  value: 风扇
            - uuid: efeade05daa4406e8d3e289ccc5d899a
              name: '{#SNMPINDEX} (风扇运行状态)'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.4.1.2011.5.25.31.1.1.10.1.7.{#SNMPINDEX}'
              key: 'FanState25.25.31[{#SNMPINDEX}]'
              delay: '180'
              valuemap:
                name: 华为风扇运行状态5.25.31
              tags:
                - tag: Application
                  value: 风扇
              trigger_prototypes:
                - uuid: 5bff14fd1cc741a3ba243bbc9f5b4e31
                  expression: 'last(/LW_Template SNMP Huawei Firewall Network General/FanState25.25.31[{#SNMPINDEX}])>1'
                  name: '[网络设备]{HOST.NAME}设备风扇{#SNMPVALUE} 异常'
                  priority: HIGH
                  description: |
                    状态值表示：
                    1⇒正常
                    2⇒异常
        - uuid: d5d316c4327346dfa38aad08f0a4635a
          name: '端口表 UP'
          type: SNMP_AGENT
          snmp_oid: 'discovery[{#SNMPVALUE},ifDescr,{#SNMPOPEN},IF-MIB::ifOperStatus]'
          key: ifDescr
          delay: '3600'
          filter:
            evaltype: AND
            conditions:
              - macro: '{#SNMPOPEN}'
                value: (1|3)
                formulaid: A
              - macro: '{#SNMPVALUE}'
                value: '@Network interfaces for discovery'
                formulaid: B
          lifetime: 3d
          description: 端口表
          item_prototypes:
            - uuid: 0a65ddbbd49c4ad39cba7539cb22205c
              name: '{#SNMPVALUE}（端口启用管理状态）'
              type: SNMP_AGENT
              snmp_oid: 'IF-MIB::ifAdminStatus.{#SNMPINDEX}'
              key: 'ifAdminStatus[{#SNMPVALUE}]'
              delay: 2m
              history: 7d
              description: 端口操作状态
              tags:
                - tag: Application
                  value: 端口状态
            - uuid: f359640f716b4497a620b2b819112a24
              name: '{#SNMPVALUE}（端口描述）'
              type: SNMP_AGENT
              snmp_oid: 'IF-MIB::ifDescr.{#SNMPINDEX}'
              key: 'ifAlias[{#SNMPVALUE}]'
              delay: 1h
              history: 7d
              trends: '0'
              value_type: CHAR
              description: 端口描述
              tags:
                - tag: Application
                  value: 端口信息
            - uuid: 9e70dc432c8546cdad9ca65d557e8a45
              name: '{#SNMPVALUE}（端口序号）'
              type: SNMP_AGENT
              snmp_oid: 'IF-MIB::ifIndex.{#SNMPINDEX}'
              key: 'ifIndex[{#SNMPVALUE}]'
              delay: 1h
              history: 7d
              description: 端口序号
              tags:
                - tag: Application
                  value: 端口信息
            - uuid: bf3392d53a7e4a75833c73cc34bf0ff0
              name: '{#SNMPVALUE}（端口每秒接收丢包数）'
              type: SNMP_AGENT
              snmp_oid: 'IF-MIB::ifInDiscards.{#SNMPINDEX}'
              key: 'ifInDiscards[{#SNMPVALUE}]'
              delay: 10m
              history: 7d
              description: 端口每秒接收丢包数
              preprocessing:
                - type: CHANGE_PER_SECOND
                  parameters:
                    - ''
              tags:
                - tag: Application
                  value: 端口错丢包
            - uuid: 1653e947ed474fd290a1bbb1aacceb68
              name: '{#SNMPVALUE}（端口每秒接收错误包数）'
              type: SNMP_AGENT
              snmp_oid: 'IF-MIB::ifInErrors.{#SNMPINDEX}'
              key: 'ifInErrors[{#SNMPVALUE}]'
              delay: 10m
              history: 7d
              description: 端口每秒接收错误包数
              preprocessing:
                - type: CHANGE_PER_SECOND
                  parameters:
                    - ''
              tags:
                - tag: Application
                  value: 端口错丢包
            - uuid: 694aa75221f54a4a915adb9c32287dfd
              name: '{#SNMPVALUE}（端口每秒接收速率）'
              type: SNMP_AGENT
              snmp_oid: 'IF-MIB::ifInOctets.{#SNMPINDEX}'
              key: 'ifInOctetsPersecond[{#SNMPVALUE}]'
              delay: 2m
              history: 7d
              units: bps
              description: 端口每秒接收速率
              preprocessing:
                - type: CHANGE_PER_SECOND
                  parameters:
                    - ''
                - type: MULTIPLIER
                  parameters:
                    - '8'
              tags:
                - tag: Application
                  value: 端口速率
            - uuid: ee10a0b566884f688685c7b1c82df2ac
              name: '{#SNMPVALUE}（端口接收总流量）(5分钟)'
              type: SNMP_AGENT
              snmp_oid: 'IF-MIB::ifInOctets.{#SNMPINDEX}'
              key: 'ifInOctets[{#SNMPVALUE}]'
              delay: 5m
              history: 7d
              status: DISABLED
              discover: NO_DISCOVER
              units: B
              tags:
                - tag: Application
                  value: 端口速率
            - uuid: f57338acc7d04d45a7940f360a982301
              name: '{#SNMPVALUE}（端口名称）'
              type: SNMP_AGENT
              snmp_oid: 'IF-MIB::ifName.{#SNMPINDEX}'
              key: 'ifName[{#SNMPVALUE}]'
              delay: 1h
              history: 7d
              trends: '0'
              value_type: CHAR
              description: 端口名称
              tags:
                - tag: Application
                  value: 端口信息
            - uuid: d62e3d25126345de8a056067cc3dd3b7
              name: '{#SNMPVALUE}（端口物理连接状态）'
              type: SNMP_AGENT
              snmp_oid: 'IF-MIB::ifOperStatus.{#SNMPINDEX}'
              key: 'ifOperStatus[{#SNMPVALUE}]'
              delay: 2m
              history: 7d
              description: 端口操作状态
              tags:
                - tag: Application
                  value: 端口状态
              trigger_prototypes:
                - uuid: 51aa5d3ce9624030ad2ce2caa7d03c39
                  expression: 'last(/LW_Template SNMP Huawei Firewall Network General/ifOperStatus[{#SNMPVALUE}])=2'
                  name: '[网络设备]{HOST.NAME}设备端口{#SNMPVALUE}处于DOWN状态'
                  priority: AVERAGE
                  description: |
                    状态值表示:
                    1⇒正常
                    2⇒关闭
                    3⇒测试
                    4⇒未知
                    5⇒休眠
                    6⇒不存在
                    7⇒底层关闭
                    {HOST.NAME}设备端口{#SNMPVALUE}状态不正常，可能连线松动、未启用、对端设备重启、端口损坏等
                  manual_close: 'YES'
            - uuid: 3542b0945dde40149a45eaf178bca3bf
              name: '{#SNMPVALUE}（端口每秒发送丢包数）'
              type: SNMP_AGENT
              snmp_oid: 'IF-MIB::ifOutDiscards.{#SNMPINDEX}'
              key: 'ifOutDiscards[{#SNMPVALUE}]'
              delay: 10m
              history: 7d
              description: 端口每秒发送丢包数
              preprocessing:
                - type: CHANGE_PER_SECOND
                  parameters:
                    - ''
              tags:
                - tag: Application
                  value: 端口错丢包
            - uuid: 0d8ac121e52446b4a15d1d1e71c2b940
              name: '{#SNMPVALUE}（端口每秒发送错误包数）'
              type: SNMP_AGENT
              snmp_oid: 'IF-MIB::ifOutErrors.{#SNMPINDEX}'
              key: 'ifOutErrors[{#SNMPVALUE}]'
              delay: 10m
              history: 7d
              description: 端口每秒发送错误包数
              preprocessing:
                - type: CHANGE_PER_SECOND
                  parameters:
                    - ''
              tags:
                - tag: Application
                  value: 端口错丢包
            - uuid: 901c3159417d4821af28b014a9eb39b8
              name: '{#SNMPVALUE}（端口每秒发送速率）'
              type: SNMP_AGENT
              snmp_oid: 'IF-MIB::ifOutOctets.{#SNMPINDEX}'
              key: 'ifOutOctetsPersecond[{#SNMPVALUE}]'
              delay: 2m
              history: 7d
              units: bps
              description: |
                端口每秒发送速率
                .
              preprocessing:
                - type: CHANGE_PER_SECOND
                  parameters:
                    - ''
                - type: MULTIPLIER
                  parameters:
                    - '8'
              tags:
                - tag: Application
                  value: 端口速率
            - uuid: d017df4659b64b118439edfdb38de5ee
              name: '{#SNMPVALUE}（端口发送总流量）(5分钟)'
              type: SNMP_AGENT
              snmp_oid: 'IF-MIB::ifOutOctets.{#SNMPINDEX}'
              key: 'ifOutOctets[{#SNMPVALUE}]'
              delay: 5m
              history: 7d
              status: DISABLED
              discover: NO_DISCOVER
              units: B
              tags:
                - tag: Application
                  value: 端口速率
            - uuid: 8a82218a9d9c484c9fe363db5fd0cc30
              name: '{#SNMPVALUE}（端口物理地址）'
              type: SNMP_AGENT
              snmp_oid: 'IF-MIB::ifPhysAddress.{#SNMPINDEX}'
              key: 'ifPhysAddress[{#SNMPVALUE}]'
              delay: 1h
              history: 7d
              trends: '0'
              value_type: CHAR
              description: 端口物理地址
              tags:
                - tag: Application
                  value: 端口信息
            - uuid: 220a6beebce742e3b8b96e11c66308e2
              name: '{#SNMPVALUE}（端口带宽接收利用率）'
              type: CALCULATED
              key: 'ifSpeedifHCInOctetsPersecond[{#SNMPVALUE}]'
              delay: 2m
              history: 7d
              units: '%'
              params: '100*last(//ifInOctetsPersecond[{#SNMPVALUE}])/last(//ifSpeed[{#SNMPVALUE}])'
              tags:
                - tag: Application
                  value: 端口带宽
            - uuid: 16a1bc1f8c7c48e2821702ed84864f80
              name: '{#SNMPVALUE}（端口带宽发送利用率）'
              type: CALCULATED
              key: 'ifSpeedifOutOctetsPersecond[{#SNMPVALUE}]'
              delay: 2m
              history: 7d
              units: '%'
              params: '100*last(//ifOutOctetsPersecond[{#SNMPVALUE}])/last(//ifSpeed[{#SNMPVALUE}])'
              tags:
                - tag: Application
                  value: 端口带宽
            - uuid: a23683d7461e4c7fa69133ce3efa826b
              name: '{#SNMPVALUE}（端口带宽）'
              type: SNMP_AGENT
              snmp_oid: 'IF-MIB::ifHighSpeed.{#SNMPINDEX}'
              key: 'ifSpeed[{#SNMPVALUE}]'
              delay: 5m
              history: 7d
              units: bps
              description: 端口带宽
              preprocessing:
                - type: MULTIPLIER
                  parameters:
                    - '1000000'
              tags:
                - tag: Application
                  value: 端口带宽
            - uuid: 51125918c546404e9e851eacadf238f0
              name: '{#SNMPVALUE}（端口类型）'
              type: SNMP_AGENT
              snmp_oid: 'IF-MIB::ifType.{#SNMPINDEX}'
              key: 'ifType[{#SNMPVALUE}]'
              delay: 1h
              history: 7d
              description: 端口类型
              tags:
                - tag: Application
                  value: 端口信息
          trigger_prototypes:
            - uuid: be73b304360c40839534af813f09998b
              expression: 'last(/LW_Template SNMP Huawei Firewall Network General/ifSpeedifOutOctetsPersecond[{#SNMPVALUE}])>90 and last(/LW_Template SNMP Huawei Firewall Network General/ifSpeed[{#SNMPVALUE}])>0'
              name: '[网络设备]{HOST.NAME}设备端口{#SNMPVALUE}发送利用率大于90%'
              priority: WARNING
              description: (状态值表示当前利用率)
              manual_close: 'YES'
            - uuid: 054782e71a0b4cd58c255fc9937dfa58
              expression: 'last(/LW_Template SNMP Huawei Firewall Network General/ifSpeedifHCInOctetsPersecond[{#SNMPVALUE}])>90 and last(/LW_Template SNMP Huawei Firewall Network General/ifSpeed[{#SNMPVALUE}])>0'
              name: '[网络设备]{HOST.NAME}设备端口{#SNMPVALUE}接收利用率大于90'
              priority: WARNING
              description: (状态值表示当前利用率)
              manual_close: 'YES'
          graph_prototypes:
            - uuid: 9e77c2ab34114b0e979e0416dc8bf67a
              name: '网卡端口 {#SNMPVALUE} 利用率'
              graph_items:
                - color: 2774A4
                  item:
                    host: 'LW_Template SNMP Huawei Firewall Network General'
                    key: 'ifSpeedifOutOctetsPersecond[{#SNMPVALUE}]'
                - sortorder: '1'
                  color: A54F10
                  item:
                    host: 'LW_Template SNMP Huawei Firewall Network General'
                    key: 'ifSpeedifHCInOctetsPersecond[{#SNMPVALUE}]'
            - uuid: c0ac2406ac6f4876a11203864455aaff
              name: '网卡端口 {#SNMPVALUE} 总流量'
              graph_items:
                - drawtype: GRADIENT_LINE
                  color: 00AA00
                  item:
                    host: 'LW_Template SNMP Huawei Firewall Network General'
                    key: 'ifInOctets[{#SNMPVALUE}]'
                - sortorder: '1'
                  drawtype: GRADIENT_LINE
                  color: 3333FF
                  item:
                    host: 'LW_Template SNMP Huawei Firewall Network General'
                    key: 'ifOutOctets[{#SNMPVALUE}]'
            - uuid: 1ff5971de63048f988f24ef9568ac215
              name: '网卡端口 {#SNMPVALUE} 速率'
              graph_items:
                - color: 2774A4
                  item:
                    host: 'LW_Template SNMP Huawei Firewall Network General'
                    key: 'ifInOctetsPersecond[{#SNMPVALUE}]'
                - sortorder: '1'
                  color: A54F10
                  item:
                    host: 'LW_Template SNMP Huawei Firewall Network General'
                    key: 'ifOutOctetsPersecond[{#SNMPVALUE}]'
        - uuid: 7efaadd5f3694e99a163c21d3fe9f2dc
          name: '端口表 DOWN'
          type: SNMP_AGENT
          snmp_oid: 'discovery[{#SNMPVALUE},ifDescr,{#SNMPOPEN},IF-MIB::ifOperStatus]'
          key: ifDescr2
          delay: '3600'
          filter:
            evaltype: AND
            conditions:
              - macro: '{#SNMPOPEN}'
                value: (2)
                formulaid: A
              - macro: '{#SNMPVALUE}'
                value: '@Network interfaces for discovery'
                formulaid: B
          lifetime: 0d
          description: 端口表
          item_prototypes:
            - uuid: ca3063b9683840c49a43058885855dae
              name: '{#SNMPVALUE2} （端口启用管理状态）'
              type: SNMP_AGENT
              snmp_oid: 'IF-MIB::ifAdminStatus.{#SNMPINDEX}'
              key: 'ifAdminStatus[{#SNMPVALUE2}]'
              delay: 2m
              tags:
                - tag: Application
                  value: 端口状态
            - uuid: d1614d9f50174cc1ac6d97f3cd8b4d75
              name: '{#SNMPVALUE2} （端口物理连接状态）'
              type: SNMP_AGENT
              snmp_oid: 'IF-MIB::ifOperStatus.{#SNMPINDEX}'
              key: 'ifOperStatus[{#SNMPVALUE2}]'
              delay: 2m
              tags:
                - tag: Application
                  value: 端口状态
        - uuid: 41c4e4ad537a40d8b1621a9406f70d76
          name: 主板模块5
          type: SNMP_AGENT
          snmp_oid: 'discovery[{#SNMPVALUE5},SNMPv2-SMI::mib-2.47.1.1.1.1.7,{#SNMPCLASS5},SNMPv2-SMI::mib-2.47.1.1.1.1.5,{#TEM5},1.3.6.1.4.1.2011.5.25.31.1.1.1.1.12]'
          key: Module5.25.31
          delay: '3600'
          filter:
            conditions:
              - macro: '{#SNMPCLASS5}'
                value: '9'
                formulaid: A
              - macro: '{#TEM5}'
                value: '^[^ ]'
                formulaid: B
          lifetime: 3d
          description: 5.25.31
          item_prototypes:
            - uuid: dcdfb8bdf1de45bcbbf86bf15fe12a39
              name: '{#SNMPVALUE5} (CPU使用率最高阈值)'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.4.1.2011.5.25.31.1.1.1.1.6.{#SNMPINDEX}'
              key: 'CPUUsageThreshold[{#SNMPVALUE5}]'
              delay: '86400'
              history: 7d
              units: '%'
              description: hwEntityCpuUsageThreshold
              tags:
                - tag: Application
                  value: CPU
            - uuid: 38acebd1909440d49f026e339436a17e
              name: '{#SNMPVALUE5} (CPU使用率)'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.4.1.2011.5.25.31.1.1.1.1.5.{#SNMPINDEX}'
              key: 'CPUUsage[{#SNMPVALUE5}]'
              delay: '180'
              history: 7d
              units: '%'
              description: hwEntityCpuUsage
              tags:
                - tag: Application
                  value: CPU
              trigger_prototypes:
                - uuid: 4ff9f48088e7465d9b50c5dcfba0e685
                  expression: 'last(/LW_Template SNMP Huawei Firewall Network General/CPUUsage[{#SNMPVALUE5}])>80'
                  name: '[网络设备]{HOST.NAME}板卡[{#SNMPVALUE5}]CPU使用率平均3分钟高于80%'
                  priority: WARNING
                  description: |
                    (状态值表示当前使用率)
                    设备CPU使用率平均3分钟高于80%
                  manual_close: 'YES'
                  dependencies:
                    - name: '[网络设备]{HOST.NAME}板卡[{#SNMPVALUE5}]CPU使用率平均3分钟高于90%'
                      expression: 'last(/LW_Template SNMP Huawei Firewall Network General/CPUUsage[{#SNMPVALUE5}])>90'
                - uuid: 4c0b0dda47d947588f1ea30d3b41140e
                  expression: 'last(/LW_Template SNMP Huawei Firewall Network General/CPUUsage[{#SNMPVALUE5}])>90'
                  name: '[网络设备]{HOST.NAME}板卡[{#SNMPVALUE5}]CPU使用率平均3分钟高于90%'
                  priority: HIGH
                  description: |
                    (状态值表示当前使用率)
                    设备CPU使用率平均3分钟高于90%
                  manual_close: 'YES'
            - uuid: 9a2d3fd2e9384beba35c90e49e4d320c
              name: '{#SNMPVALUE5}  (厂商)'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.2.1.47.1.1.1.1.12.{#SNMPINDEX}'
              key: 'Manufacturer[{#SNMPVALUE5}]'
              delay: '86400'
              history: 7d
              trends: '0'
              value_type: CHAR
              tags:
                - tag: Application
                  value: 主板信息
            - uuid: ddce8fe16a784ce583dba4e7092750aa
              name: '{#SNMPVALUE5} (内存总大小)'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.4.1.2011.5.25.31.1.1.1.1.9.{#SNMPINDEX}'
              key: 'MemoryTotal[{#SNMPVALUE5}]'
              delay: '86400'
              history: 7d
              units: B
              description: hwEntityMemSize
              tags:
                - tag: Application
                  value: 内存
            - uuid: 42db0f0b78e941b7a4b0a4c56e7b217c
              name: '{#SNMPVALUE5} (内存使用率最高阈值)'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.4.1.2011.5.25.31.1.1.1.1.8.{#SNMPINDEX}'
              key: 'MemoryUsageThreshold[{#SNMPVALUE5}]'
              delay: '86400'
              history: 7d
              units: '%'
              description: hwEntityMemUsageThreshold
              tags:
                - tag: Application
                  value: 内存
            - uuid: b8981adc1d9045aa9255aa49bc8b97e0
              name: '{#SNMPVALUE5} (内存使用率)'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.4.1.2011.5.25.31.1.1.1.1.7.{#SNMPINDEX}'
              key: 'MemoryUsage[{#SNMPVALUE5}]'
              delay: '180'
              history: 7d
              units: '%'
              description: hwEntityMemUsage
              tags:
                - tag: Application
                  value: 内存
              trigger_prototypes:
                - uuid: 8a5ddfc052ad457c80d25ba75409f772
                  expression: 'last(/LW_Template SNMP Huawei Firewall Network General/MemoryUsage[{#SNMPVALUE5}])>80'
                  name: '[网络设备]{HOST.NAME}板卡[{#SNMPVALUE5}]内存使用率平均3分钟高于80%'
                  priority: WARNING
                  description: |
                    (状态值表示当前使用率)
                    设备内存使用率平均3分钟高于80%
                  manual_close: 'YES'
                  dependencies:
                    - name: '[网络设备]{HOST.NAME}板卡[{#SNMPVALUE5}]内存使用率平均3分钟高于90%'
                      expression: 'last(/LW_Template SNMP Huawei Firewall Network General/MemoryUsage[{#SNMPVALUE5}])>90'
                - uuid: 3af0c22406b44e69b1de49f9255024fb
                  expression: 'last(/LW_Template SNMP Huawei Firewall Network General/MemoryUsage[{#SNMPVALUE5}])>90'
                  name: '[网络设备]{HOST.NAME}板卡[{#SNMPVALUE5}]内存使用率平均3分钟高于90%'
                  priority: HIGH
                  description: |
                    (状态值表示当前使用率)
                    设备内存使用率平均3分钟高于90%
                  manual_close: 'YES'
            - uuid: 172f4313ba3a4413bfde2dbb3f85104c
              name: '{#SNMPVALUE5}  (型号)'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.2.1.47.1.1.1.1.13.{#SNMPINDEX}'
              key: 'Model[{#SNMPVALUE5}]'
              delay: '86400'
              history: 7d
              trends: '0'
              value_type: CHAR
              tags:
                - tag: Application
                  value: 主板信息
            - uuid: 2319e14b8f294ebea6f6decb3de53492
              name: '{#SNMPVALUE5}  (序列号)'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.2.1.47.1.1.1.1.11.{#SNMPINDEX}'
              key: 'Serial[{#SNMPVALUE5}]'
              delay: '86400'
              history: 7d
              trends: '0'
              value_type: CHAR
              tags:
                - tag: Application
                  value: 主板信息
            - uuid: d94d214ea19d4b6792ac0a84fd04fe91
              name: '{#SNMPVALUE5} (当前温度)'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.4.1.2011.5.25.31.1.1.1.1.11.{#SNMPINDEX}'
              key: 'TemperatureBoard[{#SNMPVALUE5}]'
              delay: '180'
              history: 7d
              units: °C
              description: hwEntityTemperature
              tags:
                - tag: Application
                  value: 温度
            - uuid: b600c065a57d483f9b9c313d8404b13f
              name: '{#SNMPVALUE5} (温度最高阈值)'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.4.1.2011.5.25.31.1.1.1.1.12.{#SNMPINDEX}'
              key: 'TemperatureHighThresholdBoard[{#SNMPVALUE5}]'
              delay: '86400'
              history: 7d
              units: °C
              description: hwEntityTemperatureThreshold
              tags:
                - tag: Application
                  value: 温度
            - uuid: 8b90207b74c24fb1b805ac6227e5b410
              name: '{#SNMPVALUE5}  (软件版本)'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.2.1.47.1.1.1.1.10.{#SNMPINDEX}'
              key: 'Version[{#SNMPVALUE5}]'
              delay: '86400'
              history: 7d
              trends: '0'
              value_type: CHAR
              tags:
                - tag: Application
                  value: 主板信息
            - uuid: 618eb39436514e1bb870f1049147f7bb
              name: '{#SNMPVALUE5} (电压值)'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.4.1.2011.5.25.31.1.1.1.1.13.{#SNMPINDEX}'
              key: 'VoltageBoard[{#SNMPVALUE5}]'
              delay: '180'
              history: 7d
              value_type: FLOAT
              units: V
              description: hwEntityVoltage
              preprocessing:
                - type: MULTIPLIER
                  parameters:
                    - '0.001'
              tags:
                - tag: Application
                  value: 电压
            - uuid: 22973ab632e9464c97c0322fe1dde20a
              name: '{#SNMPVALUE5} (电压最高阈值)'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.4.1.2011.5.25.31.1.1.1.1.15.{#SNMPINDEX}'
              key: 'VoltageHighThresholdBoard[{#SNMPVALUE5}]'
              delay: '86400'
              history: 7d
              value_type: FLOAT
              units: V
              description: hwEntityVoltageHighThreshold
              preprocessing:
                - type: MULTIPLIER
                  parameters:
                    - '0.001'
              tags:
                - tag: Application
                  value: 电压
            - uuid: 5618337ad1ba406dbdeccf3e764dad8e
              name: '{#SNMPVALUE5} (电压最低阈值)'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.4.1.2011.5.25.31.1.1.1.1.14.{#SNMPINDEX}'
              key: 'VoltageLowThresholdBoard[{#SNMPVALUE5}]'
              delay: '86400'
              history: 7d
              value_type: FLOAT
              units: V
              description: hwEntityVoltageLowThreshold
              preprocessing:
                - type: MULTIPLIER
                  parameters:
                    - '0.001'
              tags:
                - tag: Application
                  value: 电压
          trigger_prototypes:
            - uuid: ce8d5131b5d34f5f89a715d6d9da7e27
              expression: 'last(/LW_Template SNMP Huawei Firewall Network General/TemperatureBoard[{#SNMPVALUE5}])>last(/LW_Template SNMP Huawei Firewall Network General/TemperatureHighThresholdBoard[{#SNMPVALUE5}])>0'
              name: '[网络设备]{HOST.NAME}板卡[{#SNMPVALUE5}]温度过高，高于系统阈值'
              priority: HIGH
              description: |
                (状态值1表示当前温度)
                (状态值2表示温度阈值)
                设备温度过高，高于系统阈值
              manual_close: 'YES'
            - uuid: 68ef1db38a634592b88c2999a5e38025
              expression: 'last(/LW_Template SNMP Huawei Firewall Network General/VoltageBoard[{#SNMPVALUE5}])<last(/LW_Template SNMP Huawei Firewall Network General/VoltageLowThresholdBoard[{#SNMPVALUE5}])'
              name: '[网络设备]{HOST.NAME}板卡[{#SNMPVALUE5}]电压过低'
              priority: WARNING
              description: |
                (状态值1表示当前电压)
                (状态值2表示电压阈值)
                设备电压低于系统阀值
              manual_close: 'YES'
            - uuid: 8412ffcae851493da767abe4629bcfc4
              expression: 'last(/LW_Template SNMP Huawei Firewall Network General/VoltageBoard[{#SNMPVALUE5}])>last(/LW_Template SNMP Huawei Firewall Network General/VoltageHighThresholdBoard[{#SNMPVALUE5}])'
              name: '[网络设备]{HOST.NAME}板卡[{#SNMPVALUE5}]电压过高'
              priority: WARNING
              description: |
                (状态值1表示当前电压)
                (状态值2表示电压阈值)
                设备电压高于系统阀值
              manual_close: 'YES'
          graph_prototypes:
            - uuid: aec87fc573f541d3b1f8efeda61f9cae
              name: '{#SNMPINDEX}CPU/内存使用率'
              graph_items:
                - color: 1A7C11
                  item:
                    host: 'LW_Template SNMP Huawei Firewall Network General'
                    key: 'CPUUsage[{#SNMPVALUE5}]'
                - sortorder: '1'
                  color: F63100
                  item:
                    host: 'LW_Template SNMP Huawei Firewall Network General'
                    key: 'MemoryUsage[{#SNMPVALUE5}]'
            - uuid: 7964399f103f4298a5173d1f4b29bc24
              name: '{#SNMPINDEX}温度'
              graph_items:
                - color: 1A7C11
                  item:
                    host: 'LW_Template SNMP Huawei Firewall Network General'
                    key: 'TemperatureBoard[{#SNMPVALUE5}]'
                - sortorder: '1'
                  color: F63100
                  item:
                    host: 'LW_Template SNMP Huawei Firewall Network General'
                    key: 'TemperatureHighThresholdBoard[{#SNMPVALUE5}]'
            - uuid: 94bec401fdf74df88afb35f065c8fb72
              name: '{#SNMPINDEX}电压'
              graph_items:
                - color: 1A7C11
                  item:
                    host: 'LW_Template SNMP Huawei Firewall Network General'
                    key: 'VoltageBoard[{#SNMPVALUE5}]'
                - sortorder: '1'
                  color: F63100
                  item:
                    host: 'LW_Template SNMP Huawei Firewall Network General'
                    key: 'VoltageHighThresholdBoard[{#SNMPVALUE5}]'
                - sortorder: '2'
                  color: 2774A4
                  item:
                    host: 'LW_Template SNMP Huawei Firewall Network General'
                    key: 'VoltageLowThresholdBoard[{#SNMPVALUE5}]'
        - uuid: 8734820e2fdd45c28c725f3a8f420c9a
          name: 主板模块10
          type: SNMP_AGENT
          snmp_oid: 'discovery[{#SNMPVALUE10},SNMPv2-SMI::mib-2.47.1.1.1.1.7,{#SNMPCLASS10},SNMPv2-SMI::mib-2.47.1.1.1.1.5,{#TEM10},1.3.6.1.4.1.2011.10.2.6.1.1.1.1.13]'
          key: Module10.2.6
          delay: '3600'
          status: DISABLED
          filter:
            conditions:
              - macro: '{#SNMPCLASS10}'
                value: '9'
                formulaid: A
              - macro: '{#TEM10}'
                value: '^[^ ]'
                formulaid: B
          lifetime: 3d
          description: 10.2.6
          item_prototypes:
            - uuid: 66e79ee019294fc78d6af28daa56593a
              name: '{#SNMPVALUE10} (CPU使用率)'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.4.1.2011.10.2.6.1.1.1.1.6.{#SNMPINDEX}'
              key: 'CPUUsage[{#SNMPVALUE10}]'
              delay: '180'
              units: '%'
              tags:
                - tag: Application
                  value: CPU
              trigger_prototypes:
                - uuid: d666ff3f9a37428d8127c3817ec2f116
                  expression: 'avg(/LW_Template SNMP Huawei Firewall Network General/CPUUsage[{#SNMPVALUE10}],180s)>80'
                  name: '[网络设备]{HOST.NAME}板卡[{#SNMPVALUE10}]CPU使用率平均3分钟高于80%'
                  priority: WARNING
                  description: (状态值表示当前使用率)
                  manual_close: 'YES'
                  dependencies:
                    - name: '[网络设备]{HOST.NAME}板卡[{#SNMPVALUE10}]CPU使用率平均3分钟高于90%'
                      expression: 'avg(/LW_Template SNMP Huawei Firewall Network General/CPUUsage[{#SNMPVALUE10}],180s)>90'
                - uuid: a5786641cec04663b4ae68974e98222d
                  expression: 'avg(/LW_Template SNMP Huawei Firewall Network General/CPUUsage[{#SNMPVALUE10}],180s)>90'
                  name: '[网络设备]{HOST.NAME}板卡[{#SNMPVALUE10}]CPU使用率平均3分钟高于90%'
                  priority: HIGH
                  description: (状态值表示当前使用率)
                  manual_close: 'YES'
            - uuid: 5855843230264e28b71bba0664a923a3
              name: '{#SNMPVALUE10} (内存总大小)'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.4.1.2011.10.2.6.1.1.1.1.10.{#SNMPINDEX}'
              key: 'MemoryTotal[{#SNMPVALUE10}]'
              delay: '86400'
              units: B
              tags:
                - tag: Application
                  value: 内存
            - uuid: 6973a42d844b41449b1411ef546eb8d6
              name: '{#SNMPVALUE10} (内存使用率)'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.4.1.2011.10.2.6.1.1.1.1.8.{#SNMPINDEX}'
              key: 'MemoryUsage[{#SNMPVALUE10}]'
              delay: '180'
              units: '%'
              tags:
                - tag: Application
                  value: 内存
              trigger_prototypes:
                - uuid: 913e83685bb04505950554cbe390a8a6
                  expression: 'avg(/LW_Template SNMP Huawei Firewall Network General/MemoryUsage[{#SNMPVALUE10}],180s)>80'
                  name: '[网络设备]{HOST.NAME}板卡[{#SNMPVALUE10}]内存使用率平均3分钟高于80%'
                  priority: WARNING
                  description: (状态值表示当前使用率)
                  manual_close: 'YES'
                  dependencies:
                    - name: '[网络设备]{HOST.NAME}板卡[{#SNMPVALUE10}]内存使用率平均3分钟高于90%'
                      expression: 'avg(/LW_Template SNMP Huawei Firewall Network General/MemoryUsage[{#SNMPVALUE10}],180s)>90'
                - uuid: 246d3339f9c247999a7fc65d8c17b815
                  expression: 'avg(/LW_Template SNMP Huawei Firewall Network General/MemoryUsage[{#SNMPVALUE10}],180s)>90'
                  name: '[网络设备]{HOST.NAME}板卡[{#SNMPVALUE10}]内存使用率平均3分钟高于90%'
                  priority: HIGH
                  description: (状态值表示当前使用率)
                  manual_close: 'YES'
            - uuid: 97a84d88f7cb4c4488b26717157a318d
              name: '{#SNMPVALUE10} (当前温度)'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.4.1.2011.10.2.6.1.1.1.1.12.{#SNMPINDEX}'
              key: 'TemperatureBoard[{#SNMPVALUE10}]'
              delay: '180'
              units: °C
              tags:
                - tag: Application
                  value: 温度
            - uuid: c72574ac437541018b8cd08392e7a010
              name: '{#SNMPVALUE10} (温度最高阈值)'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.4.1.2011.10.2.6.1.1.1.1.13.{#SNMPINDEX}'
              key: 'TemperatureHighThresholdBoard[{#SNMPVALUE10}]'
              delay: '180'
              units: °C
              tags:
                - tag: Application
                  value: 温度
            - uuid: ee2b22152b3942e7bea04c291ca18649
              name: '{#SNMPVALUE10} (电压值)'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.4.1.2011.10.2.6.1.1.1.1.14.{#SNMPINDEX}'
              key: 'VoltageBoard[{#SNMPVALUE10}]'
              delay: '180'
              units: V
              preprocessing:
                - type: MULTIPLIER
                  parameters:
                    - '0.01'
              tags:
                - tag: Application
                  value: 电压
            - uuid: 94ea8e3d649a483b9890c70bd5fd2578
              name: '{#SNMPVALUE10} (电压最高阈值)'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.4.1.2011.10.2.6.1.1.1.1.16.{#SNMPINDEX}'
              key: 'VoltageHighThresholdBoard[{#SNMPVALUE10}]'
              delay: '86400'
              units: V
              preprocessing:
                - type: MULTIPLIER
                  parameters:
                    - '0.01'
              tags:
                - tag: Application
                  value: 电压
            - uuid: e98a0694869349ec8e653203f29fc309
              name: '{#SNMPVALUE10} (电压最低阈值)'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.4.1.2011.10.2.6.1.1.1.1.15.{#SNMPINDEX}'
              key: 'VoltageLowThresholdBoard[{#SNMPVALUE10}]'
              delay: '86400'
              units: V
              preprocessing:
                - type: MULTIPLIER
                  parameters:
                    - '0.01'
              tags:
                - tag: Application
                  value: 电压
        - uuid: aa18d5a8cf6a4f92b1805d7dbdac7e3f
          name: 电源
          type: SNMP_AGENT
          snmp_oid: 'discovery[{#SNMPVALUE},1.3.6.1.4.1.2011.2.23.1.9.1.2.1.1]'
          key: Power
          delay: '3600'
          lifetime: 1d
          item_prototypes:
            - uuid: 2c142a1b5fa54d48abbc7ba4b40fb76a
              name: '{#SNMPVALUE} (电源状态)'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.4.1.2011.2.23.1.9.1.2.1.2.{#SNMPINDEX}'
              key: 'PowerStatus[{#SNMPVALUE}]'
              delay: '180'
              history: 7d
              valuemap:
                name: 华为电源状态
              tags:
                - tag: Application
                  value: 电源
              trigger_prototypes:
                - uuid: af73484d4d4c4633908d7e60d7980bbe
                  expression: 'last(/LW_Template SNMP Huawei Firewall Network General/PowerStatus[{#SNMPVALUE}])=3'
                  name: '[网络设备]{HOST.NAME}设备{#SNMPVALUE}电源异常'
                  priority: HIGH
                  description: |
                    (状态值表示当前状态)
                    1⇒正常
                    2⇒警告
                    3⇒严重
                    4⇒关闭
                    5⇒不存在
                    设备电源异常
                  manual_close: 'YES'
        - uuid: ba308c9de9ef496bad9588c2237b2a94
          name: 传感器5
          type: SNMP_AGENT
          snmp_oid: 'discovery[{#SNMPVALUE5},SNMPv2-SMI::mib-2.47.1.1.1.1.7,{#SNMPCLASS5},SNMPv2-SMI::mib-2.47.1.1.1.1.5,{#TEM5},1.3.6.1.4.1.2011.5.25.31.1.1.1.1.11]'
          key: Sensor5.25.31
          delay: '3600'
          filter:
            conditions:
              - macro: '{#SNMPCLASS5}'
                value: (7|8)
                formulaid: A
              - macro: '{#TEM5}'
                value: ^0$
                operator: NOT_MATCHES_REGEX
                formulaid: B
          lifetime: 3d
          description: 5.25.31
          item_prototypes:
            - uuid: 38593d4b0ce440d0b51fbe585bcbe065
              name: '{#SNMPVALUE5} (温度最高阀值)'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.4.1.2011.5.25.31.1.1.1.1.12.{#SNMPINDEX}'
              key: 'TemperatureHighThresholdSensor[{#SNMPVALUE5}]'
              delay: '86400'
              history: 7d
              units: °C
              tags:
                - tag: Application
                  value: 温度
            - uuid: 40801727944b4b09a448c8fa28aa1f8a
              name: '{#SNMPVALUE5} 温度'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.4.1.2011.5.25.31.1.1.1.1.11.{#SNMPINDEX}'
              key: 'TemperatureSensor[{#SNMPVALUE5}]'
              delay: '180'
              history: 7d
              units: °C
              tags:
                - tag: Application
                  value: 温度
          trigger_prototypes:
            - uuid: 3d21ed93c76e4d34863fd8daccad89b0
              expression: 'last(/LW_Template SNMP Huawei Firewall Network General/TemperatureSensor[{#SNMPVALUE5}])>last(/LW_Template SNMP Huawei Firewall Network General/TemperatureHighThresholdSensor[{#SNMPVALUE5}])>0'
              name: '[网络设备]{HOST.NAME}实体[{#SNMPVALUE5}]温度过高，高于系统阀值'
              priority: HIGH
              description: |
                (状态值1表示当前温度)
                (状态值2表示温度阈值)
              manual_close: 'YES'
        - uuid: a985198d63bd40f3823591fdd7d5458d
          name: 实体状态5
          type: SNMP_AGENT
          snmp_oid: 'discovery[{#SNMPVALUE5},SNMPv2-SMI::mib-2.47.1.1.1.1.7,{#SNMPCLASS5},SNMPv2-SMI::mib-2.47.1.1.1.1.5,{#TEM5},1.3.6.1.4.1.2011.5.25.31.1.1.1.1.12]'
          key: SMIStatus5.25.31
          delay: '3600'
          filter:
            conditions:
              - macro: '{#SNMPCLASS5}'
                value: (3|4|5|6|7|8|9|11|12)
                formulaid: A
              - macro: '{#TEM5}'
                value: '^[0-9]*$'
                formulaid: B
          lifetime: 3d
          description: 5.25.31
          item_prototypes:
            - uuid: a041ecdc8ff94fd194c488ccbde465a8
              name: '{#SNMPVALUE5} (状态)'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.4.1.2011.5.25.31.1.1.1.1.2.{#SNMPINDEX}'
              key: 'HardwareStatus[{#SNMPVALUE5}]'
              delay: '300'
              history: 7d
              description: hwEntityOperStatus
              valuemap:
                name: 华为实体状态5.25.31
              tags:
                - tag: Application
                  value: 实体状态
              trigger_prototypes:
                - uuid: cc11203696d7452d8b64bcb2d20874a2
                  expression: 'last(/LW_Template SNMP Huawei Firewall Network General/HardwareStatus[{#SNMPVALUE5}])=4'
                  name: '[网络设备]{HOST.NAME}设备槽位{#SNMPVALUE5}离线'
                  priority: HIGH
                  description: |
                    (状态值表示当前状态)
                    1⇒该实体不支持
                    2⇒该实体处于关闭状态
                    3⇒该实体处于启用状态
                    4⇒该实体断开连接
                  manual_close: 'YES'
      valuemaps:
        - uuid: 97c8699e07fa42feb1a82fa1cb57bf12
          name: 华为实体状态5.25.31
          mappings:
            - value: '1'
              newvalue: notSupported
            - value: '2'
              newvalue: disabled
            - value: '3'
              newvalue: enabled
            - value: '4'
              newvalue: offline
        - uuid: 6d6a62bf369b4ac8a033feccacb105f2
          name: 华为电源状态
          mappings:
            - value: '1'
              newvalue: normal
            - value: '2'
              newvalue: warning
            - value: '3'
              newvalue: critical
            - value: '4'
              newvalue: shutdown
            - value: '5'
              newvalue: notPresent
            - value: '6'
              newvalue: notFunctioning
        - uuid: aec2cf8793434f2fa4ad97d119cee752
          name: 华为风扇在位状态5.25.31
          mappings:
            - value: '1'
              newvalue: present
            - value: '2'
              newvalue: absent
        - uuid: 757456732cbb40afba640413aadf803b
          name: 华为风扇运行状态5.25.31
          mappings:
            - value: '1'
              newvalue: normal
            - value: '2'
              newvalue: abnormal
  triggers:
    - uuid: ebbf3ba791724e41b0791a377dd0f1ef
      expression: 'max(/LW_Template SNMP Huawei Firewall Network General/icmpping[,2,,,],3m)=0 and nodata(/LW_Template SNMP Huawei Firewall Network General/sysUpTime,3m)=1'
      recovery_mode: RECOVERY_EXPRESSION
      recovery_expression: 'min(/LW_Template SNMP Huawei Firewall Network General/icmpping[,2,,,],3m)=1 and nodata(/LW_Template SNMP Huawei Firewall Network General/sysUpTime,2m)=0'
      name: '[网络设备]{HOST.NAME}失联,持续3分钟未响应'
      priority: HIGH
      description: |
        状态值1为系统持续运行时间和ICMP探测状态（1为通，0为断）
        状态值2为BMC运行时间
      manual_close: 'YES'
    - uuid: e33f2ddc053d4d02943da5c91b78ac9d
      expression: 'change(/LW_Template SNMP Huawei Firewall Network General/sysUpTime)<0 and last(/LW_Template SNMP Huawei Firewall Network General/sysUpTime)<1800 and avg(/LW_Template SNMP Huawei Firewall Network General/icmpping[,2,,,],2m)<1'
      name: '[网络设备]{HOST.NAME}设备刚发生重启'
      priority: HIGH
      description: |
        (当前状态值为系统持续运行时间)
        主机采集到的系统运行时间突然减少重置，当系统运行时间正常递增，则恢复告警，该值在设备连续运行未超过300多天时可以当作设备运行时间，当超过300多天根据型号不同，计数器会自动重置为0重新计算时间
      manual_close: 'YES'
