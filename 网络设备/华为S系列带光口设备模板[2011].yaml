zabbix_export:
  version: '6.0'
  date: '2024-04-24T07:16:10Z'
  groups:
    - uuid: 9397477ac4614c8da379ea37c1c5b0e0
      name: 监控模板
    - uuid: 989d6a022aab491b8a20c2ee4be9c738
      name: 网络设备模板
  templates:
    - uuid: 6c6edbf3fc5c407dbb05675910c9d97e
      template: 'LW_Template SNMP Huawei Switch Network_S with Optical General'
      name: '华为S系列带光口设备模板[2011]'
      groups:
        - name: 监控模板
        - name: 网络设备模板
      items:
        - uuid: 86689e46cdeb46d394ca8aad1394858b
          name: 'ICMP 丢包率'
          type: SIMPLE
          key: 'icmppingloss[,2,,,]'
          delay: '60'
          history: 7d
          value_type: FLOAT
          units: '%'
          description: 'ICMP pingloss'
          tags:
            - tag: Application
              value: ICMP
        - uuid: fbd975a71a1e4bd88988153ab1c8312c
          name: 'ICMP 延时'
          type: SIMPLE
          key: 'icmppingsec[,2,,,]'
          delay: '60'
          history: 7d
          value_type: FLOAT
          units: ms
          description: 'ICMP pingsec'
          tags:
            - tag: Application
              value: ICMP
        - uuid: 4a4dc0882eaa45c0aa427f0323ca5bad
          name: 'ICMP ping状态'
          type: SIMPLE
          key: 'icmpping[,2,,,]'
          delay: '60'
          history: 7d
          description: 'ICMP ping'
          request_method: POST
          tags:
            - tag: Application
              value: ICMP
        - uuid: dcb778727fdf45e5af524f16ed76d989
          name: 端口数量
          type: SNMP_AGENT
          snmp_oid: 'IF-MIB::ifNumber.0'
          key: ifNumber
          delay: '3600'
          history: 7d
          description: 'The number of network interfaces (regardless of their current state) present on this system.'
          tags:
            - tag: Application
              value: 端口信息
        - uuid: bd2fc1882a034ca68a7473023799eb1f
          name: 'LW:LW_NETWORKDEVICES_HUAWEI'
          type: SNMP_AGENT
          snmp_oid: interfaces.ifTable.ifEntry.ifInOctets.1
          key: LW_NETWORKDEVICES_HUAWEI
          delay: '30'
          status: DISABLED
          description: '{"snmp":1}'
        - uuid: e6326bb0dc6a4381bd57fe5231837447
          name: 'SNMP traps (fallback)'
          type: SNMP_TRAP
          key: snmptrap.fallback
          delay: '0'
          history: 7d
          trends: '0'
          value_type: LOG
          logtimefmt: 'hh:mm:sszyyyy/MM/dd'
          request_method: POST
          tags:
            - tag: Application
              value: 常规
        - uuid: 7d24397b5efa4553865b1b53bf274829
          name: 设备详细的联系方式
          type: SNMP_AGENT
          snmp_oid: 'SNMPv2-MIB::sysContact.0'
          key: sysContact
          delay: 1d
          history: 7d
          trends: '0'
          value_type: CHAR
          description: 'The textual identification of the contact person for this managed node, together with information on how to contact this person.  If no contact information is known, the value is the zero-length string.'
          inventory_link: CONTACT
          request_method: POST
          tags:
            - tag: Application
              value: 常规
        - uuid: 54faded5bd224b3c92016f821927e969
          name: 设备描述
          type: SNMP_AGENT
          snmp_oid: 'SNMPv2-MIB::sysDescr.0'
          key: sysDescr
          delay: 1d
          history: 7d
          trends: '0'
          value_type: CHAR
          description: 'A textual description of the entity.  This value should include the full name and version identification of the system''s hardware type, software operating-system, and networking software.'
          inventory_link: HARDWARE
          request_method: POST
          tags:
            - tag: Application
              value: 常规
        - uuid: 11755ed399be49408e2badfc91fb9168
          name: 设备位置
          type: SNMP_AGENT
          snmp_oid: 'SNMPv2-MIB::sysLocation.0'
          key: sysLocation
          delay: 1d
          history: 7d
          trends: '0'
          value_type: CHAR
          description: 'The physical location of this node (e.g., `telephone closet, 3rd floor'').  If the location is unknown, the value is the zero-length string.'
          inventory_link: LOCATION
          request_method: POST
          tags:
            - tag: Application
              value: 常规
        - uuid: 0fb101c8f0434723ae583f1058fd7f7f
          name: 设备名称
          type: SNMP_AGENT
          snmp_oid: 'SNMPv2-MIB::sysName.0'
          key: sysName
          delay: 1d
          history: 7d
          trends: '0'
          value_type: CHAR
          description: 'An administratively-assigned name for this managed node. By convention, this is the node''s fully-qualified domain name.  If the name is unknown, the value is the zero-length string.'
          inventory_link: NAME
          request_method: POST
          tags:
            - tag: Application
              value: 常规
          triggers:
            - uuid: e76b007fc2144af498318584e7cb5a1a
              expression: '(last(/LW_Template SNMP Huawei Switch Network_S with Optical General/sysName,#1)<>last(/LW_Template SNMP Huawei Switch Network_S with Optical General/sysName,#2))>0'
              name: '[网络设备]{HOST.NAME}设备名称发生改变'
              priority: WARNING
              description: |
                (当前状态值为改变后的设备名称)
                设备名称发生改变
              manual_close: 'YES'
        - uuid: d9492a7610ba44fb9a479e77355d28f0
          name: 设备运行时间
          type: SNMP_AGENT
          snmp_oid: 'SNMPv2-MIB::sysUpTime.0'
          key: sysUpTime
          history: 7d
          units: uptime
          description: 'The time since the network management portion of the system was last re-initialized.，该值在设备连续运行未超过300多天时可以当作设备运行时间，当超过300多天根据型号不同，改计数器会自动重置为0重新计算时间'
          preprocessing:
            - type: MULTIPLIER
              parameters:
                - '0.01'
          request_method: POST
          tags:
            - tag: Application
              value: 常规
          triggers:
            - uuid: 2dd41a44ede34bee9520108f629c75e9
              expression: 'nodata(/LW_Template SNMP Huawei Switch Network_S with Optical General/sysUpTime,10m)=1'
              name: '[网络设备]{HOST.NAME}SNMP采集中断'
              priority: HIGH
              description: |
                状态值1为BMC运行时间
                需要检查SNMP团体名是否不对应，或网络设备不支持多进程请求，或网络拦截snmp协议等
              manual_close: 'YES'
              dependencies:
                - name: '[网络设备]{HOST.NAME}失联,持续3分钟未响应'
                  expression: 'max(/LW_Template SNMP Huawei Switch Network_S with Optical General/icmpping[,2,,,],3m)=0 and nodata(/LW_Template SNMP Huawei Switch Network_S with Optical General/sysUpTime,3m)=1'
                  recovery_expression: 'min(/LW_Template SNMP Huawei Switch Network_S with Optical General/icmpping[,2,,,],3m)=1 and nodata(/LW_Template SNMP Huawei Switch Network_S with Optical General/sysUpTime,2m)=0'
      discovery_rules:
        - uuid: 64ad61febf1c469bb43d0d7c57b3f51c
          name: 风扇2
          type: SNMP_AGENT
          snmp_oid: 'discovery[{#SNMPVALUE2},1.3.6.1.4.1.2011.2.23.1.9.1.1.1.1]'
          key: Fan2.23.1
          delay: '3600'
          lifetime: 1d
          item_prototypes:
            - uuid: dbb2e6da9f2a442e91e4b8d7710d8f55
              name: '{#SNMPVALUE2},{#SNMPINDEX} (风扇状态)'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.4.1.2011.2.23.1.9.1.1.1.2.{#SNMPINDEX}'
              key: 'FanState[{#SNMPVALUE2},{#SNMPINDEX}]'
              delay: '180'
              valuemap:
                name: 华为风扇运行状态5.25.31
              tags:
                - tag: Application
                  value: 风扇
              trigger_prototypes:
                - uuid: 70af682926c14861be70148942bdc03f
                  expression: 'last(/LW_Template SNMP Huawei Switch Network_S with Optical General/FanState[{#SNMPVALUE2},{#SNMPINDEX}])>1'
                  name: '[网络设备]{HOST.NAME}设备风扇{#SNMPVALUE2} 异常'
                  priority: HIGH
                  description: |
                    (状态值表示当前状态)
                    1⇒正常
                    2⇒异常
                  manual_close: 'YES'
        - uuid: 9dddd7e8c7b2403c9fd20dd58cc5c97e
          name: 风扇5
          type: SNMP_AGENT
          snmp_oid: 'discovery[{#SNMPVALUE},1.3.6.1.4.1.2011.5.25.31.1.1.10.1.2]'
          key: Fan5.25.31
          delay: '3600'
          lifetime: 3d
          description: 5.25.31
          item_prototypes:
            - uuid: 5254b5d836994b66b40add91efff6362
              name: '{#SNMPINDEX} (风扇在位状态)'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.4.1.2011.5.25.31.1.1.10.1.6.{#SNMPINDEX}'
              key: 'FanPresent[{#SNMPINDEX}]'
              delay: '180'
              valuemap:
                name: 华为风扇在位状态5.25.31
              tags:
                - tag: Application
                  value: 风扇
              trigger_prototypes:
                - uuid: 379bc9ebab7f40fbb3d5ac604fa70215
                  expression: 'last(/LW_Template SNMP Huawei Switch Network_S with Optical General/FanPresent[{#SNMPINDEX}])>1'
                  name: '[网络设备]{HOST.NAME}设备风扇{#SNMPVALUE}不在位'
                  status: DISABLED
                  priority: HIGH
                  description: |
                    状态值表示：
                    1⇒在位
                    2⇒不在位
            - uuid: daefd9a021464ad2b8b5dcc31a673fbf
              name: '{#SNMPINDEX}  (风扇转速)'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.4.1.2011.5.25.31.1.1.10.1.5.{#SNMPINDEX}'
              key: 'FanRPM[{#SNMPINDEX}]'
              delay: '180'
              units: '(% or rpm)'
              tags:
                - tag: Application
                  value: 风扇
            - uuid: 0a625c74b3634e94a9625f4bfc369021
              name: '{#SNMPINDEX} (单板槽位号)'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.4.1.2011.5.25.31.1.1.10.1.1.{#SNMPINDEX}'
              key: 'FanSlot[{#SNMPINDEX}]'
              delay: '86400'
              tags:
                - tag: Application
                  value: 风扇
            - uuid: 606563277a1a4bc8bb3000022eb2c41b
              name: '{#SNMPINDEX} (风扇运行状态)'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.4.1.2011.5.25.31.1.1.10.1.7.{#SNMPINDEX}'
              key: 'FanState[{#SNMPINDEX}]'
              delay: '180'
              valuemap:
                name: 华为风扇运行状态5.25.31
              tags:
                - tag: Application
                  value: 风扇
              trigger_prototypes:
                - uuid: 171b0d552a084a32a3b03f2d1c5d4809
                  expression: 'last(/LW_Template SNMP Huawei Switch Network_S with Optical General/FanState[{#SNMPINDEX}])>1'
                  name: '[网络设备]{HOST.NAME}设备风扇{#SNMPVALUE} 异常'
                  priority: HIGH
                  description: |
                    状态值表示：
                    1⇒正常
                    2⇒异常
        - uuid: c948757ce85a49a5babbeb2482d2e213
          name: '端口表 UP'
          type: SNMP_AGENT
          snmp_oid: 'discovery[{#SNMPVALUE},IF-MIB::ifName,{#SNMPOPEN},IF-MIB::ifOperStatus]'
          key: ifDescr
          delay: '3600'
          filter:
            evaltype: AND
            conditions:
              - macro: '{#SNMPOPEN}'
                value: (1|3)
                formulaid: A
              - macro: '{#SNMPVALUE}'
                value: '@Network interfaces for discovery'
                formulaid: B
          lifetime: 3d
          description: 端口表
          item_prototypes:
            - uuid: 9b683c335df541e0a7932464fa0485e1
              name: '{#SNMPVALUE}（端口启用管理状态）'
              type: SNMP_AGENT
              snmp_oid: 'IF-MIB::ifAdminStatus.{#SNMPINDEX}'
              key: 'ifAdminStatus[{#SNMPVALUE}]'
              delay: 2m
              history: 7d
              tags:
                - tag: Application
                  value: 端口状态
            - uuid: 0ce83993c4a74386add80a35bdb7c52e
              name: '{#SNMPVALUE}（端口描述）'
              type: SNMP_AGENT
              snmp_oid: 'IF-MIB::ifAlias.{#SNMPINDEX}'
              key: 'ifAlias[{#SNMPVALUE}]'
              delay: 1d
              history: 7d
              trends: '0'
              value_type: CHAR
              description: 端口描述
              tags:
                - tag: Application
                  value: 端口信息
            - uuid: 8945fe05a5fb42699b0dd97da30b35eb
              name: '{#SNMPVALUE}（端口每秒接收速率）'
              type: SNMP_AGENT
              snmp_oid: 'IF-MIB::ifHCInOctets.{#SNMPINDEX}'
              key: 'ifHCInOctetsPersecond[{#SNMPVALUE}]'
              delay: 2m
              history: 7d
              units: bps
              description: 端口每秒接收速率
              preprocessing:
                - type: CHANGE_PER_SECOND
                  parameters:
                    - ''
                - type: MULTIPLIER
                  parameters:
                    - '8'
              tags:
                - tag: Application
                  value: 端口速率
            - uuid: e7c4f493d5f64e259545b47ab0b4b9fe
              name: '{#SNMPVALUE}（端口接收总流量）(5分钟)'
              type: SNMP_AGENT
              snmp_oid: 'IF-MIB::ifHCInOctets.{#SNMPINDEX}'
              key: 'ifHCInOctets[{#SNMPVALUE}]'
              delay: 5m
              history: 7d
              status: DISABLED
              discover: NO_DISCOVER
              units: B
              preprocessing:
                - type: SIMPLE_CHANGE
                  parameters:
                    - ''
              tags:
                - tag: Application
                  value: 端口速率
            - uuid: 65a6db5fcc6447519c68e5202b3d04f1
              name: '{#SNMPVALUE}（端口每秒发送速率）'
              type: SNMP_AGENT
              snmp_oid: 'IF-MIB::ifHCOutOctets.{#SNMPINDEX}'
              key: 'ifHCOutOctetsPersecond[{#SNMPVALUE}]'
              delay: 2m
              history: 7d
              units: bps
              description: |
                端口每秒发送速率
                .
              preprocessing:
                - type: CHANGE_PER_SECOND
                  parameters:
                    - ''
                - type: MULTIPLIER
                  parameters:
                    - '8'
              tags:
                - tag: Application
                  value: 端口速率
            - uuid: 5b2164f6d0f542629ef03e4d94869562
              name: '{#SNMPVALUE}（端口发送总流量）(5分钟)'
              type: SNMP_AGENT
              snmp_oid: 'IF-MIB::ifHCOutOctets.{#SNMPINDEX}'
              key: 'ifHCOutOctets[{#SNMPVALUE}]'
              delay: 5m
              history: 7d
              status: DISABLED
              discover: NO_DISCOVER
              units: B
              preprocessing:
                - type: SIMPLE_CHANGE
                  parameters:
                    - ''
              tags:
                - tag: Application
                  value: 端口速率
            - uuid: a930518b5ac242d3b04698d65dfe1796
              name: '{#SNMPVALUE}（端口带宽）'
              type: SNMP_AGENT
              snmp_oid: 'IF-MIB::ifHighSpeed.{#SNMPINDEX}'
              key: 'ifHighSpeed[{#SNMPVALUE}]'
              delay: 5m
              history: 7d
              units: bps
              description: 端口带宽
              preprocessing:
                - type: MULTIPLIER
                  parameters:
                    - '1000000'
              tags:
                - tag: Application
                  value: 端口带宽
            - uuid: 9619e305a301401ca48ba40b304fc8fd
              name: '{#SNMPVALUE}（端口序号）'
              type: SNMP_AGENT
              snmp_oid: 'IF-MIB::ifIndex.{#SNMPINDEX}'
              key: 'ifIndex[{#SNMPVALUE}]'
              delay: 1d
              history: 7d
              description: 端口序号
              tags:
                - tag: Application
                  value: 端口信息
            - uuid: 6b37db8acd4e419fad4a17d9c3f3b317
              name: '{#SNMPVALUE}（端口每秒接收丢包数）'
              type: SNMP_AGENT
              snmp_oid: 'IF-MIB::ifInDiscards.{#SNMPINDEX}'
              key: 'ifInDiscards[{#SNMPVALUE}]'
              delay: 10m
              history: 7d
              description: 端口每秒接收丢包数
              preprocessing:
                - type: CHANGE_PER_SECOND
                  parameters:
                    - ''
              tags:
                - tag: Application
                  value: 端口错丢包
            - uuid: f39592760a954139bf497fd1b79ac2c0
              name: '{#SNMPVALUE}（端口每秒接收错误包数）'
              type: SNMP_AGENT
              snmp_oid: 'IF-MIB::ifInErrors.{#SNMPINDEX}'
              key: 'ifInErrors[{#SNMPVALUE}]'
              delay: 10m
              history: 7d
              description: 端口每秒接收错误包数
              preprocessing:
                - type: CHANGE_PER_SECOND
                  parameters:
                    - ''
              tags:
                - tag: Application
                  value: 端口错丢包
            - uuid: 72c48aa7d67e447483fb9cd3e9a50b1f
              name: '{#SNMPVALUE}（端口名称）'
              type: SNMP_AGENT
              snmp_oid: 'IF-MIB::ifName.{#SNMPINDEX}'
              key: 'ifName[{#SNMPVALUE}]'
              delay: 1d
              history: 7d
              trends: '0'
              value_type: CHAR
              description: 端口名称
              tags:
                - tag: Application
                  value: 端口信息
            - uuid: 09cc1bbbf2e14fd5aff7fd87ae913b72
              name: '{#SNMPVALUE}（端口物理连接状态）'
              type: SNMP_AGENT
              snmp_oid: 'IF-MIB::ifOperStatus.{#SNMPINDEX}'
              key: 'ifOperStatus[{#SNMPVALUE}]'
              delay: 2m
              history: 7d
              tags:
                - tag: Application
                  value: 端口状态
              trigger_prototypes:
                - uuid: 5d0dcc1ccbf842dba0a95cac3b8c517c
                  expression: 'last(/LW_Template SNMP Huawei Switch Network_S with Optical General/ifOperStatus[{#SNMPVALUE}])=2'
                  name: '[网络设备]{HOST.NAME}设备端口{#SNMPVALUE}处于DOWN状态'
                  priority: AVERAGE
                  description: |
                    状态值表示:
                    1⇒正常
                    2⇒关闭
                    {HOST.NAME}设备端口{#SNMPVALUE}状态不正常，可能连线松动、未启用、对端设备重启、端口损坏等
                  manual_close: 'YES'
            - uuid: 0586104b6d584fb3ba42aa4055a701f7
              name: '{#SNMPVALUE}（端口每秒发送丢包数）'
              type: SNMP_AGENT
              snmp_oid: 'IF-MIB::ifOutDiscards.{#SNMPINDEX}'
              key: 'ifOutDiscards[{#SNMPVALUE}]'
              delay: 10m
              history: 7d
              description: 端口每秒发送丢包数
              preprocessing:
                - type: CHANGE_PER_SECOND
                  parameters:
                    - ''
              tags:
                - tag: Application
                  value: 端口错丢包
            - uuid: fbfa2b77ab294c15bf8206973b5ad89a
              name: '{#SNMPVALUE}（端口每秒发送错误包数）'
              type: SNMP_AGENT
              snmp_oid: 'IF-MIB::ifOutErrors.{#SNMPINDEX}'
              key: 'ifOutErrors[{#SNMPVALUE}]'
              delay: 10m
              history: 7d
              description: 端口每秒发送错误包数
              preprocessing:
                - type: CHANGE_PER_SECOND
                  parameters:
                    - ''
              tags:
                - tag: Application
                  value: 端口错丢包
            - uuid: d4261ab4a8da4d85b41185f90f8b141f
              name: '{#SNMPVALUE}（端口物理地址）'
              type: SNMP_AGENT
              snmp_oid: 'IF-MIB::ifPhysAddress.{#SNMPINDEX}'
              key: 'ifPhysAddress[{#SNMPVALUE}]'
              delay: 1d
              history: 7d
              trends: '0'
              value_type: CHAR
              description: 端口物理地址
              tags:
                - tag: Application
                  value: 端口信息
            - uuid: ba359522bc0141e8a3c0373c93e74c13
              name: '{#SNMPVALUE}（端口带宽接收利用率）'
              type: CALCULATED
              key: 'ifSpeedifHCInOctetsPersecond[{#SNMPVALUE}]'
              delay: 2m
              history: 7d
              units: '%'
              params: '100*last(//ifHCInOctetsPersecond[{#SNMPVALUE}])/last(//ifHighSpeed[{#SNMPVALUE}])'
              description: 端口带宽利用率
              tags:
                - tag: Application
                  value: 端口带宽
            - uuid: 17960a3fe5b74ed8860a5c4462c28fc3
              name: '{#SNMPVALUE}（端口带宽发送利用率）'
              type: CALCULATED
              key: 'ifSpeedifHCOutOctetsPersecond[{#SNMPVALUE}]'
              delay: 2m
              history: 7d
              units: '%'
              params: '100*last(//ifHCOutOctetsPersecond[{#SNMPVALUE}])/last(//ifHighSpeed[{#SNMPVALUE}])'
              description: 端口带宽利用率
              tags:
                - tag: Application
                  value: 端口带宽
            - uuid: fa1ea6031c994470a175107334000ca8
              name: '{#SNMPVALUE}（端口类型）'
              type: SNMP_AGENT
              snmp_oid: 'IF-MIB::ifType.{#SNMPINDEX}'
              key: 'ifType[{#SNMPVALUE}]'
              delay: 1d
              history: 7d
              description: 端口类型
              tags:
                - tag: Application
                  value: 端口信息
          trigger_prototypes:
            - uuid: 4ec08d65e72a4946a369de3e267d5ab7
              expression: 'last(/LW_Template SNMP Huawei Switch Network_S with Optical General/ifSpeedifHCOutOctetsPersecond[{#SNMPVALUE}])>90 and last(/LW_Template SNMP Huawei Switch Network_S with Optical General/ifHighSpeed[{#SNMPVALUE}])>0'
              name: '[网络设备]{HOST.NAME}设备端口{#SNMPVALUE}带宽发送利用率大于90%'
              priority: WARNING
              description: |
                (状态值表示当前利用率)
                {HOST.NAME}设备端口{#SNMPVALUE}带宽发送利用率大于90%
              manual_close: 'YES'
            - uuid: ed51e445c805470298e804781d57c8d5
              expression: 'last(/LW_Template SNMP Huawei Switch Network_S with Optical General/ifSpeedifHCInOctetsPersecond[{#SNMPVALUE}])>90 and last(/LW_Template SNMP Huawei Switch Network_S with Optical General/ifHighSpeed[{#SNMPVALUE}])>0'
              name: '[网络设备]{HOST.NAME}设备端口{#SNMPVALUE}带宽接收利用率大于90%'
              priority: WARNING
              description: |
                (状态值表示当前利用率)
                {HOST.NAME}设备端口{#SNMPVALUE}带宽接收利用率大于80%
              manual_close: 'YES'
          graph_prototypes:
            - uuid: c531949b537247b798f852c2428a888a
              name: '网络端口 {#SNMPVALUE} 利用率'
              graph_items:
                - color: 2774A4
                  item:
                    host: 'LW_Template SNMP Huawei Switch Network_S with Optical General'
                    key: 'ifSpeedifHCOutOctetsPersecond[{#SNMPVALUE}]'
                - sortorder: '1'
                  color: A54F10
                  item:
                    host: 'LW_Template SNMP Huawei Switch Network_S with Optical General'
                    key: 'ifSpeedifHCInOctetsPersecond[{#SNMPVALUE}]'
            - uuid: c7e2965de5844ee7b3bc4a5ace617b43
              name: '网络端口 {#SNMPVALUE} 总流量'
              graph_items:
                - drawtype: GRADIENT_LINE
                  color: 00AA00
                  item:
                    host: 'LW_Template SNMP Huawei Switch Network_S with Optical General'
                    key: 'ifHCInOctets[{#SNMPVALUE}]'
                - sortorder: '1'
                  drawtype: GRADIENT_LINE
                  color: 3333FF
                  item:
                    host: 'LW_Template SNMP Huawei Switch Network_S with Optical General'
                    key: 'ifHCOutOctets[{#SNMPVALUE}]'
            - uuid: 0501cb0e7d2e46519bf749be6db9ab27
              name: '网络端口 {#SNMPVALUE} 速率'
              graph_items:
                - color: 2774A4
                  item:
                    host: 'LW_Template SNMP Huawei Switch Network_S with Optical General'
                    key: 'ifHCInOctetsPersecond[{#SNMPVALUE}]'
                - sortorder: '1'
                  color: A54F10
                  item:
                    host: 'LW_Template SNMP Huawei Switch Network_S with Optical General'
                    key: 'ifHCOutOctetsPersecond[{#SNMPVALUE}]'
        - uuid: b27effba8aba442fb5ba78220bed03eb
          name: '端口表 DOWN'
          type: SNMP_AGENT
          snmp_oid: 'discovery[{#SNMPVALUE2},IF-MIB::ifName,{#SNMPOPEN},IF-MIB::ifOperStatus]'
          key: ifDescr2
          delay: '3600'
          filter:
            evaltype: AND
            conditions:
              - macro: '{#SNMPOPEN}'
                value: (2)
                formulaid: A
              - macro: '{#SNMPVALUE2}'
                value: '@Network interfaces for discovery'
                formulaid: B
          lifetime: 0d
          description: 端口表
          item_prototypes:
            - uuid: 1bf53dc86471487796f57631fc8dbcac
              name: '{#SNMPVALUE2} （端口启用管理状态）'
              type: SNMP_AGENT
              snmp_oid: 'IF-MIB::ifAdminStatus.{#SNMPINDEX}'
              key: 'ifAdminStatus[{#SNMPVALUE2}]'
              delay: 2m
              tags:
                - tag: Application
                  value: 端口状态
            - uuid: 3593f50cebf343cca787caf12914a72b
              name: '{#SNMPVALUE2} （端口物理连接状态）'
              type: SNMP_AGENT
              snmp_oid: 'IF-MIB::ifOperStatus.{#SNMPINDEX}'
              key: 'ifOperStatus[{#SNMPVALUE2}]'
              delay: 2m
              tags:
                - tag: Application
                  value: 端口状态
        - uuid: 0987f7a5095d4d21b737d15adaf71e4c
          name: 主板模块5
          type: SNMP_AGENT
          snmp_oid: 'discovery[{#SNMPVALUE5},SNMPv2-SMI::mib-2.47.1.1.1.1.7,{#SNMPCLASS5},SNMPv2-SMI::mib-2.47.1.1.1.1.5,{#TEM5},1.3.6.1.4.1.2011.5.25.31.1.1.1.1.12]'
          key: Module5.25.31
          delay: '3600'
          filter:
            conditions:
              - macro: '{#SNMPCLASS5}'
                value: '9'
                formulaid: A
              - macro: '{#TEM5}'
                value: '^[^ ]'
                formulaid: B
          lifetime: 3d
          description: 5.25.31
          item_prototypes:
            - uuid: e9ccc40895b74cf28a48a51d8c527a5d
              name: '{#SNMPVALUE5},{#SNMPINDEX} (CPU使用率最高阈值)'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.4.1.2011.5.25.31.1.1.1.1.6.{#SNMPINDEX}'
              key: 'CPUUsageThreshold[{#SNMPVALUE5},{#SNMPINDEX}]'
              delay: '86400'
              history: 7d
              units: '%'
              description: hwEntityCpuUsageThreshold
              tags:
                - tag: Application
                  value: CPU
            - uuid: 0e1e3b8a43314d65951c038c9466f4b2
              name: '{#SNMPVALUE5},{#SNMPINDEX} (CPU使用率)'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.4.1.2011.5.25.31.1.1.1.1.5.{#SNMPINDEX}'
              key: 'CPUUsage[{#SNMPVALUE5},{#SNMPINDEX}]'
              delay: '180'
              history: 7d
              units: '%'
              description: hwEntityCpuUsage
              tags:
                - tag: Application
                  value: CPU
              trigger_prototypes:
                - uuid: cd87edbf02894c7a810dddcb6f55140b
                  expression: 'last(/LW_Template SNMP Huawei Switch Network_S with Optical General/CPUUsage[{#SNMPVALUE5},{#SNMPINDEX}])>80'
                  name: '[网络设备]{HOST.NAME}板卡[{#SNMPVALUE5}]CPU使用率平均3分钟高于80%'
                  priority: WARNING
                  description: |
                    (状态值表示当前使用率)
                    设备CPU使用率平均3分钟高于80%
                  manual_close: 'YES'
                  dependencies:
                    - name: '[网络设备]{HOST.NAME}板卡[{#SNMPVALUE5}]CPU使用率平均3分钟高于90%'
                      expression: 'last(/LW_Template SNMP Huawei Switch Network_S with Optical General/CPUUsage[{#SNMPVALUE5},{#SNMPINDEX}])>90'
                - uuid: 1f73234e88984f5b8e73c1c90d92d31e
                  expression: 'last(/LW_Template SNMP Huawei Switch Network_S with Optical General/CPUUsage[{#SNMPVALUE5},{#SNMPINDEX}])>90'
                  name: '[网络设备]{HOST.NAME}板卡[{#SNMPVALUE5}]CPU使用率平均3分钟高于90%'
                  priority: HIGH
                  description: |
                    (状态值表示当前使用率)
                    设备CPU使用率平均3分钟高于90%
                  manual_close: 'YES'
            - uuid: d6a0115ae6a2484fb2379e5b65bba5ca
              name: '{#SNMPVALUE5},{#SNMPINDEX}  (厂商)'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.2.1.47.1.1.1.1.12.{#SNMPINDEX}'
              key: 'Manufacturer[{#SNMPVALUE5},{#SNMPINDEX}]'
              delay: '86400'
              history: 7d
              trends: '0'
              value_type: CHAR
              tags:
                - tag: Application
                  value: 主板信息
            - uuid: a9778bcd61e64924b6a7ad650bb9229a
              name: '{#SNMPVALUE5},{#SNMPINDEX} (内存总大小)'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.4.1.2011.5.25.31.1.1.1.1.9.{#SNMPINDEX}'
              key: 'MemoryTotal[{#SNMPVALUE5},{#SNMPINDEX}]'
              delay: '86400'
              history: 7d
              units: B
              description: hwEntityMemSize
              tags:
                - tag: Application
                  value: 内存
            - uuid: 08a5257c02424e7ea8f7783b9a7bcefb
              name: '{#SNMPVALUE5},{#SNMPINDEX} (内存使用率最高阈值)'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.4.1.2011.5.25.31.1.1.1.1.8.{#SNMPINDEX}'
              key: 'MemoryUsageThreshold[{#SNMPVALUE5},{#SNMPINDEX}]'
              delay: '86400'
              history: 7d
              units: '%'
              description: hwEntityMemUsageThreshold
              tags:
                - tag: Application
                  value: 内存
            - uuid: 83d6cbaba57d4fa6a94579fa3c713102
              name: '{#SNMPVALUE5},{#SNMPINDEX} (内存使用率)'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.4.1.2011.5.25.31.1.1.1.1.7.{#SNMPINDEX}'
              key: 'MemoryUsage[{#SNMPVALUE5},{#SNMPINDEX}]'
              delay: '180'
              history: 7d
              units: '%'
              description: hwEntityMemUsage
              tags:
                - tag: Application
                  value: 内存
              trigger_prototypes:
                - uuid: 661b1d541fe64b18ab93519e8ccf08d2
                  expression: 'last(/LW_Template SNMP Huawei Switch Network_S with Optical General/MemoryUsage[{#SNMPVALUE5},{#SNMPINDEX}])>80'
                  name: '[网络设备]{HOST.NAME}板卡[{#SNMPVALUE5}]内存使用率平均3分钟高于80%'
                  priority: WARNING
                  description: |
                    (状态值表示当前使用率)
                    设备内存使用率平均3分钟高于80%
                  manual_close: 'YES'
                  dependencies:
                    - name: '[网络设备]{HOST.NAME}板卡[{#SNMPVALUE5}]内存使用率平均3分钟高于90%'
                      expression: 'last(/LW_Template SNMP Huawei Switch Network_S with Optical General/MemoryUsage[{#SNMPVALUE5},{#SNMPINDEX}])>90'
                - uuid: c526d44f27034da59113b74239f96af0
                  expression: 'last(/LW_Template SNMP Huawei Switch Network_S with Optical General/MemoryUsage[{#SNMPVALUE5},{#SNMPINDEX}])>90'
                  name: '[网络设备]{HOST.NAME}板卡[{#SNMPVALUE5}]内存使用率平均3分钟高于90%'
                  priority: HIGH
                  description: |
                    (状态值表示当前使用率)
                    设备内存使用率平均3分钟高于90%
                  manual_close: 'YES'
            - uuid: d060b3868a2e49a6873844ee1d89b10e
              name: '{#SNMPVALUE5},{#SNMPINDEX}  (型号)'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.2.1.47.1.1.1.1.13.{#SNMPINDEX}'
              key: 'Model[{#SNMPVALUE5},{#SNMPINDEX}]'
              delay: '86400'
              history: 7d
              trends: '0'
              value_type: CHAR
              tags:
                - tag: Application
                  value: 主板信息
            - uuid: 8dd0ecbdac2c4d849cee479bb5de8bee
              name: '{#SNMPVALUE5},{#SNMPINDEX}  (序列号)'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.2.1.47.1.1.1.1.11.{#SNMPINDEX}'
              key: 'Serial[{#SNMPVALUE5},{#SNMPINDEX}]'
              delay: '86400'
              history: 7d
              trends: '0'
              value_type: CHAR
              tags:
                - tag: Application
                  value: 主板信息
            - uuid: f2eac6502da041bebbce5d19528e5a73
              name: '{#SNMPVALUE5},{#SNMPINDEX} (当前温度)'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.4.1.2011.5.25.31.1.1.1.1.11.{#SNMPINDEX}'
              key: 'TemperatureBoard[{#SNMPVALUE5},{#SNMPINDEX}]'
              delay: '180'
              history: 7d
              units: °C
              description: hwEntityTemperature
              tags:
                - tag: Application
                  value: 温度
            - uuid: 96577095ad1b4893b18a24e5c5c918c4
              name: '{#SNMPVALUE5},{#SNMPINDEX} (温度最高阈值)'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.4.1.2011.5.25.31.1.1.1.1.12.{#SNMPINDEX}'
              key: 'TemperatureHighThresholdBoard[{#SNMPVALUE5},{#SNMPINDEX}]'
              delay: '86400'
              history: 7d
              units: °C
              description: hwEntityTemperatureThreshold
              tags:
                - tag: Application
                  value: 温度
            - uuid: 8d94316147214e60b2d4bc390ccfbaf4
              name: '{#SNMPVALUE5},{#SNMPINDEX}  (软件版本)'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.2.1.47.1.1.1.1.10.{#SNMPINDEX}'
              key: 'Version[{#SNMPVALUE5},{#SNMPINDEX}]'
              delay: '86400'
              history: 7d
              trends: '0'
              value_type: CHAR
              tags:
                - tag: Application
                  value: 主板信息
            - uuid: 46359d06b39f4f94b607c64a252a62c8
              name: '{#SNMPVALUE5},{#SNMPINDEX} (电压值)'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.4.1.2011.5.25.31.1.1.1.1.13.{#SNMPINDEX}'
              key: 'VoltageBoard[{#SNMPVALUE5},{#SNMPINDEX}]'
              delay: '180'
              history: 7d
              value_type: FLOAT
              units: V
              description: hwEntityVoltage
              preprocessing:
                - type: MULTIPLIER
                  parameters:
                    - '0.001'
              tags:
                - tag: Application
                  value: 电压
            - uuid: 8f4c3733969a4d6890b717644a46e75e
              name: '{#SNMPVALUE5},{#SNMPINDEX} (电压最高阈值)'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.4.1.2011.5.25.31.1.1.1.1.15.{#SNMPINDEX}'
              key: 'VoltageHighThresholdBoard[{#SNMPVALUE5},{#SNMPINDEX}]'
              delay: '86400'
              history: 7d
              value_type: FLOAT
              units: V
              description: hwEntityVoltageHighThreshold
              preprocessing:
                - type: MULTIPLIER
                  parameters:
                    - '0.001'
              tags:
                - tag: Application
                  value: 电压
            - uuid: efb34cacd196494c9a76f29fb6faa9c3
              name: '{#SNMPVALUE5},{#SNMPINDEX} (电压最低阈值)'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.4.1.2011.5.25.31.1.1.1.1.14.{#SNMPINDEX}'
              key: 'VoltageLowThresholdBoard[{#SNMPVALUE5},{#SNMPINDEX}]'
              delay: '86400'
              history: 7d
              value_type: FLOAT
              units: V
              description: hwEntityVoltageLowThreshold
              preprocessing:
                - type: MULTIPLIER
                  parameters:
                    - '0.001'
              tags:
                - tag: Application
                  value: 电压
          trigger_prototypes:
            - uuid: 93613cd5f8d44ea295c9d2062ad7c8fa
              expression: 'last(/LW_Template SNMP Huawei Switch Network_S with Optical General/TemperatureBoard[{#SNMPVALUE5},{#SNMPINDEX}])>last(/LW_Template SNMP Huawei Switch Network_S with Optical General/TemperatureHighThresholdBoard[{#SNMPVALUE5},{#SNMPINDEX}])>0'
              name: '[网络设备]{HOST.NAME}板卡[{#SNMPVALUE5}]温度过高，高于系统阈值'
              priority: HIGH
              description: |
                (状态值1表示当前温度)
                (状态值2表示温度阈值)
                设备温度过高，高于系统阈值
              manual_close: 'YES'
            - uuid: 2bf05d59e1ed4a5fbb40d3a7ec74a4f2
              expression: 'last(/LW_Template SNMP Huawei Switch Network_S with Optical General/VoltageBoard[{#SNMPVALUE5},{#SNMPINDEX}])<last(/LW_Template SNMP Huawei Switch Network_S with Optical General/VoltageLowThresholdBoard[{#SNMPVALUE5},{#SNMPINDEX}])'
              name: '[网络设备]{HOST.NAME}板卡[{#SNMPVALUE5}]电压过低'
              priority: WARNING
              description: |
                (状态值1表示当前电压)
                (状态值2表示电压阈值)
                设备电压低于系统阀值
              manual_close: 'YES'
            - uuid: eb5c9b44cdbe4de59ca985b139970251
              expression: 'last(/LW_Template SNMP Huawei Switch Network_S with Optical General/VoltageBoard[{#SNMPVALUE5},{#SNMPINDEX}])>last(/LW_Template SNMP Huawei Switch Network_S with Optical General/VoltageHighThresholdBoard[{#SNMPVALUE5},{#SNMPINDEX}])'
              name: '[网络设备]{HOST.NAME}板卡[{#SNMPVALUE5}]电压过高'
              priority: WARNING
              description: |
                (状态值1表示当前电压)
                (状态值2表示电压阈值)
                设备电压高于系统阀值
              manual_close: 'YES'
          graph_prototypes:
            - uuid: 400b4f2afc974daeacca7472de1d5528
              name: '{#SNMPINDEX}CPU/内存使用率'
              graph_items:
                - color: 1A7C11
                  item:
                    host: 'LW_Template SNMP Huawei Switch Network_S with Optical General'
                    key: 'CPUUsage[{#SNMPVALUE5},{#SNMPINDEX}]'
                - sortorder: '1'
                  color: F63100
                  item:
                    host: 'LW_Template SNMP Huawei Switch Network_S with Optical General'
                    key: 'MemoryUsage[{#SNMPVALUE5},{#SNMPINDEX}]'
            - uuid: fc592f26e6d34acaa5adec2f9b342b16
              name: '{#SNMPINDEX}温度'
              graph_items:
                - color: 1A7C11
                  item:
                    host: 'LW_Template SNMP Huawei Switch Network_S with Optical General'
                    key: 'TemperatureBoard[{#SNMPVALUE5},{#SNMPINDEX}]'
                - sortorder: '1'
                  color: F63100
                  item:
                    host: 'LW_Template SNMP Huawei Switch Network_S with Optical General'
                    key: 'TemperatureHighThresholdBoard[{#SNMPVALUE5},{#SNMPINDEX}]'
            - uuid: bb9ff919ad76410ea9e45cdcb8a5dfa8
              name: '{#SNMPINDEX}电压'
              graph_items:
                - color: 1A7C11
                  item:
                    host: 'LW_Template SNMP Huawei Switch Network_S with Optical General'
                    key: 'VoltageBoard[{#SNMPVALUE5},{#SNMPINDEX}]'
                - sortorder: '1'
                  color: F63100
                  item:
                    host: 'LW_Template SNMP Huawei Switch Network_S with Optical General'
                    key: 'VoltageHighThresholdBoard[{#SNMPVALUE5},{#SNMPINDEX}]'
                - sortorder: '2'
                  color: 2774A4
                  item:
                    host: 'LW_Template SNMP Huawei Switch Network_S with Optical General'
                    key: 'VoltageLowThresholdBoard[{#SNMPVALUE5},{#SNMPINDEX}]'
        - uuid: cfe1948d74da496ea77c281c220a9de6
          name: 主板模块10
          type: SNMP_AGENT
          snmp_oid: 'discovery[{#SNMPVALUE10},SNMPv2-SMI::mib-2.47.1.1.1.1.7,{#SNMPCLASS10},SNMPv2-SMI::mib-2.47.1.1.1.1.5,{#TEM10},1.3.6.1.4.1.2011.10.2.6.1.1.1.1.13]'
          key: Module10.2.6
          delay: '3600'
          status: DISABLED
          filter:
            conditions:
              - macro: '{#SNMPCLASS10}'
                value: '9'
                formulaid: A
              - macro: '{#TEM10}'
                value: '^[^ ]'
                formulaid: B
          lifetime: 3d
          description: 10.2.6
          item_prototypes:
            - uuid: e699251bfd7d4cb8917fa1d652741d10
              name: '{#SNMPVALUE10} (CPU使用率)'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.4.1.2011.10.2.6.1.1.1.1.6.{#SNMPINDEX}'
              key: 'CPUUsage[{#SNMPVALUE10}]'
              delay: '180'
              units: '%'
              tags:
                - tag: Application
                  value: CPU
              trigger_prototypes:
                - uuid: 708948edb9614164bd8e6a72c05b9367
                  expression: 'avg(/LW_Template SNMP Huawei Switch Network_S with Optical General/CPUUsage[{#SNMPVALUE10}],180s)>80'
                  name: '[网络设备]{HOST.NAME}板卡[{#SNMPVALUE10}]CPU使用率平均3分钟高于80%'
                  priority: WARNING
                  description: (状态值表示当前使用率)
                  manual_close: 'YES'
                  dependencies:
                    - name: '[网络设备]{HOST.NAME}板卡[{#SNMPVALUE10}]CPU使用率平均3分钟高于90%'
                      expression: 'avg(/LW_Template SNMP Huawei Switch Network_S with Optical General/CPUUsage[{#SNMPVALUE10}],180s)>90'
                - uuid: 8bf0ce5601894ccd917dc3dccd4ea8ca
                  expression: 'avg(/LW_Template SNMP Huawei Switch Network_S with Optical General/CPUUsage[{#SNMPVALUE10}],180s)>90'
                  name: '[网络设备]{HOST.NAME}板卡[{#SNMPVALUE10}]CPU使用率平均3分钟高于90%'
                  priority: HIGH
                  description: (状态值表示当前使用率)
                  manual_close: 'YES'
            - uuid: e5cf612694a14b7c95d5260e8053c7ce
              name: '{#SNMPVALUE10} (内存总大小)'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.4.1.2011.10.2.6.1.1.1.1.10.{#SNMPINDEX}'
              key: 'MemoryTotal[{#SNMPVALUE10}]'
              delay: '86400'
              units: B
              tags:
                - tag: Application
                  value: 内存
            - uuid: ef67eb32579e454f83379b1c5d256185
              name: '{#SNMPVALUE10} (内存使用率)'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.4.1.2011.10.2.6.1.1.1.1.8.{#SNMPINDEX}'
              key: 'MemoryUsage[{#SNMPVALUE10}]'
              delay: '180'
              units: '%'
              tags:
                - tag: Application
                  value: 内存
              trigger_prototypes:
                - uuid: cda2b211d7ce425c85779f4fbdad5917
                  expression: 'avg(/LW_Template SNMP Huawei Switch Network_S with Optical General/MemoryUsage[{#SNMPVALUE10}],180s)>80'
                  name: '[网络设备]{HOST.NAME}板卡[{#SNMPVALUE10}]内存使用率平均3分钟高于80%'
                  priority: WARNING
                  description: (状态值表示当前使用率)
                  manual_close: 'YES'
                  dependencies:
                    - name: '[网络设备]{HOST.NAME}板卡[{#SNMPVALUE10}]内存使用率平均3分钟高于90%'
                      expression: 'avg(/LW_Template SNMP Huawei Switch Network_S with Optical General/MemoryUsage[{#SNMPVALUE10}],180s)>90'
                - uuid: 3dceacdbf4784a85b3c1ee7c8d3ceca3
                  expression: 'avg(/LW_Template SNMP Huawei Switch Network_S with Optical General/MemoryUsage[{#SNMPVALUE10}],180s)>90'
                  name: '[网络设备]{HOST.NAME}板卡[{#SNMPVALUE10}]内存使用率平均3分钟高于90%'
                  priority: HIGH
                  description: (状态值表示当前使用率)
                  manual_close: 'YES'
            - uuid: 44298fb7a6c341979eb359e604105078
              name: '{#SNMPVALUE10} (当前温度)'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.4.1.2011.10.2.6.1.1.1.1.12.{#SNMPINDEX}'
              key: 'TemperatureBoard[{#SNMPVALUE10}]'
              delay: '180'
              units: °C
              tags:
                - tag: Application
                  value: 温度
            - uuid: 455698ae897a45de96118e3739ceb8b8
              name: '{#SNMPVALUE10} (温度最高阈值)'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.4.1.2011.10.2.6.1.1.1.1.13.{#SNMPINDEX}'
              key: 'TemperatureHighThresholdBoard[{#SNMPVALUE10}]'
              delay: '180'
              units: °C
              tags:
                - tag: Application
                  value: 温度
            - uuid: ba9b2c61820246da848b75f7c1768859
              name: '{#SNMPVALUE10} (电压值)'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.4.1.2011.10.2.6.1.1.1.1.14.{#SNMPINDEX}'
              key: 'VoltageBoard[{#SNMPVALUE10}]'
              delay: '180'
              units: V
              preprocessing:
                - type: MULTIPLIER
                  parameters:
                    - '0.01'
              tags:
                - tag: Application
                  value: 电压
            - uuid: 948b53db1bcf453bb9463fc5659564dc
              name: '{#SNMPVALUE10} (电压最高阈值)'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.4.1.2011.10.2.6.1.1.1.1.16.{#SNMPINDEX}'
              key: 'VoltageHighThresholdBoard[{#SNMPVALUE10}]'
              delay: '86400'
              units: V
              preprocessing:
                - type: MULTIPLIER
                  parameters:
                    - '0.01'
              tags:
                - tag: Application
                  value: 电压
            - uuid: 8a8e30a59de94c7495310da0de555036
              name: '{#SNMPVALUE10} (电压最低阈值)'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.4.1.2011.10.2.6.1.1.1.1.15.{#SNMPINDEX}'
              key: 'VoltageLowThresholdBoard[{#SNMPVALUE10}]'
              delay: '86400'
              units: V
              preprocessing:
                - type: MULTIPLIER
                  parameters:
                    - '0.01'
              tags:
                - tag: Application
                  value: 电压
        - uuid: c89001db72154ddb8a34d24e77504c22
          name: 光模块
          type: SNMP_AGENT
          snmp_oid: 'discovery[{#SNMPVALUE},SNMPv2-SMI::mib-2.47.1.1.1.1.7,{#SNMPTEM},1.3.6.1.4.1.2011.5.25.31.1.1.3.1.5]'
          key: Optical
          delay: '3600'
          filter:
            conditions:
              - macro: '{#SNMPTEM}'
                value: '(^[1-9]$)|(^[0-9]{2}$)'
                formulaid: A
          lifetime: 3d
          item_prototypes:
            - uuid: 7fcc2b29aefd4fa9b4388769f8ef9182
              name: 'Moudle/[{#SNMPVALUE}]:偏移电流'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.4.1.2011.5.25.31.1.1.3.1.7.{#SNMPINDEX}'
              key: 'TransceiverCurrent[{#SNMPVALUE}]'
              delay: '300'
              history: 7d
              value_type: FLOAT
              units: A
              preprocessing:
                - type: MULTIPLIER
                  parameters:
                    - '0.001'
              tags:
                - tag: Application
                  value: 光模块性能
            - uuid: 37b68c117aeb4c43aae6f3f182adb560
              name: 'Moudle/[{#SNMPVALUE}]:传输距离'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.4.1.2011.5.25.31.1.1.3.1.3.{#SNMPINDEX}'
              key: 'TransceiverDistance[{#SNMPVALUE}]'
              delay: '86400'
              history: 7d
              value_type: FLOAT
              units: m
              tags:
                - tag: Application
                  value: 光模块信息
            - uuid: 7aeacbee7840479f912b4ec4fcae7fb7
              name: 'Moudle/[{#SNMPVALUE}]:模式'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.4.1.2011.5.25.31.1.1.3.1.1.{#SNMPINDEX}'
              key: 'TransceiverMode[{#SNMPVALUE}]'
              delay: '86400'
              history: 7d
              valuemap:
                name: 华为光模块模式
              tags:
                - tag: Application
                  value: 光模块信息
            - uuid: 73f315003c1749a8a3ea1aa56fa00779
              name: 'Moudle/[{#SNMPVALUE}]:收光功率最高阈值'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.4.1.2011.5.25.31.1.1.3.1.14.{#SNMPINDEX}'
              key: 'TransceiverRXHighThreshold[{#SNMPVALUE}]'
              delay: '86400'
              history: 7d
              value_type: FLOAT
              units: dbM
              description: 负值是以dBm为单位时出现的，负值表示光功率低于1mW，具体计算方法是XdBm=10log（xmW/1mW），功率以w为单位不会出现负值，以dbm为单位则可能出现负值，不是没有功率，而是指功率很低
              preprocessing:
                - type: MULTIPLIER
                  parameters:
                    - '0.01'
              tags:
                - tag: Application
                  value: 光模块信息
            - uuid: 05ac86c6411449aead480ffe6805bd58
              name: 'Moudle/[{#SNMPVALUE}]:收光功率最低阈值'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.4.1.2011.5.25.31.1.1.3.1.13.{#SNMPINDEX}'
              key: 'TransceiverRXLowThreshold[{#SNMPVALUE}]'
              delay: '86400'
              history: 7d
              value_type: FLOAT
              units: dbM
              description: 负值是以dBm为单位时出现的，负值表示光功率低于1mW，具体计算方法是XdBm=10log（xmW/1mW），功率以w为单位不会出现负值，以dbm为单位则可能出现负值，不是没有功率，而是指功率很低
              preprocessing:
                - type: MULTIPLIER
                  parameters:
                    - '0.01'
              tags:
                - tag: Application
                  value: 光模块信息
            - uuid: 1f7ac7544e7843639668e2007f4505bd
              name: 'Moudle/[{#SNMPVALUE}]:收光功率'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.4.1.2011.5.25.31.1.1.3.1.8.{#SNMPINDEX}'
              key: 'TransceiverRX[{#SNMPVALUE}]'
              delay: '300'
              history: 7d
              value_type: FLOAT
              units: dbM
              description: 负值是以dBm为单位时出现的，负值表示光功率低于1mW，具体计算方法是XdBm=10log（xmW/1mW），功率以w为单位不会出现负值，以dbm为单位则可能出现负值，不是没有功率，而是指功率很低
              preprocessing:
                - type: JAVASCRIPT
                  parameters:
                    - 'return Math.log( value / 1000 ) / Math.log(10) * 10;'
              tags:
                - tag: Application
                  value: 光模块性能
            - uuid: 5b27211b7ecf4c678619fc5a2b12be29
              name: 'Moudle/[{#SNMPVALUE}]:序列号'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.4.1.2011.5.25.31.1.1.3.1.4.{#SNMPINDEX}'
              key: 'TransceiverSerial[{#SNMPVALUE}]'
              delay: '86400'
              history: 7d
              trends: '0'
              value_type: CHAR
              tags:
                - tag: Application
                  value: 光模块信息
            - uuid: 4970251f274441709cb3a240ab1397c3
              name: 'Moudle/[{#SNMPVALUE}]:温度'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.4.1.2011.5.25.31.1.1.3.1.5.{#SNMPINDEX}'
              key: 'TransceiverTemperature[{#SNMPVALUE}]'
              delay: '180'
              history: 7d
              units: ℃
              tags:
                - tag: Application
                  value: 光模块性能
            - uuid: a951d8df0d3a4af4bf218513a189e4a0
              name: 'Moudle/[{#SNMPVALUE}]:发光功率最高阈值'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.4.1.2011.5.25.31.1.1.3.1.16.{#SNMPINDEX}'
              key: 'TransceiverTXHighThreshold[{#SNMPVALUE}]'
              delay: '86400'
              history: 7d
              value_type: FLOAT
              units: dbM
              description: 负值是以dBm为单位时出现的，负值表示光功率低于1mW，具体计算方法是XdBm=10log（xmW/1mW），功率以w为单位不会出现负值，以dbm为单位则可能出现负值，不是没有功率，而是指功率很低
              preprocessing:
                - type: MULTIPLIER
                  parameters:
                    - '0.01'
              tags:
                - tag: Application
                  value: 光模块信息
            - uuid: 77f0e0b3eea74859bc3253bd7c5b6fa4
              name: 'Moudle/[{#SNMPVALUE}]:发光功率最低阈值'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.4.1.2011.5.25.31.1.1.3.1.15.{#SNMPINDEX}'
              key: 'TransceiverTXLowThreshold[{#SNMPVALUE}]'
              delay: '86400'
              history: 7d
              value_type: FLOAT
              units: dbM
              description: 负值是以dBm为单位时出现的，负值表示光功率低于1mW，具体计算方法是XdBm=10log（xmW/1mW），功率以w为单位不会出现负值，以dbm为单位则可能出现负值，不是没有功率，而是指功率很低
              preprocessing:
                - type: MULTIPLIER
                  parameters:
                    - '0.01'
              tags:
                - tag: Application
                  value: 光模块信息
            - uuid: 8793529e45544bf1b79ea7f682a652eb
              name: 'Moudle/[{#SNMPVALUE}]:发光功率'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.4.1.2011.5.25.31.1.1.3.1.9.{#SNMPINDEX}'
              key: 'TransceiverTX[{#SNMPVALUE}]'
              delay: '300'
              history: 7d
              value_type: FLOAT
              units: dbM
              description: 负值是以dBm为单位时出现的，负值表示光功率低于1mW，具体计算方法是XdBm=10log（xmW/1mW），功率以w为单位不会出现负值，以dbm为单位则可能出现负值，不是没有功率，而是指功率很低
              preprocessing:
                - type: JAVASCRIPT
                  parameters:
                    - 'return Math.log( value / 1000 ) / Math.log(10) * 10;'
              tags:
                - tag: Application
                  value: 光模块性能
            - uuid: 22acc6539882474c92b2bf04e213d303
              name: 'Moudle/[{#SNMPVALUE}]:电压'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.4.1.2011.5.25.31.1.1.3.1.6.{#SNMPINDEX}'
              key: 'TransceiverVoltage[{#SNMPVALUE}]'
              delay: '180'
              history: 7d
              value_type: FLOAT
              units: V
              preprocessing:
                - type: MULTIPLIER
                  parameters:
                    - '0.001'
              tags:
                - tag: Application
                  value: 光模块性能
            - uuid: 38206b044bca4a429479fa0e4fba1fdb
              name: 'Moudle/[{#SNMPVALUE}]:波长'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.4.1.2011.5.25.31.1.1.3.1.2.{#SNMPINDEX}'
              key: 'TransceiverWaveLength[{#SNMPVALUE}]'
              delay: '86400'
              history: 7d
              value_type: FLOAT
              units: nm
              description: '1（m）=10（dm）=10^2（cm）=10^3（mm） =10^6（um）=10^9（nm）=10^10（A）=10^12（pm）'
              tags:
                - tag: Application
                  value: 光模块信息
          trigger_prototypes:
            - uuid: 3ef08cba6ff641b68b8b2e96a61b3bed
              expression: 'last(/LW_Template SNMP Huawei Switch Network_S with Optical General/TransceiverRX[{#SNMPVALUE}])<last(/LW_Template SNMP Huawei Switch Network_S with Optical General/TransceiverTXLowThreshold[{#SNMPVALUE}])'
              name: '[网络设备]{HOST.NAME}光模块端口[{#SNMPVALUE}]发光功率低于系统阈值'
              priority: WARNING
              description: (状态值表示当前功率)
            - uuid: dcc91d1407404017a43e140a88775334
              expression: 'last(/LW_Template SNMP Huawei Switch Network_S with Optical General/TransceiverRX[{#SNMPVALUE}])>last(/LW_Template SNMP Huawei Switch Network_S with Optical General/TransceiverTXHighThreshold[{#SNMPVALUE}])'
              name: '[网络设备]{HOST.NAME}光模块端口[{#SNMPVALUE}]发光功率高于系统阈值'
              priority: WARNING
              description: (状态值表示当前功率)
            - uuid: 2b963e18c50f4ba2a4a75e8f056e137c
              expression: 'last(/LW_Template SNMP Huawei Switch Network_S with Optical General/TransceiverTX[{#SNMPVALUE}])<last(/LW_Template SNMP Huawei Switch Network_S with Optical General/TransceiverRXLowThreshold[{#SNMPVALUE}])'
              name: '[网络设备]{HOST.NAME}光模块端口[{#SNMPVALUE}]收光功率低于系统阈值'
              priority: WARNING
              description: (状态值表示当前功率)
            - uuid: 31af2e5c62a3463cbe4a3ccf9b24e77b
              expression: 'last(/LW_Template SNMP Huawei Switch Network_S with Optical General/TransceiverTX[{#SNMPVALUE}])>last(/LW_Template SNMP Huawei Switch Network_S with Optical General/TransceiverRXHighThreshold[{#SNMPVALUE}])'
              name: '[网络设备]{HOST.NAME}光模块端口[{#SNMPVALUE}]收光功率高于系统阈值'
              priority: WARNING
              description: (状态值表示当前功率)
        - uuid: 5d6376f2c4f34b6aba0a5802effeb289
          name: 电源
          type: SNMP_AGENT
          snmp_oid: 'discovery[{#SNMPVALUE},1.3.6.1.4.1.2011.2.23.1.9.1.2.1.1]'
          key: Power
          delay: '3600'
          lifetime: 1d
          item_prototypes:
            - uuid: 51ff1cf787514931993505116914db58
              name: '{#SNMPVALUE},{#SNMPINDEX} (电源状态)'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.4.1.2011.2.23.1.9.1.2.1.2.{#SNMPINDEX}'
              key: 'PowerStatus[{#SNMPVALUE},{#SNMPINDEX}]'
              delay: '180'
              history: 7d
              valuemap:
                name: 华为电源状态
              tags:
                - tag: Application
                  value: 电源
              trigger_prototypes:
                - uuid: c0e49eec17344d87b86de784200d7781
                  expression: 'last(/LW_Template SNMP Huawei Switch Network_S with Optical General/PowerStatus[{#SNMPVALUE},{#SNMPINDEX}])=3'
                  name: '[网络设备]{HOST.NAME}设备{#SNMPVALUE}电源异常'
                  priority: HIGH
                  description: |
                    (状态值表示当前状态)
                    1⇒正常
                    2⇒警告
                    3⇒严重
                    4⇒关闭
                    5⇒不存在
                    设备电源异常
                  manual_close: 'YES'
        - uuid: 2dc6989a0134484dbef6443c480fb9fc
          name: 传感器5
          type: SNMP_AGENT
          snmp_oid: 'discovery[{#SNMPVALUE5},SNMPv2-SMI::mib-2.47.1.1.1.1.7,{#SNMPCLASS5},SNMPv2-SMI::mib-2.47.1.1.1.1.5,{#TEM5},1.3.6.1.4.1.2011.5.25.31.1.1.1.1.12]'
          key: Sensor5.25.31
          delay: '3600'
          filter:
            conditions:
              - macro: '{#SNMPCLASS5}'
                value: (7|8)
                formulaid: A
              - macro: '{#TEM5}'
                value: '^[0-9]*$'
                formulaid: B
          lifetime: 3d
          description: 5.25.31
          item_prototypes:
            - uuid: f82213915cf34de795e8b4dc5c6586dc
              name: '{#SNMPVALUE5},{#SNMPINDEX} (温度最高阀值)'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.4.1.2011.5.25.31.1.1.1.1.12.{#SNMPINDEX}'
              key: 'TemperatureHighThresholdSensor[{#SNMPVALUE5},{#SNMPINDEX}]'
              delay: '86400'
              history: 7d
              units: °C
              tags:
                - tag: Application
                  value: 温度
            - uuid: e17ee4c0a0fe4e8a9427f0574d69347c
              name: '{#SNMPVALUE5},{#SNMPINDEX} 温度'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.4.1.2011.5.25.31.1.1.1.1.11.{#SNMPINDEX}'
              key: 'TemperatureSensor[{#SNMPVALUE5},{#SNMPINDEX}]'
              delay: '180'
              history: 7d
              units: °C
              tags:
                - tag: Application
                  value: 温度
          trigger_prototypes:
            - uuid: 431c2eadb74f40919a43326e9d0d5cdb
              expression: 'last(/LW_Template SNMP Huawei Switch Network_S with Optical General/TemperatureSensor[{#SNMPVALUE5},{#SNMPINDEX}])>last(/LW_Template SNMP Huawei Switch Network_S with Optical General/TemperatureHighThresholdSensor[{#SNMPVALUE5},{#SNMPINDEX}])'
              name: '[网络设备]{HOST.NAME}实体[{#SNMPVALUE5}]温度过高，高于系统阀值'
              priority: HIGH
              description: |
                (状态值1表示当前温度)
                (状态值2表示温度阈值)
              manual_close: 'YES'
        - uuid: 7d982f19f60c4b54a616218dabf7829d
          name: 实体状态5
          type: SNMP_AGENT
          snmp_oid: 'discovery[{#SNMPVALUE5},SNMPv2-SMI::mib-2.47.1.1.1.1.7,{#SNMPCLASS5},SNMPv2-SMI::mib-2.47.1.1.1.1.5,{#TEM5},1.3.6.1.4.1.2011.5.25.31.1.1.1.1.12]'
          key: SMIStatus5.25.31
          delay: '3600'
          filter:
            conditions:
              - macro: '{#SNMPCLASS5}'
                value: (3|4|5|6|7|8|9|11|12)
                formulaid: A
              - macro: '{#TEM5}'
                value: '^[0-9]*$'
                formulaid: B
          lifetime: 3d
          description: 5.25.31
          item_prototypes:
            - uuid: 2d61a356d70c4e789b12d285712a30e4
              name: '{#SNMPVALUE5},{#SNMPINDEX} (状态)'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.4.1.2011.5.25.31.1.1.1.1.2.{#SNMPINDEX}'
              key: 'HardwareStatus[{#SNMPVALUE5},{#SNMPINDEX}]'
              delay: '300'
              history: 7d
              description: hwEntityOperStatus
              valuemap:
                name: 华为实体状态5.25.31
              tags:
                - tag: Application
                  value: 实体状态
              trigger_prototypes:
                - uuid: d2789cf147a7469284e48f75e0a4983f
                  expression: 'last(/LW_Template SNMP Huawei Switch Network_S with Optical General/HardwareStatus[{#SNMPVALUE5},{#SNMPINDEX}])=4'
                  name: '[网络设备]{HOST.NAME}设备槽位{#SNMPVALUE5}离线'
                  priority: HIGH
                  description: |
                    (状态值表示当前状态)
                    1⇒该实体不支持
                    2⇒该实体处于关闭状态
                    3⇒该实体处于启用状态
                    4⇒该实体断开连接
                  manual_close: 'YES'
      valuemaps:
        - uuid: ba1999d52850426297e5971a9a21ab74
          name: 华为光模块模式
          mappings:
            - value: '1'
              newvalue: notSupported
            - value: '2'
              newvalue: singleMode
            - value: '3'
              newvalue: multiMode5
            - value: '4'
              newvalue: multiMode6
            - value: '5'
              newvalue: noValue
        - uuid: 8c89e7597ccb4a53bfb3bffc11eb1d32
          name: 华为实体状态5.25.31
          mappings:
            - value: '1'
              newvalue: notSupported
            - value: '2'
              newvalue: disabled
            - value: '3'
              newvalue: enabled
            - value: '4'
              newvalue: offline
        - uuid: 93637f157086446a9335ba78e99ef987
          name: 华为电源状态
          mappings:
            - value: '1'
              newvalue: normal
            - value: '2'
              newvalue: warning
            - value: '3'
              newvalue: critical
            - value: '4'
              newvalue: shutdown
            - value: '5'
              newvalue: notPresent
            - value: '6'
              newvalue: notFunctioning
        - uuid: 3aaa5d9893f24c3b99cc7622fc69682b
          name: 华为风扇在位状态5.25.31
          mappings:
            - value: '1'
              newvalue: present
            - value: '2'
              newvalue: absent
        - uuid: b340b23bcc904ae4a3247e7891c882e1
          name: 华为风扇运行状态5.25.31
          mappings:
            - value: '1'
              newvalue: normal
            - value: '2'
              newvalue: abnormal
  triggers:
    - uuid: f1b1ef6bf1134f1aba84dafbd80fde7d
      expression: 'max(/LW_Template SNMP Huawei Switch Network_S with Optical General/icmpping[,2,,,],3m)=0 and nodata(/LW_Template SNMP Huawei Switch Network_S with Optical General/sysUpTime,3m)=1'
      recovery_mode: RECOVERY_EXPRESSION
      recovery_expression: 'min(/LW_Template SNMP Huawei Switch Network_S with Optical General/icmpping[,2,,,],3m)=1 and nodata(/LW_Template SNMP Huawei Switch Network_S with Optical General/sysUpTime,2m)=0'
      name: '[网络设备]{HOST.NAME}失联,持续3分钟未响应'
      priority: HIGH
      description: |
        状态值1为系统持续运行时间和ICMP探测状态（1为通，0为断）
        状态值2为BMC运行时间
      manual_close: 'YES'
    - uuid: d11ef498757a4794acb463c3fa64919b
      expression: 'change(/LW_Template SNMP Huawei Switch Network_S with Optical General/sysUpTime)<0 and last(/LW_Template SNMP Huawei Switch Network_S with Optical General/sysUpTime)<1800 and avg(/LW_Template SNMP Huawei Switch Network_S with Optical General/icmpping[,2,,,],2m)<1'
      name: '[网络设备]{HOST.NAME}设备刚发生重启'
      priority: HIGH
      description: |
        (当前状态值为系统持续运行时间)
        主机采集到的系统运行时间突然减少重置，当系统运行时间正常递增，则恢复告警，该值在设备连续运行未超过300多天时可以当作设备运行时间，当超过300多天根据型号不同，计数器会自动重置为0重新计算时间
      manual_close: 'YES'
