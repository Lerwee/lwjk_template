zabbix_export:
  version: '6.0'
  date: '2024-04-24T07:23:58Z'
  groups:
    - uuid: 9397477ac4614c8da379ea37c1c5b0e0
      name: 监控模板
    - uuid: 989d6a022aab491b8a20c2ee4be9c738
      name: 网络设备模板
  templates:
    - uuid: 8266902e98ad4be48c1d935a5fee3fb5
      template: 'LW_Template SNMP H3C Network with Optical General'
      name: '华三带光模块设备通用模板[25506]'
      groups:
        - name: 监控模板
        - name: 网络设备模板
      items:
        - uuid: 5bee7ba9ba2e4122a625ada6eef3c67c
          name: 'ICMP 丢包率'
          type: SIMPLE
          key: 'icmppingloss[,2,,,]'
          delay: '60'
          history: 7d
          value_type: FLOAT
          units: '%'
          description: 'ICMP pingloss'
          tags:
            - tag: Application
              value: ICMP
        - uuid: 18bd705cf52447478f8bb1dad3381982
          name: 'ICMP 延时'
          type: SIMPLE
          key: 'icmppingsec[,2,,,]'
          delay: '60'
          history: 7d
          value_type: FLOAT
          units: ms
          description: 'ICMP pingsec'
          tags:
            - tag: Application
              value: ICMP
        - uuid: 8d51aba8823b42ad8ed5b6bfbe8ff86a
          name: 'ICMP ping状态'
          type: SIMPLE
          key: 'icmpping[,2,,,]'
          delay: '60'
          history: 7d
          description: 'ICMP ping'
          request_method: POST
          tags:
            - tag: Application
              value: ICMP
        - uuid: 41ba6c3cf7c94eaa8bd1b4120b56fd12
          name: 端口数量
          type: SNMP_AGENT
          snmp_oid: 'IF-MIB::ifNumber.0'
          key: ifNumber
          delay: '3600'
          history: 7d
          description: 'The number of network interfaces (regardless of their current state) present on this system.'
          tags:
            - tag: Application
              value: 端口信息
        - uuid: daa6a1f872914b3582ce41fcadd03de9
          name: 'LW:LW_NETWORKDEVICES_H3C'
          type: SNMP_AGENT
          snmp_oid: interfaces.ifTable.ifEntry.ifInOctets.1
          key: LW_NETWORKDEVICES_H3C
          delay: '30'
          status: DISABLED
          description: '{"snmp":1}'
        - uuid: d3fd619ee4fd4c24a2098fb92cd1fb64
          name: 'SNMP traps (fallback)'
          type: SNMP_TRAP
          key: snmptrap.fallback
          delay: '0'
          history: 7d
          trends: '0'
          value_type: LOG
          logtimefmt: 'hh:mm:sszyyyy/MM/dd'
          request_method: POST
          tags:
            - tag: Application
              value: 常规
        - uuid: 5849ac9d0bcb4bf2af467642f4d6a1eb
          name: 设备详细的联系方式
          type: SNMP_AGENT
          snmp_oid: 'SNMPv2-MIB::sysContact.0'
          key: sysContact
          delay: 1d
          history: 7d
          trends: '0'
          value_type: CHAR
          description: 'The textual identification of the contact person for this managed node, together with information on how to contact this person.  If no contact information is known, the value is the zero-length string.'
          inventory_link: CONTACT
          request_method: POST
          tags:
            - tag: Application
              value: 常规
        - uuid: 705898e807904de3a01e60fd2e1abdd5
          name: 设备描述
          type: SNMP_AGENT
          snmp_oid: 'SNMPv2-MIB::sysDescr.0'
          key: sysDescr
          delay: 1d
          history: 7d
          trends: '0'
          value_type: CHAR
          description: 'A textual description of the entity.  This value should include the full name and version identification of the system''s hardware type, software operating-system, and networking software.'
          inventory_link: HARDWARE
          request_method: POST
          tags:
            - tag: Application
              value: 常规
        - uuid: d953fca4456740679ef558cab1246d0c
          name: 设备位置
          type: SNMP_AGENT
          snmp_oid: 'SNMPv2-MIB::sysLocation.0'
          key: sysLocation
          delay: 1d
          history: 7d
          trends: '0'
          value_type: CHAR
          description: 'The physical location of this node (e.g., `telephone closet, 3rd floor'').  If the location is unknown, the value is the zero-length string.'
          inventory_link: LOCATION
          request_method: POST
          tags:
            - tag: Application
              value: 常规
        - uuid: ce4c33d51151490f82fffe6bf6c0d419
          name: 设备名称
          type: SNMP_AGENT
          snmp_oid: 'SNMPv2-MIB::sysName.0'
          key: sysName
          delay: 1d
          history: 7d
          trends: '0'
          value_type: CHAR
          description: 'An administratively-assigned name for this managed node. By convention, this is the node''s fully-qualified domain name.  If the name is unknown, the value is the zero-length string.'
          inventory_link: NAME
          request_method: POST
          tags:
            - tag: Application
              value: 常规
          triggers:
            - uuid: 7330a47a9f7a40c4bad21ab8f8860e8e
              expression: '(last(/LW_Template SNMP H3C Network with Optical General/sysName,#1)<>last(/LW_Template SNMP H3C Network with Optical General/sysName,#2))>0'
              name: '[网络设备]{HOST.NAME}设备名称发生改变'
              priority: WARNING
              description: |
                (当前状态值为改变后的设备名称)
                设备名称发生改变
              manual_close: 'YES'
        - uuid: 657cc0d8390e4c67956ec77bd9dd8e0d
          name: 设备运行时间
          type: SNMP_AGENT
          snmp_oid: 'SNMPv2-MIB::sysUpTime.0'
          key: sysUpTime
          history: 7d
          units: uptime
          description: 'The time since the network management portion of the system was last re-initialized.，该值在设备连续运行未超过300多天时可以当作设备运行时间，当超过300多天根据型号不同，改计数器会自动重置为0重新计算时间'
          preprocessing:
            - type: MULTIPLIER
              parameters:
                - '0.01'
          request_method: POST
          tags:
            - tag: Application
              value: 常规
          triggers:
            - uuid: bdd9390c33f44052a82c42546fb0e0b4
              expression: 'nodata(/LW_Template SNMP H3C Network with Optical General/sysUpTime,10m)=1'
              name: '[网络设备]{HOST.NAME}SNMP采集中断'
              priority: HIGH
              description: |
                状态值1为BMC运行时间
                需要检查SNMP团体名是否不对应，或网络设备不支持多进程请求，或网络拦截snmp协议等
              manual_close: 'YES'
              dependencies:
                - name: '[操作系统] {HOST.NAME}主采集服务器 Agent 无法采集到数据'
                  expression: 'nodata(/itops-server/agent.ping,2m)=1'
                  recovery_expression: 'count(/itops-server/zabbix[process,history syncer,avg,busy],10m,"lt","75")=10 and count(/itops-server/agent.ping,10m,"eq","1")=10'
                - name: '[网络设备]{HOST.NAME}失联,持续3分钟未响应'
                  expression: 'max(/LW_Template SNMP H3C Network with Optical General/icmpping[,2,,,],3m)=0 and nodata(/LW_Template SNMP H3C Network with Optical General/sysUpTime,3m)=1'
                  recovery_expression: 'min(/LW_Template SNMP H3C Network with Optical General/icmpping[,2,,,],3m)=1 and nodata(/LW_Template SNMP H3C Network with Optical General/sysUpTime,2m)=0'
      discovery_rules:
        - uuid: b5618d29ebff4e7fae24b8e0733ca4e4
          name: 风扇
          type: SNMP_AGENT
          snmp_oid: 'discovery[{#SNMPVALUE},1.3.6.1.4.1.25506.8.35.9.1.1.1.2]'
          key: Fan
          delay: '300'
          lifetime: 3d
          item_prototypes:
            - uuid: 678f67d500a34cd885bfe1e727edb699
              name: 'Fan {#SNMPINDEX} (状态)'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.4.1.25506.8.35.9.1.1.1.2.{#SNMPINDEX}'
              key: 'FanStatus[{#SNMPINDEX}]'
              delay: '300'
              valuemap:
                name: 华三硬件状态
              tags:
                - tag: Application
                  value: 风扇
              trigger_prototypes:
                - uuid: d168bb65b23e439a91bd6cccb3e4923a
                  expression: 'last(/LW_Template SNMP H3C Network with Optical General/FanStatus[{#SNMPINDEX}])=2'
                  name: '[网络设备]{HOST.NAME}设备风扇Fan {#SNMPINDEX}异常'
                  priority: HIGH
                  description: |
                    (状态值表示当前状态)
                    1=>表示风扇状态正常  
                    2=>表示风扇不正常
                    3=>表示该风扇未插入
                    4=>表示不支持该风扇
                  manual_close: 'YES'
        - uuid: aa98f80178c14783a650fdd40ffdf2b8
          name: '端口表 UP'
          type: SNMP_AGENT
          snmp_oid: 'discovery[{#SNMPVALUE},IF-MIB::ifName,{#SNMPOPEN},IF-MIB::ifOperStatus]'
          key: ifDescr
          delay: '3600'
          filter:
            evaltype: AND
            conditions:
              - macro: '{#SNMPOPEN}'
                value: (1|3)
                formulaid: A
              - macro: '{#SNMPVALUE}'
                value: '@Network interfaces for discovery'
                formulaid: B
          lifetime: 3d
          description: 端口表
          item_prototypes:
            - uuid: 2063646598b545f4a5bbe4ba2a7ffb55
              name: '{#SNMPVALUE}（端口启用管理状态）'
              type: SNMP_AGENT
              snmp_oid: 'IF-MIB::ifAdminStatus.{#SNMPINDEX}'
              key: 'ifAdminStatus[{#SNMPVALUE}]'
              delay: 2m
              history: 7d
              tags:
                - tag: Application
                  value: 端口状态
            - uuid: 9324db10f7a04fb59520fcc1a8e75b64
              name: '{#SNMPVALUE}（端口描述）'
              type: SNMP_AGENT
              snmp_oid: 'IF-MIB::ifAlias.{#SNMPINDEX}'
              key: 'ifAlias[{#SNMPVALUE}]'
              delay: 1d
              history: 7d
              trends: '0'
              value_type: CHAR
              description: 端口描述
              tags:
                - tag: Application
                  value: 端口信息
            - uuid: 284a495a147b4859aa0da21020579e57
              name: '{#SNMPVALUE}（端口每秒接收速率）'
              type: SNMP_AGENT
              snmp_oid: 'IF-MIB::ifHCInOctets.{#SNMPINDEX}'
              key: 'ifHCInOctetsPersecond[{#SNMPVALUE}]'
              delay: 2m
              history: 7d
              units: bps
              description: 端口每秒接收速率
              preprocessing:
                - type: CHANGE_PER_SECOND
                  parameters:
                    - ''
                - type: MULTIPLIER
                  parameters:
                    - '8'
              tags:
                - tag: Application
                  value: 端口速率
            - uuid: f67ac13205394a228d6b94803461cdb4
              name: '{#SNMPVALUE}（端口接收总流量）(5分钟)'
              type: SNMP_AGENT
              snmp_oid: 'IF-MIB::ifHCInOctets.{#SNMPINDEX}'
              key: 'ifHCInOctets[{#SNMPVALUE}]'
              delay: 5m
              history: 7d
              status: DISABLED
              discover: NO_DISCOVER
              units: B
              preprocessing:
                - type: SIMPLE_CHANGE
                  parameters:
                    - ''
              tags:
                - tag: Application
                  value: 端口速率
            - uuid: e4626bbfdd3b4f77b8fdf3f3704c995c
              name: '{#SNMPVALUE}（端口每秒发送速率）'
              type: SNMP_AGENT
              snmp_oid: 'IF-MIB::ifHCOutOctets.{#SNMPINDEX}'
              key: 'ifHCOutOctetsPersecond[{#SNMPVALUE}]'
              delay: 2m
              history: 7d
              units: bps
              description: |
                端口每秒发送速率
                .
              preprocessing:
                - type: CHANGE_PER_SECOND
                  parameters:
                    - ''
                - type: MULTIPLIER
                  parameters:
                    - '8'
              tags:
                - tag: Application
                  value: 端口速率
            - uuid: bea6770c9deb41b3813d0071f8d182db
              name: '{#SNMPVALUE}（端口发送总流量）(5分钟)'
              type: SNMP_AGENT
              snmp_oid: 'IF-MIB::ifHCOutOctets.{#SNMPINDEX}'
              key: 'ifHCOutOctets[{#SNMPVALUE}]'
              delay: 5m
              history: 7d
              status: DISABLED
              discover: NO_DISCOVER
              units: B
              preprocessing:
                - type: SIMPLE_CHANGE
                  parameters:
                    - ''
              tags:
                - tag: Application
                  value: 端口速率
            - uuid: c98f41db3852464384b8939c4beaa240
              name: '{#SNMPVALUE}（端口带宽）'
              type: SNMP_AGENT
              snmp_oid: 'IF-MIB::ifHighSpeed.{#SNMPINDEX}'
              key: 'ifHighSpeed[{#SNMPVALUE}]'
              delay: 5m
              history: 7d
              units: bps
              description: 端口带宽
              preprocessing:
                - type: MULTIPLIER
                  parameters:
                    - '1000000'
              tags:
                - tag: Application
                  value: 端口带宽
            - uuid: 45dcbabfa3a345578703245a43fbb1d5
              name: '{#SNMPVALUE}（端口序号）'
              type: SNMP_AGENT
              snmp_oid: 'IF-MIB::ifIndex.{#SNMPINDEX}'
              key: 'ifIndex[{#SNMPVALUE}]'
              delay: 1d
              history: 7d
              description: 端口序号
              tags:
                - tag: Application
                  value: 端口信息
            - uuid: 9be102253bd24bac8948bfc1268d244c
              name: '{#SNMPVALUE}（端口每秒接收丢包数）'
              type: SNMP_AGENT
              snmp_oid: 'IF-MIB::ifInDiscards.{#SNMPINDEX}'
              key: 'ifInDiscards[{#SNMPVALUE}]'
              delay: 10m
              history: 7d
              description: 端口每秒接收丢包数
              preprocessing:
                - type: CHANGE_PER_SECOND
                  parameters:
                    - ''
              tags:
                - tag: Application
                  value: 端口错丢包
            - uuid: d22ea586027648958612d709ac96b225
              name: '{#SNMPVALUE}（端口每秒接收错误包数）'
              type: SNMP_AGENT
              snmp_oid: 'IF-MIB::ifInErrors.{#SNMPINDEX}'
              key: 'ifInErrors[{#SNMPVALUE}]'
              delay: 10m
              history: 7d
              description: 端口每秒接收错误包数
              preprocessing:
                - type: CHANGE_PER_SECOND
                  parameters:
                    - ''
              tags:
                - tag: Application
                  value: 端口错丢包
            - uuid: c8e9deb4acc540699ef43878b5aeb72a
              name: '{#SNMPVALUE}（端口名称）'
              type: SNMP_AGENT
              snmp_oid: 'IF-MIB::ifName.{#SNMPINDEX}'
              key: 'ifName[{#SNMPVALUE}]'
              delay: 1d
              history: 7d
              trends: '0'
              value_type: CHAR
              description: 端口名称
              tags:
                - tag: Application
                  value: 端口信息
            - uuid: d24e70e88cb04c2fbeaedead645da285
              name: '{#SNMPVALUE}（端口物理连接状态）'
              type: SNMP_AGENT
              snmp_oid: 'IF-MIB::ifOperStatus.{#SNMPINDEX}'
              key: 'ifOperStatus[{#SNMPVALUE}]'
              delay: 2m
              history: 7d
              tags:
                - tag: Application
                  value: 端口状态
              trigger_prototypes:
                - uuid: 55f3ea4bf73e4a70a483fe5799830e83
                  expression: 'last(/LW_Template SNMP H3C Network with Optical General/ifOperStatus[{#SNMPVALUE}])=2'
                  name: '[网络设备]{HOST.NAME}设备端口{#SNMPVALUE}处于DOWN状态'
                  priority: AVERAGE
                  description: |
                    状态值表示:
                    1⇒正常
                    2⇒关闭
                    {HOST.NAME}设备端口{#SNMPVALUE}状态不正常，可能连线松动、未启用、对端设备重启、端口损坏等
                  manual_close: 'YES'
            - uuid: 31ac0b387ff747ffab4688edf1ec164e
              name: '{#SNMPVALUE}（端口每秒发送丢包数）'
              type: SNMP_AGENT
              snmp_oid: 'IF-MIB::ifOutDiscards.{#SNMPINDEX}'
              key: 'ifOutDiscards[{#SNMPVALUE}]'
              delay: 10m
              history: 7d
              description: 端口每秒发送丢包数
              preprocessing:
                - type: CHANGE_PER_SECOND
                  parameters:
                    - ''
              tags:
                - tag: Application
                  value: 端口错丢包
            - uuid: 4ca0ebfb086d41b3b54942bf39517f2c
              name: '{#SNMPVALUE}（端口每秒发送错误包数）'
              type: SNMP_AGENT
              snmp_oid: 'IF-MIB::ifOutErrors.{#SNMPINDEX}'
              key: 'ifOutErrors[{#SNMPVALUE}]'
              delay: 10m
              history: 7d
              description: 端口每秒发送错误包数
              preprocessing:
                - type: CHANGE_PER_SECOND
                  parameters:
                    - ''
              tags:
                - tag: Application
                  value: 端口错丢包
            - uuid: 6e2069b3b7dd45fe92fa2200037995d5
              name: '{#SNMPVALUE}（端口物理地址）'
              type: SNMP_AGENT
              snmp_oid: 'IF-MIB::ifPhysAddress.{#SNMPINDEX}'
              key: 'ifPhysAddress[{#SNMPVALUE}]'
              delay: 1d
              history: 7d
              trends: '0'
              value_type: CHAR
              description: 端口物理地址
              tags:
                - tag: Application
                  value: 端口信息
            - uuid: 4a1a8a64232045d8996dd59ff77e19f9
              name: '{#SNMPVALUE}（端口带宽接收利用率）'
              type: CALCULATED
              key: 'ifSpeedifHCInOctetsPersecond[{#SNMPVALUE}]'
              delay: 2m
              history: 7d
              units: '%'
              params: '100*last(//ifHCInOctetsPersecond[{#SNMPVALUE}])/last(//ifHighSpeed[{#SNMPVALUE}])'
              description: 端口带宽利用率
              tags:
                - tag: Application
                  value: 端口带宽
            - uuid: c768ea8838264b4b985f7567109d5e3a
              name: '{#SNMPVALUE}（端口带宽发送利用率）'
              type: CALCULATED
              key: 'ifSpeedifHCOutOctetsPersecond[{#SNMPVALUE}]'
              delay: 2m
              history: 7d
              units: '%'
              params: '100*last(//ifHCOutOctetsPersecond[{#SNMPVALUE}])/last(//ifHighSpeed[{#SNMPVALUE}])'
              description: 端口带宽利用率
              tags:
                - tag: Application
                  value: 端口带宽
            - uuid: e320858468f244f9907d898082d28133
              name: '{#SNMPVALUE}（端口类型）'
              type: SNMP_AGENT
              snmp_oid: 'IF-MIB::ifType.{#SNMPINDEX}'
              key: 'ifType[{#SNMPVALUE}]'
              delay: 1d
              history: 7d
              description: 端口类型
              tags:
                - tag: Application
                  value: 端口信息
          trigger_prototypes:
            - uuid: 7b83579f13d3452c8493a6944f053f8a
              expression: 'last(/LW_Template SNMP H3C Network with Optical General/ifSpeedifHCOutOctetsPersecond[{#SNMPVALUE}])>90 and last(/LW_Template SNMP H3C Network with Optical General/ifHighSpeed[{#SNMPVALUE}])>0'
              name: '[网络设备]{HOST.NAME}设备端口{#SNMPVALUE}带宽发送利用率大于90%'
              priority: WARNING
              description: |
                (状态值表示当前利用率)
                {HOST.NAME}设备端口{#SNMPVALUE}带宽发送利用率大于90%
              manual_close: 'YES'
            - uuid: 015e06685d1048a08f6c67d204774a61
              expression: 'last(/LW_Template SNMP H3C Network with Optical General/ifSpeedifHCInOctetsPersecond[{#SNMPVALUE}])>90 and last(/LW_Template SNMP H3C Network with Optical General/ifHighSpeed[{#SNMPVALUE}])>0'
              name: '[网络设备]{HOST.NAME}设备端口{#SNMPVALUE}带宽接收利用率大于90%'
              priority: WARNING
              description: |
                (状态值表示当前利用率)
                {HOST.NAME}设备端口{#SNMPVALUE}带宽接收利用率大于80%
              manual_close: 'YES'
          graph_prototypes:
            - uuid: 73bad585be1c4e3c99b4f1f0d581631a
              name: '网络端口 {#SNMPVALUE} 利用率'
              graph_items:
                - color: 2774A4
                  item:
                    host: 'LW_Template SNMP H3C Network with Optical General'
                    key: 'ifSpeedifHCOutOctetsPersecond[{#SNMPVALUE}]'
                - sortorder: '1'
                  color: A54F10
                  item:
                    host: 'LW_Template SNMP H3C Network with Optical General'
                    key: 'ifSpeedifHCInOctetsPersecond[{#SNMPVALUE}]'
            - uuid: 4f7ac2d5984a4f8f81ddd252f096a8c6
              name: '网络端口 {#SNMPVALUE} 总流量'
              graph_items:
                - drawtype: GRADIENT_LINE
                  color: 00AA00
                  item:
                    host: 'LW_Template SNMP H3C Network with Optical General'
                    key: 'ifHCInOctets[{#SNMPVALUE}]'
                - sortorder: '1'
                  drawtype: GRADIENT_LINE
                  color: 3333FF
                  item:
                    host: 'LW_Template SNMP H3C Network with Optical General'
                    key: 'ifHCOutOctets[{#SNMPVALUE}]'
            - uuid: 24e04309ce8f4a1086eac7a528aba106
              name: '网络端口 {#SNMPVALUE} 速率'
              graph_items:
                - color: 2774A4
                  item:
                    host: 'LW_Template SNMP H3C Network with Optical General'
                    key: 'ifHCInOctetsPersecond[{#SNMPVALUE}]'
                - sortorder: '1'
                  color: A54F10
                  item:
                    host: 'LW_Template SNMP H3C Network with Optical General'
                    key: 'ifHCOutOctetsPersecond[{#SNMPVALUE}]'
        - uuid: 38018bc4b76e430ba78bc78884a62f8e
          name: '端口表 DOWN'
          type: SNMP_AGENT
          snmp_oid: 'discovery[{#SNMPVALUE2},IF-MIB::ifName,{#SNMPOPEN},IF-MIB::ifOperStatus]'
          key: ifDescr2
          delay: '3600'
          filter:
            evaltype: AND
            conditions:
              - macro: '{#SNMPOPEN}'
                value: (2)
                formulaid: A
              - macro: '{#SNMPVALUE2}'
                value: '@Network interfaces for discovery'
                formulaid: B
          lifetime: 0d
          description: 端口表
          item_prototypes:
            - uuid: af824cb736414734b31c65b2389795a1
              name: '{#SNMPVALUE2} （端口启用管理状态）'
              type: SNMP_AGENT
              snmp_oid: 'IF-MIB::ifAdminStatus.{#SNMPINDEX}'
              key: 'ifAdminStatus[{#SNMPVALUE2}]'
              delay: 2m
              tags:
                - tag: Application
                  value: 端口状态
            - uuid: d60ceb3f72c54e678aa42e7b131c5cad
              name: '{#SNMPVALUE2} （端口物理连接状态）'
              type: SNMP_AGENT
              snmp_oid: 'IF-MIB::ifOperStatus.{#SNMPINDEX}'
              key: 'ifOperStatus[{#SNMPVALUE2}]'
              delay: 2m
              tags:
                - tag: Application
                  value: 端口状态
        - uuid: 6b7c4deb00ea432f87904d8500dfa5ce
          name: 主板模块
          type: SNMP_AGENT
          snmp_oid: 'discovery[{#SNMPVALUE},SNMPv2-SMI::mib-2.47.1.1.1.1.7,{#SNMPCLASS},SNMPv2-SMI::mib-2.47.1.1.1.1.5]'
          key: Module
          delay: '300'
          filter:
            conditions:
              - macro: '{#SNMPCLASS}'
                value: '9'
                formulaid: A
              - macro: '{#SNMPVALUE}'
                value: '^[^ ]'
                formulaid: B
          lifetime: 3d
          item_prototypes:
            - uuid: 66660ee54eed42c889da3f66bf6d2056
              name: '{#SNMPVALUE},{#SNMPINDEX}(CPU使用率)'
              type: SNMP_AGENT
              snmp_oid: '.1.3.6.1.4.1.25506.2.6.1.1.1.1.6.{#SNMPINDEX}'
              key: 'CPUUsage[{#SNMPVALUE},{#SNMPINDEX}]'
              delay: '180'
              history: 7d
              units: '%'
              tags:
                - tag: Application
                  value: CPU
              trigger_prototypes:
                - uuid: 1e03f3e2d1424665b34470059cd53e56
                  expression: 'last(/LW_Template SNMP H3C Network with Optical General/CPUUsage[{#SNMPVALUE},{#SNMPINDEX}])>80'
                  name: '[网络设备]{HOST.NAME}板卡[{#SNMPVALUE}]CPU使用率平均3分钟高于80%'
                  priority: WARNING
                  description: |
                    (状态值表示当前使用率)
                    设备CPU使用率平均3分钟高于80%
                  manual_close: 'YES'
                  dependencies:
                    - name: '[网络设备]{HOST.NAME}板卡[{#SNMPVALUE}]CPU使用率平均3分钟高于90%'
                      expression: 'last(/LW_Template SNMP H3C Network with Optical General/CPUUsage[{#SNMPVALUE},{#SNMPINDEX}])>90'
                - uuid: a036548b8b3a4f138b073aa3651eb2e4
                  expression: 'last(/LW_Template SNMP H3C Network with Optical General/CPUUsage[{#SNMPVALUE},{#SNMPINDEX}])>90'
                  name: '[网络设备]{HOST.NAME}板卡[{#SNMPVALUE}]CPU使用率平均3分钟高于90%'
                  priority: HIGH
                  description: |
                    (状态值表示当前使用率)
                    设备CPU使用率平均3分钟高于90%
                  manual_close: 'YES'
                - uuid: a524b97a45b647bc904a1751b670f675
                  expression: 'forecast(/LW_Template SNMP H3C Network with Optical General/CPUUsage[{#SNMPVALUE},{#SNMPINDEX}],10m,30m)>=100'
                  name: '[网络设备]{HOST.NAME}板卡[{#SNMPVALUE}]CPU使用率根据前10分钟的趋势预测再过30分钟左右达到100%'
                  status: DISABLED
                  priority: AVERAGE
                  description: (状态值表示当前使用率)
                  manual_close: 'YES'
                  dependencies:
                    - name: '[网络设备]{HOST.NAME}板卡[{#SNMPVALUE}]CPU使用率平均3分钟高于90%'
                      expression: 'last(/LW_Template SNMP H3C Network with Optical General/CPUUsage[{#SNMPVALUE},{#SNMPINDEX}])>90'
            - uuid: 9efb194482124b33b29807c6ff9a5eea
              name: '{#SNMPVALUE},{#SNMPINDEX}(厂商)'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.2.1.47.1.1.1.1.12.{#SNMPINDEX}'
              key: 'Manufacturer[{#SNMPVALUE},{#SNMPINDEX}]'
              delay: '86400'
              history: 7d
              trends: '0'
              value_type: CHAR
              tags:
                - tag: Application
                  value: 主板信息
            - uuid: 5d76bc5746064b24b2634205e995d6e5
              name: '{#SNMPVALUE},{#SNMPINDEX}(内存总大小)'
              type: SNMP_AGENT
              snmp_oid: '.1.3.6.1.4.1.25506.2.6.1.1.1.1.10.{#SNMPINDEX}'
              key: 'MemoryTotal[{#SNMPVALUE},{#SNMPINDEX}]'
              delay: '86400'
              history: 7d
              units: B
              tags:
                - tag: Application
                  value: 内存
            - uuid: 890b99593b394209b7f1be673d1f20ae
              name: '{#SNMPVALUE},{#SNMPINDEX}(内存使用率)'
              type: SNMP_AGENT
              snmp_oid: '.1.3.6.1.4.1.25506.2.6.1.1.1.1.8.{#SNMPINDEX}'
              key: 'MemoryUsage[{#SNMPVALUE},{#SNMPINDEX}]'
              delay: '180'
              history: 7d
              units: '%'
              tags:
                - tag: Application
                  value: 内存
              trigger_prototypes:
                - uuid: 6c20bb788d104809b30a479b362ec1cb
                  expression: 'last(/LW_Template SNMP H3C Network with Optical General/MemoryUsage[{#SNMPVALUE},{#SNMPINDEX}])>80'
                  name: '[网络设备]{HOST.NAME}板卡[{#SNMPVALUE}]内存使用率平均3分钟高于80%'
                  priority: WARNING
                  description: |
                    (状态值表示当前使用率)
                    设备内存使用率平均3分钟高于80%
                  manual_close: 'YES'
                  dependencies:
                    - name: '[网络设备]{HOST.NAME}板卡[{#SNMPVALUE}]内存使用率平均3分钟高于90%'
                      expression: 'last(/LW_Template SNMP H3C Network with Optical General/MemoryUsage[{#SNMPVALUE},{#SNMPINDEX}])>90'
                - uuid: b14c2ec32f9848a1ad829200d3e65fc4
                  expression: 'last(/LW_Template SNMP H3C Network with Optical General/MemoryUsage[{#SNMPVALUE},{#SNMPINDEX}])>90'
                  name: '[网络设备]{HOST.NAME}板卡[{#SNMPVALUE}]内存使用率平均3分钟高于90%'
                  priority: HIGH
                  description: |
                    (状态值表示当前使用率)
                    设备内存使用率平均3分钟高于90%
                  manual_close: 'YES'
                - uuid: 0223aa382b8f4433804ca8e45fe57b9b
                  expression: 'forecast(/LW_Template SNMP H3C Network with Optical General/MemoryUsage[{#SNMPVALUE},{#SNMPINDEX}],10m,30m)>=100'
                  name: '[网络设备]{HOST.NAME}板卡[{#SNMPVALUE}]内存使用率根据前10分钟的趋势预测再过30分钟左右达到100%'
                  status: DISABLED
                  priority: AVERAGE
                  description: (状态值表示当前使用率)
                  manual_close: 'YES'
                  dependencies:
                    - name: '[网络设备]{HOST.NAME}板卡[{#SNMPVALUE}]内存使用率平均3分钟高于90%'
                      expression: 'last(/LW_Template SNMP H3C Network with Optical General/MemoryUsage[{#SNMPVALUE},{#SNMPINDEX}])>90'
            - uuid: 437e9b81a7814c0fb7051c7eb079dd3d
              name: '{#SNMPVALUE},{#SNMPINDEX}(型号)'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.2.1.47.1.1.1.1.13.{#SNMPINDEX}'
              key: 'Model[{#SNMPVALUE},{#SNMPINDEX}]'
              delay: '86400'
              history: 7d
              trends: '0'
              value_type: CHAR
              tags:
                - tag: Application
                  value: 主板信息
            - uuid: 2563af3fd44d44508eb5361f4bbab3e9
              name: '{#SNMPVALUE},{#SNMPINDEX}(序列号)'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.2.1.47.1.1.1.1.11.{#SNMPINDEX}'
              key: 'Serial[{#SNMPVALUE},{#SNMPINDEX}]'
              delay: '86400'
              history: 7d
              trends: '0'
              value_type: CHAR
              tags:
                - tag: Application
                  value: 主板信息
            - uuid: 26b111800a124939be0144cb286d8af2
              name: '{#SNMPVALUE},{#SNMPINDEX}(软件版本)'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.2.1.47.1.1.1.1.10.{#SNMPINDEX}'
              key: 'Version[{#SNMPVALUE},{#SNMPINDEX}]'
              delay: '86400'
              history: 7d
              trends: '0'
              value_type: CHAR
              tags:
                - tag: Application
                  value: 主板信息
          graph_prototypes:
            - uuid: 0db05f328f4f49f5aee528e86bd80cdb
              name: '{#SNMPINDEX}CPU/内存使用率'
              graph_items:
                - color: 1A7C11
                  item:
                    host: 'LW_Template SNMP H3C Network with Optical General'
                    key: 'CPUUsage[{#SNMPVALUE},{#SNMPINDEX}]'
                - sortorder: '1'
                  color: F63100
                  item:
                    host: 'LW_Template SNMP H3C Network with Optical General'
                    key: 'MemoryUsage[{#SNMPVALUE},{#SNMPINDEX}]'
        - uuid: a250e23171ec4ec0b2fc0dd0bf1697cf
          name: 光模块
          type: SNMP_AGENT
          snmp_oid: 'discovery[{#SNMPVALUE},ifDescr,{#SNMPTEM},SNMPv2-SMI::enterprises.25506.2.70.1.1.1.15]'
          key: Optical
          delay: '300'
          filter:
            conditions:
              - macro: '{#SNMPTEM}'
                value: '(^[1-9]$)|(^[0-9]{2}$)'
                formulaid: A
          lifetime: 3d
          description: |
            获取光模块序列号：
            1: hh3cTransceiverSerialNumber.144 (octet string) 21023188888888888888
            说明：节点的索引 144 表示该光模块所在端口索引，参考 MIB 节点 ifDescr，OID：
            1.3.6.1.2.1.2.2.1.2
            67: ifDescr.144 (octet string) GigabitEthernet3/0/46
            [47.69.67.61.62.69.74.45.74.68.65.72.6E.65.74.33.2F.30.2F.34.36 (hex)]
            端口GigabitEthernet3/0/46上光模块序列号为21023188888888888888。
          item_prototypes:
            - uuid: f83ea49a4f3a4a73b110a89ecb0591dc
              name: 'Moudle/[{#SNMPVALUE}]:偏移电流'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.4.1.25506.2.70.1.1.1.17.{#SNMPINDEX}'
              key: 'TransceiverCurrent[{#SNMPVALUE}]'
              delay: '180'
              value_type: FLOAT
              units: A
              preprocessing:
                - type: MULTIPLIER
                  parameters:
                    - '0.001'
              tags:
                - tag: Application
                  value: 光模块性能
            - uuid: 931f78c399624f16ac1f704dbe6930b2
              name: 'Moudle/[{#SNMPVALUE}]:厂商'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.4.1.25506.2.70.1.1.1.4.{#SNMPINDEX}'
              key: 'TransceiverManufacturer[{#SNMPVALUE}]'
              delay: '86400'
              trends: '0'
              value_type: CHAR
              tags:
                - tag: Application
                  value: 光模块信息
            - uuid: d60a82a814e5424191ec04229d8c12d3
              name: 'Moudle/[{#SNMPVALUE}]:最大收光功率'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.4.1.25506.2.70.1.1.1.13.{#SNMPINDEX}'
              key: 'TransceiverMAXRX[{#SNMPVALUE}]'
              delay: '86400'
              value_type: FLOAT
              units: dbM
              description: 负值是以dBm为单位时出现的，负值表示光功率低于1mW，具体计算方法是XdBm=10log（xmW/1mW），功率以w为单位不会出现负值，以dbm为单位则可能出现负值，不是没有功率，而是指功率很低
              preprocessing:
                - type: MULTIPLIER
                  parameters:
                    - '0.01'
              tags:
                - tag: Application
                  value: 光模块信息
            - uuid: 26dcb2ee6a9147b08304e5a15f13c66c
              name: 'Moudle/[{#SNMPVALUE}]:最大发光功率'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.4.1.25506.2.70.1.1.1.10.{#SNMPINDEX}'
              key: 'TransceiverMAXTX[{#SNMPVALUE}]'
              delay: '86400'
              value_type: FLOAT
              units: dbM
              description: 负值是以dBm为单位时出现的，负值表示光功率低于1mW，具体计算方法是XdBm=10log（xmW/1mW），功率以w为单位不会出现负值，以dbm为单位则可能出现负值，不是没有功率，而是指功率很低
              preprocessing:
                - type: MULTIPLIER
                  parameters:
                    - '0.01'
              tags:
                - tag: Application
                  value: 光模块信息
            - uuid: 4ef35e0b0f0040678e6473feb6b037ae
              name: 'Moudle/[{#SNMPVALUE}]:最小收光功率'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.4.1.25506.2.70.1.1.1.14.{#SNMPINDEX}'
              key: 'TransceiverMINRX[{#SNMPVALUE}]'
              delay: '86400'
              value_type: FLOAT
              units: dbM
              description: 负值是以dBm为单位时出现的，负值表示光功率低于1mW，具体计算方法是XdBm=10log（xmW/1mW），功率以w为单位不会出现负值，以dbm为单位则可能出现负值，不是没有功率，而是指功率很低
              preprocessing:
                - type: MULTIPLIER
                  parameters:
                    - '0.01'
              tags:
                - tag: Application
                  value: 光模块信息
            - uuid: 4ee63e99d0934cb9b4d935d33b300bf4
              name: 'Moudle/[{#SNMPVALUE}]:最小发光功率'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.4.1.25506.2.70.1.1.1.11.{#SNMPINDEX}'
              key: 'TransceiverMINTX[{#SNMPVALUE}]'
              delay: '86400'
              value_type: FLOAT
              units: dbM
              description: 负值是以dBm为单位时出现的，负值表示光功率低于1mW，具体计算方法是XdBm=10log（xmW/1mW），功率以w为单位不会出现负值，以dbm为单位则可能出现负值，不是没有功率，而是指功率很低
              preprocessing:
                - type: MULTIPLIER
                  parameters:
                    - '0.01'
              tags:
                - tag: Application
                  value: 光模块信息
            - uuid: d86eb57bc4034af58f9fb32e46838758
              name: 'Moudle/[{#SNMPVALUE}]:模式'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.4.1.25506.2.70.1.1.1.1.{#SNMPINDEX}'
              key: 'TransceiverMode[{#SNMPVALUE}]'
              delay: '86400'
              trends: '0'
              value_type: CHAR
              description: 获取光模块硬件类型，即单模或多模
              tags:
                - tag: Application
                  value: 光模块信息
            - uuid: 260e8d53f3ab4a56bc7e2848f7ef6d59
              name: 'Moudle/[{#SNMPVALUE}]:收光功率'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.4.1.25506.2.70.1.1.1.12.{#SNMPINDEX}'
              key: 'TransceiverRX[{#SNMPVALUE}]'
              delay: '180'
              value_type: FLOAT
              units: dbM
              description: 负值是以dBm为单位时出现的，负值表示光功率低于1mW，具体计算方法是XdBm=10log（xmW/1mW），功率以w为单位不会出现负值，以dbm为单位则可能出现负值，不是没有功率，而是指功率很低
              preprocessing:
                - type: MULTIPLIER
                  parameters:
                    - '0.01'
              tags:
                - tag: Application
                  value: 光模块性能
            - uuid: 79f6b79c645c416cb4b6415845706089
              name: 'Moudle/[{#SNMPVALUE}]:序列号'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.4.1.25506.2.70.1.1.1.5.{#SNMPINDEX}'
              key: 'TransceiverSerial[{#SNMPVALUE}]'
              delay: '86400'
              trends: '0'
              value_type: CHAR
              tags:
                - tag: Application
                  value: 光模块信息
            - uuid: 39ac387b61a04a99a7be52a23110552e
              name: 'Moudle/[{#SNMPVALUE}]:温度'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.4.1.25506.2.70.1.1.1.15.{#SNMPINDEX}'
              key: 'TransceiverTemperature[{#SNMPVALUE}]'
              delay: '180'
              units: ℃
              tags:
                - tag: Application
                  value: 光模块性能
            - uuid: afb56c2eabab469489b9dc848f28ccde
              name: 'Moudle/[{#SNMPVALUE}]:发光功率'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.4.1.25506.2.70.1.1.1.9.{#SNMPINDEX}'
              key: 'TransceiverTX[{#SNMPVALUE}]'
              delay: '180'
              value_type: FLOAT
              units: dbM
              description: 负值是以dBm为单位时出现的，负值表示光功率低于1mW，具体计算方法是XdBm=10log（xmW/1mW），功率以w为单位不会出现负值，以dbm为单位则可能出现负值，不是没有功率，而是指功率很低
              preprocessing:
                - type: MULTIPLIER
                  parameters:
                    - '0.01'
              tags:
                - tag: Application
                  value: 光模块性能
            - uuid: e7ba0d11b5d04dd2a66d3865153c447b
              name: 'Moudle/[{#SNMPVALUE}]:类型'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.4.1.25506.2.70.1.1.1.2.{#SNMPINDEX}'
              key: 'TransceiverType[{#SNMPVALUE}]'
              delay: '86400'
              trends: '0'
              value_type: CHAR
              tags:
                - tag: Application
                  value: 光模块信息
            - uuid: ec97ab2d3fce4d6ea4b0ed4f38fd4db8
              name: 'Moudle/[{#SNMPVALUE}]:电压'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.4.1.25506.2.70.1.1.1.16.{#SNMPINDEX}'
              key: 'TransceiverVoltage[{#SNMPVALUE}]'
              delay: '180'
              value_type: FLOAT
              units: V
              preprocessing:
                - type: MULTIPLIER
                  parameters:
                    - '0.001'
              tags:
                - tag: Application
                  value: 光模块性能
        - uuid: aa65156bd7364462973ecf8d6bcb42f3
          name: 电源
          type: SNMP_AGENT
          snmp_oid: 'discovery[{#SNMPVALUE},1.3.6.1.4.1.25506.8.35.9.1.2.1.2]'
          key: Power
          delay: '300'
          lifetime: 3d
          item_prototypes:
            - uuid: 7dd07d1d202f4010a9da7cce24c3c201
              name: 'Power {#SNMPINDEX} (状态)'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.4.1.25506.8.35.9.1.2.1.2.{#SNMPINDEX}'
              key: 'PowerStatus[{#SNMPINDEX}]'
              delay: '300'
              valuemap:
                name: 华三硬件状态
              preprocessing:
                - type: MULTIPLIER
                  parameters:
                    - '1'
              tags:
                - tag: Application
                  value: 电源
              trigger_prototypes:
                - uuid: 1880481a4a254232b956275359d336a9
                  expression: 'last(/LW_Template SNMP H3C Network with Optical General/PowerStatus[{#SNMPINDEX}])=2'
                  name: '[网络设备]{HOST.NAME}设备电源Power {#SNMPINDEX}异常'
                  priority: HIGH
                  description: |
                    (状态值表示当前状态)
                    1=>表示电源模块状态正常
                    2=>表示电源模块不正常
                    3=>表示该电源模块未插入
                    4=>表示不支持该电源模块
                  manual_close: 'YES'
        - uuid: 4e4f800fbee04478a3d871b5cfa11e1f
          name: 槽位状态
          type: SNMP_AGENT
          snmp_oid: 'discovery[{#SNMPVALUE},SNMPv2-SMI::mib-2.47.1.1.1.1.7,{#SNMPCLASS},SNMPv2-SMI::mib-2.47.1.1.1.1.5]'
          key: SMIStatus
          delay: '300'
          filter:
            conditions:
              - macro: '{#SNMPCLASS}'
                value: (6|7)
                formulaid: A
              - macro: '{#SNMPVALUE}'
                value: '^[^ ]'
                formulaid: B
          lifetime: 3d
          item_prototypes:
            - uuid: 80e2c185694a4d458291a6fdb8def894
              name: '{#SNMPVALUE},{#SNMPINDEX}(状态)'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.4.1.25506.2.6.1.1.1.1.19.{#SNMPINDEX}'
              key: 'HardwareStatus[{#SNMPVALUE},{#SNMPINDEX}]'
              delay: '300'
              valuemap:
                name: 华三实体状态
              tags:
                - tag: Application
                  value: 实体状态
              trigger_prototypes:
                - uuid: a9638f3bb81f41dcbd162a4804c6d889
                  expression: 'last(/LW_Template SNMP H3C Network with Optical General/HardwareStatus[{#SNMPVALUE},{#SNMPINDEX}])>4'
                  name: '[网络设备]{HOST.NAME}设备槽位{#SNMPVALUE}异常'
                  priority: HIGH
                  description: |
                    (状态值表示当前状态)
                    1=>不支持
                    2=>正常
                    3=>提交失败
                    4=>实体缺失
                    11=>值错误
                    21=>堆栈错误
                    22=>堆叠端口阻塞
                    23=>堆叠端口失败
                    31=>sfp接受错误
                    32=>sfp发送错误
                    33=>sfp收发错误
                    41=>风扇错误
                    51=>电源错误
                    61=>rps错误
                    71=>模块故障
                    81=>传感器误差
                    91=>硬件故障
                  manual_close: 'YES'
        - uuid: 6146deace52943a6aa1fc3c3239043b1
          name: 温度
          type: SNMP_AGENT
          snmp_oid: 'discovery[{#SNMPVALUE},SNMPv2-SMI::mib-2.47.1.1.1.1.7,{#SNMPTEM},1.3.6.1.4.1.25506.2.6.1.1.1.1.12]'
          key: Temperature
          delay: '300'
          filter:
            conditions:
              - macro: '{#SNMPTEM}'
                value: '(^[1-9]$)|(^[0-9]{2}$)'
                formulaid: A
          lifetime: 3d
          item_prototypes:
            - uuid: acd3a4309f7149ed8505bc7cedaa5c7a
              name: '{#SNMPVALUE},{#SNMPINDEX}(温度)'
              type: SNMP_AGENT
              snmp_oid: '.1.3.6.1.4.1.25506.2.6.1.1.1.1.12.{#SNMPINDEX}'
              key: 'TemperatureSensor[{#SNMPVALUE},{#SNMPINDEX}]'
              delay: '180'
              units: °C
              tags:
                - tag: Application
                  value: 温度
              trigger_prototypes:
                - uuid: 4813713d25c4473a93ce530ba6973905
                  expression: 'last(/LW_Template SNMP H3C Network with Optical General/TemperatureSensor[{#SNMPVALUE},{#SNMPINDEX}])>65'
                  name: '[网络设备]{HOST.NAME}[{#SNMPVALUE}]温度过高，高于65度'
                  priority: HIGH
                  description: |
                    (状态值表示当前温度)
                    设备温度过高，大于65度
                  manual_close: 'YES'
        - uuid: 63f0c284a18a4758b9b60c4354d9ec9a
          name: 电压
          type: SNMP_AGENT
          snmp_oid: 'discovery[{#SNMPVALUE},SNMPv2-SMI::mib-2.47.1.1.1.1.7,{#SNMPV},1.3.6.1.4.1.25506.2.6.1.1.1.1.14]'
          key: Voltage
          delay: '300'
          filter:
            conditions:
              - macro: '{#SNMPV}'
                value: '(^[1-9]$)|(^[0-9]{2}$)|(^[0-9]{3}$)'
                formulaid: A
          lifetime: 3d
          item_prototypes:
            - uuid: e09f6dc62bf3413bace131aa5d7cd457
              name: '{#SNMPVALUE} (电压值)'
              type: SNMP_AGENT
              snmp_oid: '.1.3.6.1.4.1.25506.2.6.1.1.1.1.14.{#SNMPINDEX}'
              key: 'Voltage[{#SNMPVALUE}]'
              delay: '180'
              units: V
              preprocessing:
                - type: MULTIPLIER
                  parameters:
                    - '0.001'
              tags:
                - tag: Application
                  value: 电压
      valuemaps:
        - uuid: 4761f22da6a04a51bf94d3b3d3f1ce80
          name: 华三实体状态
          mappings:
            - value: '1'
              newvalue: notSupported
            - value: '2'
              newvalue: normal
            - value: '3'
              newvalue: postFailure
            - value: '4'
              newvalue: entityAbsent
            - value: '11'
              newvalue: poeError
            - value: '21'
              newvalue: stackError
            - value: '22'
              newvalue: stackPortBlocked
            - value: '23'
              newvalue: stackPortFailed
            - value: '31'
              newvalue: sfpRecvError
            - value: '32'
              newvalue: sfpSendError
            - value: '33'
              newvalue: sfpBothError
            - value: '41'
              newvalue: fanError
            - value: '51'
              newvalue: psuError
            - value: '61'
              newvalue: rpsError
            - value: '71'
              newvalue: moduleFaulty
            - value: '81'
              newvalue: sensorError
            - value: '91'
              newvalue: hardwareFaulty
        - uuid: f5be2880ead74f10907900c19e5d7678
          name: 华三硬件状态
          mappings:
            - value: '1'
              newvalue: active
            - value: '2'
              newvalue: deactive
            - value: '3'
              newvalue: not-install
            - value: '4'
              newvalue: unsupport
  triggers:
    - uuid: f5b768b883f6457387320026a383457a
      expression: 'max(/LW_Template SNMP H3C Network with Optical General/icmpping[,2,,,],3m)=0 and nodata(/LW_Template SNMP H3C Network with Optical General/sysUpTime,3m)=1'
      recovery_mode: RECOVERY_EXPRESSION
      recovery_expression: 'min(/LW_Template SNMP H3C Network with Optical General/icmpping[,2,,,],3m)=1 and nodata(/LW_Template SNMP H3C Network with Optical General/sysUpTime,2m)=0'
      name: '[网络设备]{HOST.NAME}失联,持续3分钟未响应'
      priority: HIGH
      description: |
        状态值1为系统持续运行时间和ICMP探测状态（1为通，0为断）
        状态值2为BMC运行时间
      manual_close: 'YES'
    - uuid: 732abec9c58c41a19ff0fe466eb8b599
      expression: 'change(/LW_Template SNMP H3C Network with Optical General/sysUpTime)<0 and last(/LW_Template SNMP H3C Network with Optical General/sysUpTime)<1800 and avg(/LW_Template SNMP H3C Network with Optical General/icmpping[,2,,,],2m)<1'
      name: '[网络设备]{HOST.NAME}设备刚发生重启'
      priority: HIGH
      description: |
        (当前状态值为系统持续运行时间)
        主机采集到的系统运行时间突然减少重置，当系统运行时间正常递增，则恢复告警，该值在设备连续运行未超过300多天时可以当作设备运行时间，当超过300多天根据型号不同，计数器会自动重置为0重新计算时间
      manual_close: 'YES'
